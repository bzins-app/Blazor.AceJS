(function(){function o(r){var u=t;r&&(t[r]||(t[r]={}),u=t[r]);u.define&&u.define.packaged||(n.original=u.define,u.define=n,u.define.packaged=!0);u.require&&u.require.packaged||(i.original=u.require,u.require=i,u.require.packaged=!0)}var u="ace",t=function(){return this}(),n;if(t||typeof window=="undefined"||(t=window),u||typeof requirejs=="undefined"){n=function(t,i,r){if(typeof t!="string"){n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i);n.modules[t]||(n.payloads[t]=r,n.modules[t]=null)};n.modules={};n.payloads={};var f=function(n,t,r){var f,o,u,h,s;if(typeof t=="string"){if(f=e(n,t),f!=undefined)return r&&r(),f}else if(Object.prototype.toString.call(t)==="[object Array]"){for(o=[],u=0,h=t.length;u<h;++u){if(s=e(n,t[u]),s==undefined&&i.original)return;o.push(s)}return r&&r.apply(null,o)||!0}},i=function(n,t){var r=f("",n,t);return r==undefined&&i.original?i.original.apply(this,arguments):r},r=function(n,t){var i,u,f;if(t.indexOf("!")!==-1)return i=t.split("!"),r(n,i[0])+"!"+r(n,i[1]);if(t.charAt(0)==".")for(u=n.split("/").slice(0,-1).join("/"),t=u+"/"+t;t.indexOf(".")!==-1&&f!=t;)f=t,t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");return t},e=function(t,i){var u;if(i=r(t,i),u=n.modules[i],!u){if(u=n.payloads[i],typeof u=="function"){var e={},o={id:i,uri:"",exports:e,packaged:!0},s=function(n,t){return f(i,n,t)},h=u(s,e,o);e=h||o.exports;n.modules[i]=e;delete n.payloads[i]}u=n.modules[i]=e||u}return u};o(u)}})();ace.define("ace/lib/es6-shim",["require","exports","module"],function(){function n(n,t,i){Object.defineProperty(n,t,{value:i,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||n(String.prototype,"startsWith",function(n,t){return t=t||0,this.lastIndexOf(n,t)===t});String.prototype.endsWith||n(String.prototype,"endsWith",function(n,t){var i=this,r;return(t===undefined||t>i.length)&&(t=i.length),t-=n.length,r=i.indexOf(n,t),r!==-1&&r===t});String.prototype.repeat||n(String.prototype,"repeat",function(n){for(var i="",t=this;n>0;)n&1&&(i+=t),(n>>=1)&&(t+=t);return i});String.prototype.includes||n(String.prototype,"includes",function(n,t){return this.indexOf(n,t)!=-1});Object.assign||(Object.assign=function(n){var r,i,t;if(n===undefined||n===null)throw new TypeError("Cannot convert undefined or null to object");for(r=Object(n),i=1;i<arguments.length;i++)t=arguments[i],t!==undefined&&t!==null&&Object.keys(t).forEach(function(n){r[n]=t[n]});return r});Object.values||(Object.values=function(n){return Object.keys(n).map(function(t){return n[t]})});Array.prototype.find||n(Array.prototype,"find",function(n){for(var i,r=this.length,u=arguments[1],t=0;t<r;t++)if(i=this[t],n.call(u,i,t,this))return i});Array.prototype.findIndex||n(Array.prototype,"findIndex",function(n){for(var i,r=this.length,u=arguments[1],t=0;t<r;t++)if(i=this[t],n.call(u,i,t,this))return t});Array.prototype.includes||n(Array.prototype,"includes",function(n,t){return this.indexOf(n,t)!=-1});Array.prototype.fill||n(Array.prototype,"fill",function(n){for(var i=this,t=i.length>>>0,o=arguments[1],r=o>>0,u=r<0?Math.max(t+r,0):Math.min(r,t),e=arguments[2],f=e===undefined?t:e>>0,s=f<0?Math.max(t+f,0):Math.min(f,t);u<s;)i[u]=n,u++;return i});Array.of||n(Array,"of",function(){return Array.prototype.slice.call(arguments)})});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n){"use strict";n("./es6-shim")});ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,t){t.deepCopy=function i(n){var r,t;if(typeof n!="object"||!n)return n;if(Array.isArray(n)){for(r=[],t=0;t<n.length;t++)r[t]=i(n[t]);return r}if(Object.prototype.toString.call(n)!=="[object Object]")return n;r={};for(t in n)r[t]=i(n[t]);return r}});ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,t){"use strict";t.last=function(n){return n[n.length-1]};t.stringReverse=function(n){return n.split("").reverse().join("")};t.stringRepeat=function(n,t){for(var i="";t>0;)t&1&&(i+=n),(t>>=1)&&(n+=n);return i};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(n){return n.replace(i,"")};t.stringTrimRight=function(n){return n.replace(r,"")};t.copyObject=function(n){var t={};for(var i in n)t[i]=n[i];return t};t.copyArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=n[t]&&typeof n[t]=="object"?this.copyObject(n[t]):n[t];return i};t.deepCopy=n("./deep_copy").deepCopy;t.arrayToMap=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=1;return i};t.createMap=function(n){var t=Object.create(null);for(var i in n)t[i]=n[i];return t};t.arrayRemove=function(n,t){for(var i=0;i<=n.length;i++)t===n[i]&&n.splice(i,1)};t.escapeRegExp=function(n){return n.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};t.escapeHTML=function(n){return(""+n).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};t.getMatchOffsets=function(n,t){var i=[];return n.replace(t,function(n){i.push({offset:arguments[arguments.length-2],length:n.length})}),i};t.deferredCall=function(n){var i=null,r=function(){i=null;n()},t=function(n){return t.cancel(),i=setTimeout(r,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),n(),t},t.cancel=function(){return clearTimeout(i),i=null,t},t.isPending=function(){return i},t};t.delayedCall=function(n,t){var i=null,u=function(){i=null;n()},r=function(n){i==null&&(i=setTimeout(u,n||t))};return r.delay=function(n){i&&clearTimeout(i);i=setTimeout(u,n||t)},r.schedule=r,r.call=function(){this.cancel();n()},r.cancel=function(){i&&clearTimeout(i);i=null},r.isPending=function(){return i},r};t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(n){return!1}return!0};t.skipEmptyMatch=function(n,t,i){return i&&n.codePointAt(t)>65535?2:1}});ace.define("ace/lib/useragent",["require","exports","module"],function(n,t){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r=typeof navigator=="object"?navigator:{},u=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),i=r.userAgent||"",f=r.appName||"";t.isWin=u=="win";t.isMac=u=="mac";t.isLinux=u=="linux";t.isIE=f=="Microsoft Internet Explorer"||f.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);t.isOldIE=t.isIE&&t.isIE<9;t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/);t.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]";t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined;t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined;t.isSafari=parseFloat(i.split(" Safari/")[1])&&!t.isChrome||undefined;t.isEdge=parseFloat(i.split(" Edge/")[1])||undefined;t.isAIR=i.indexOf("AdobeAIR")>=0;t.isAndroid=i.indexOf("Android")>=0;t.isChromeOS=i.indexOf(" CrOS ")>=0;t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream;t.isIOS&&(t.isMac=!0);t.isMobile=t.isIOS||t.isAndroid});ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,t){"use strict";function o(){var n=i;i=null;n&&n.forEach(function(n){s(n[0],n[1])})}function s(n,r,u){var f,s,h;if(typeof document!="undefined"){if(i)if(u)o();else if(u===!1)return i.push([n,r]);if(!e){if(f=u,u&&u.getRootNode?(f=u.getRootNode(),f&&f!=u||(f=document)):f=document,s=f.ownerDocument||f,r&&t.hasCssString(r,f))return null;r&&(n+="\n/*# sourceURL=ace/css/"+r+" */");h=t.createElement("style");h.appendChild(s.createTextNode(n));r&&(h.id=r);f==s&&(f=t.getDocumentHead(s));f.insertBefore(h,f.firstChild)}}}var u=n("./useragent"),h="http://www.w3.org/1999/xhtml",e,i,r;t.buildDom=function f(n,t,i){var o,s,h,r;if(typeof n=="string"&&n)return o=document.createTextNode(n),t&&t.appendChild(o),o;if(!Array.isArray(n))return n&&n.appendChild&&t&&t.appendChild(n),n;if(typeof n[0]!="string"||!n[0]){for(s=[],r=0;r<n.length;r++)h=f(n[r],t,i),h&&s.push(h);return s}var u=document.createElement(n[0]),e=n[1],c=1;for(e&&typeof e=="object"&&!Array.isArray(e)&&(c=2),r=c;r<n.length;r++)f(n[r],u,i);return c==2&&Object.keys(e).forEach(function(n){var t=e[n];n==="class"?u.className=Array.isArray(t)?t.join(" "):t:typeof t=="function"||n=="value"||n[0]=="$"?u[n]=t:n==="ref"?i&&(i[t]=u):n==="style"?typeof t=="string"&&(u.style.cssText=t):t!=null&&u.setAttribute(n,t)}),t&&t.appendChild(u),u};t.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement};t.createElement=function(n,t){return document.createElementNS?document.createElementNS(t||h,n):document.createElement(n)};t.removeChildren=function(n){n.innerHTML=""};t.createTextNode=function(n,t){var i=t?t.ownerDocument:document;return i.createTextNode(n)};t.createFragment=function(n){var t=n?n.ownerDocument:document;return t.createDocumentFragment()};t.hasCssClass=function(n,t){var i=(n.className+"").split(/\s+/g);return i.indexOf(t)!==-1};t.addCssClass=function(n,i){t.hasCssClass(n,i)||(n.className+=" "+i)};t.removeCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r;;){if(r=i.indexOf(t),r==-1)break;i.splice(r,1)}n.className=i.join(" ")};t.toggleCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r=!0,u;;){if(u=i.indexOf(t),u==-1)break;r=!1;i.splice(u,1)}return r&&i.push(t),n.className=i.join(" "),r};t.setCssClass=function(n,i,r){r?t.addCssClass(n,i):t.removeCssClass(n,i)};t.hasCssString=function(n,t){var r=0,i;if(t=t||document,i=t.querySelectorAll("style"))while(r<i.length)if(i[r++].id===n)return!0};t.removeElementById=function(n,t){t=t||document;t.getElementById(n)&&t.getElementById(n).remove()};i=[];t.useStrictCSP=function(n){e=n;n==!1?o():i||(i=[])};t.importCssString=s;t.importCssStylsheet=function(n,i){t.buildDom(["link",{rel:"stylesheet",href:n}],t.getDocumentHead(i))};t.scrollbarWidth=function(n){var r=t.createElement("ace_inner"),u,i,f,o,e;return(r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block",u=t.createElement("ace_outer"),i=u.style,i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",u.appendChild(r),f=n&&n.documentElement||document&&document.documentElement,!f)?0:(f.appendChild(u),o=r.offsetWidth,i.overflow="scroll",e=r.offsetWidth,o===e&&(e=u.clientWidth),f.removeChild(u),o-e)};t.computedStyle=function(n){return window.getComputedStyle(n,"")||{}};t.setStyle=function(n,t,i){n[t]!==i&&(n[t]=i)};t.HAS_CSS_ANIMATION=!1;t.HAS_CSS_TRANSFORMS=!1;t.HI_DPI=u.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0;u.isChromeOS&&(t.HI_DPI=!1);typeof document!="undefined"&&(r=document.createElement("div"),t.HI_DPI&&r.style.transform!==undefined&&(t.HAS_CSS_TRANSFORMS=!0),u.isEdge||typeof r.style.animationName=="undefined"||(t.HAS_CSS_ANIMATION=!0),r=null);t.translate=t.HAS_CSS_TRANSFORMS?function(n,t,i){n.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:function(n,t,i){n.style.top=Math.round(i)+"px";n.style.left=Math.round(t)+"px"}});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,t){
/*
 * based on code from:
 *
 * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
"use strict";var i=n("./dom");t.get=function(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.onreadystatechange=function(){i.readyState===4&&t(i.responseText)};i.send(null)};t.loadScript=function(n,t){var u=i.getDocumentHead(),r=document.createElement("script");r.src=n;u.appendChild(r);r.onload=r.onreadystatechange=function(n,i){(i||!r.readyState||r.readyState=="loaded"||r.readyState=="complete")&&(r=r.onload=r.onreadystatechange=null,i||t())}};t.qualifyURL=function(n){var t=document.createElement("a");return t.href=n,t.href}});ace.define("ace/lib/oop",["require","exports","module"],function(n,t){"use strict";t.inherits=function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})};t.mixin=function(n,t){for(var i in t)n[i]=t[i];return n};t.implement=function(n,i){t.mixin(n,i)}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,t){"use strict";var i={},r=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(n,t){var i,f,e;if(this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={}),i=this._eventRegistry[n]||[],f=this._defaultHandlers[n],i.length||f){for(typeof t=="object"&&t||(t={}),t.type||(t.type=n),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=u),i=i.slice(),e=0;e<i.length;e++)if(i[e](t,this),t.propagationStopped)break;if(f&&!t.defaultPrevented)return f(t,this)}};i._signal=function(n,t){var i=(this._eventRegistry||{})[n],r;if(i)for(i=i.slice(),r=0;r<i.length;r++)i[r](t,this)};i.once=function(n,t){var i=this;this.on(n,function r(){i.off(n,r);t.apply(null,arguments)});if(!t)return new Promise(function(n){t=n})};i.setDefaultHandler=function(n,t){var i=this._defaultHandlers,f,r,u;i||(i=this._defaultHandlers={_disabled_:{}});i[n]&&(f=i[n],r=i._disabled_[n],r||(i._disabled_[n]=r=[]),r.push(f),u=r.indexOf(t),u!=-1&&r.splice(u,1));i[n]=t};i.removeDefaultHandler=function(n,t){var r=this._defaultHandlers,i,u;r&&(i=r._disabled_[n],r[n]==t?i&&this.setDefaultHandler(n,i.pop()):i&&(u=i.indexOf(t),u!=-1&&i.splice(u,1)))};i.on=i.addEventListener=function(n,t,i){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[n];return r||(r=this._eventRegistry[n]=[]),r.indexOf(t)==-1&&r[i?"unshift":"push"](t),t};i.off=i.removeListener=i.removeEventListener=function(n,t){var i,r;(this._eventRegistry=this._eventRegistry||{},i=this._eventRegistry[n],i)&&(r=i.indexOf(t),r!==-1&&i.splice(r,1))};i.removeAllListeners=function(n){n||(this._eventRegistry=this._defaultHandlers=undefined);this._eventRegistry&&(this._eventRegistry[n]=undefined);this._defaultHandlers&&(this._defaultHandlers[n]=undefined)};t.EventEmitter=i});ace.define("ace/lib/report_error",["require","exports","module"],function(n,t){t.reportError=function(n,t){var i=new Error(n);i.data=t;typeof console=="object"&&console.error&&console.error(i);setTimeout(function(){throw i;})}});ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,t){t.defaultEnglishMessages={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"}});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,t){"no use strict";function r(){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}var e=n("./oop"),o=n("./event_emitter").EventEmitter,s=n("./report_error").reportError,h=n("./default_english_messages").defaultEnglishMessages,c={setOptions:function(n){Object.keys(n).forEach(function(t){this.setOption(t,n[t])},this)},getOptions:function(n){var t={},i;return n?Array.isArray(n)||(t=n,n=Object.keys(t)):(i=this.$options,n=Object.keys(i).filter(function(n){return!i[n].hidden})),n.forEach(function(n){t[n]=this.getOption(n)},this),t},setOption:function(n,t){if(this["$"+n]!==t){var i=this.$options[n];if(!i)return r('misspelled option "'+n+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(n,t);i.handlesSet||(this["$"+n]=t);i&&i.set&&i.set.call(this,t)}},getOption:function(n){var t=this.$options[n];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(n):t&&t.get?t.get.call(this):this["$"+n]:r('misspelled option "'+n+'"')}},i,u,f=function(){function n(){this.$defaultOptions={};i=h;u="dollarSigns"}return n.prototype.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var r=i[t];typeof r=="string"&&(r={forwardTo:r});r.name||(r.name=t);n.$options[r.name]=r;"initialValue"in r&&(n["$"+r.name]=r.initialValue)}),e.implement(n,c),this},n.prototype.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var i=n.$options[t];"value"in i&&n.setOption(t,i.value)})},n.prototype.setDefaultValue=function(n,t,i){if(!n){for(n in this.$defaultOptions)if(this.$defaultOptions[n][t])break;if(!this.$defaultOptions[n][t])return!1}var r=this.$defaultOptions[n]||(this.$defaultOptions[n]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,i):r[t].value=i)},n.prototype.setDefaultValues=function(n,t){Object.keys(t).forEach(function(i){this.setDefaultValue(n,i,t[i])},this)},n.prototype.setMessages=function(n,t){i=n;t&&t.placeholders&&(u=t.placeholders)},n.prototype.nls=function(n,t,f){i[n]||(r("No message found for the key '"+n+"' in the provided messages, trying to find a translation for the default string '"+t+"'."),i[t]||r("No message found for the default string '"+t+"' in the provided messages. Falling back to the default English message."));var e=i[n]||i[t]||t;return f&&(u==="dollarSigns"&&(e=e.replace(/\$(\$|[\d]+)/g,function(n,t){return t=="$"?"$":f[t]})),u==="curlyBrackets"&&(e=e.replace(/\{([^\}]+)\}/g,function(n,t){return f[t]}))),e},n}();f.prototype.warn=r;f.prototype.reportError=s;e.implement(f.prototype,o);t.AppConfig=f});ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,t,i){i.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'});ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,t){"use strict";t.isDark=!1;t.cssClass="ace-tm";t.cssText=n("./textmate-css");t.$id="ace/theme/textmate";var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass,!1)});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,t,i){"no use strict";var o=n("./lib/lang"),s=n("./lib/net"),h=n("./lib/dom"),c=n("./lib/app_config").AppConfig,r,e,u,f;i.exports=t=new c;r={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"._content/Blazor.AceEditorJs/ace/",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(n){if(!r.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return r[n]};t.set=function(n,t){if(r.hasOwnProperty(n))r[n]=t;else if(this.setDefaultValue("",n,t)==!1)throw new Error("Unknown config key: "+n);n=="useStrictCSP"&&h.useStrictCSP(t)};t.all=function(){return o.copyObject(r)};t.$modes={};t.moduleUrl=function(n,t){var i,e,u,o,f;return r.$moduleUrls[n]?r.$moduleUrls[n]:(i=n.split("/"),t=t||i[i.length-2]||"",e=t=="snippets"?"/":"-",u=i[i.length-1],t=="worker"&&e=="-"&&(o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),u=u.replace(o,"")),(!u||u==t)&&i.length>1&&(u=i[i.length-2]),f=r[t+"Path"],f==null?f=r.basePath:e=="/"&&(t=e=""),f&&f.slice(-1)!="/"&&(f+="/"),"_content/Blazor.AceEditorJs/ace/"+t+e+u+this.get("suffix"))};t.setModuleUrl=function(n,t){return r.$moduleUrls[n]=t};e=function(t,i){if(t==="ace/theme/textmate"||t==="./theme/textmate")return i(null,n("./theme/textmate"));if(u)return u(t,i);console.error("loader is not configured")};t.setLoader=function(n){u=n};t.dynamicModules=Object.create(null);t.$loading={};t.$loaded={};t.loadModule=function(n,i){var o,h,r,u;if(Array.isArray(n)?(h=n[0],r=n[1]):typeof n=="string"&&(r=n),u=function(n){if(n&&!t.$loading[r])return i&&i(n);if(t.$loading[r]||(t.$loading[r]=[]),t.$loading[r].push(i),!(t.$loading[r].length>1)){var u=function(){e(r,function(n,i){i&&(t.$loaded[r]=i);t._emit("load.module",{name:r,module:i});var u=t.$loading[r];t.$loading[r]=null;u.forEach(function(n){n&&n(i)})})};if(!t.get("packaged"))return u();s.loadScript(t.moduleUrl(r,h),u);f()}},t.dynamicModules[r])t.dynamicModules[r]().then(function(n){n.default?u(n.default):u(n)});else{try{o=this.$require(r)}catch(c){}u(o||t.$loaded[r])}};t.$require=function(n){if(typeof i.require=="function")return i["require"](n)};t.setModuleLoader=function(n,i){t.dynamicModules[n]=i};f=function(){r.basePath||r.workerPath||r.modePath||r.themePath||Object.keys(r.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),f=function(){})};t.version="1.36.2"});ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,t,i){"use strict";function f(t){var y,h,c,p,w,l,k,a,b,v;if(u&&u.document){r.set("packaged",t||n.packaged||i.packaged||u.define&&define.packaged);var f={},s="",o=document.currentScript||document._currentScript,d=o&&o.ownerDocument||document;for(o&&o.src&&(s=o.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||""),y=d.getElementsByTagName("script"),h=0;h<y.length;h++)if(c=y[h],p=c.src||c.getAttribute("src"),p){for(w=c.attributes,l=0,k=w.length;l<k;l++)a=w[l],a.name.indexOf("data-ace-")===0&&(f[e(a.name.replace(/^data-ace-/,""))]=a.value);b=p.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);b&&(s=b[1])}s&&(f.base=f.base||s,f.packaged=!0);f.basePath=f.base;f.workerPath=f.workerPath||f.base;f.modePath=f.modePath||f.base;f.themePath=f.themePath||f.base;delete f.base;for(v in f)typeof f[v]!="undefined"&&r.set(v,f[v])}}function e(n){return n.replace(/-(.)/g,function(n,t){return t.toUpperCase()})}var r,u;n("./lib/fixoldbrowsers");r=n("./config");r.setLoader(function(t,i){n([t],function(n){i(null,n)})});u=function(){return this||typeof window!="undefined"&&window}();i.exports=function(t){r.init=f;r.$require=n;t.require=n;typeof define=="function"&&(t.define=define)};f(!0)});ace.define("ace/range",["require","exports","module"],function(n,t){"use strict";var i=function(){function n(n,t,i,r){this.start={row:n,column:t};this.end={row:i,column:r}}return n.prototype.isEqual=function(n){return this.start.row===n.start.row&&this.end.row===n.end.row&&this.start.column===n.start.column&&this.end.column===n.end.column},n.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},n.prototype.contains=function(n,t){return this.compare(n,t)==0},n.prototype.compareRange=function(n){var t,r=n.end,i=n.start;return t=this.compare(r.row,r.column),t==1?(t=this.compare(i.row,i.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(i.row,i.column),t==-1?-1:t==1?42:0)},n.prototype.comparePoint=function(n){return this.compare(n.row,n.column)},n.prototype.containsRange=function(n){return this.comparePoint(n.start)==0&&this.comparePoint(n.end)==0},n.prototype.intersects=function(n){var t=this.compareRange(n);return t==-1||t==0||t==1},n.prototype.isEnd=function(n,t){return this.end.row==n&&this.end.column==t},n.prototype.isStart=function(n,t){return this.start.row==n&&this.start.column==t},n.prototype.setStart=function(n,t){typeof n=="object"?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=t)},n.prototype.setEnd=function(n,t){typeof n=="object"?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=t)},n.prototype.inside=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)||this.isStart(n,t)?!1:!0:!1},n.prototype.insideStart=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)?!1:!0:!1},n.prototype.insideEnd=function(n,t){return this.compare(n,t)==0?this.isStart(n,t)?!1:!0:!1},n.prototype.compare=function(n,t){return!this.isMultiLine()&&n===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:n<this.start.row?-1:n>this.end.row?1:this.start.row===n?t>=this.start.column?0:-1:this.end.row===n?t<=this.end.column?0:1:0},n.prototype.compareStart=function(n,t){return this.start.row==n&&this.start.column==t?-1:this.compare(n,t)},n.prototype.compareEnd=function(n,t){return this.end.row==n&&this.end.column==t?1:this.compare(n,t)},n.prototype.compareInside=function(n,t){return this.end.row==n&&this.end.column==t?1:this.start.row==n&&this.start.column==t?-1:this.compare(n,t)},n.prototype.clipRows=function(t,i){var r,u;return this.end.row>i?r={row:i+1,column:0}:this.end.row<t&&(r={row:t,column:0}),this.start.row>i?u={row:i+1,column:0}:this.start.row<t&&(u={row:t,column:0}),n.fromPoints(u||this.start,r||this.end)},n.prototype.extend=function(t,i){var r=this.compare(t,i),u,f;return r==0?this:(r==-1?u={row:t,column:i}:f={row:t,column:i},n.fromPoints(u||this.start,f||this.end))},n.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},n.prototype.isMultiLine=function(){return this.start.row!==this.end.row},n.prototype.clone=function(){return n.fromPoints(this.start,this.end)},n.prototype.collapseRows=function(){return this.end.column==0?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},n.prototype.toScreenRange=function(t){var i=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new n(i.row,i.column,r.row,r.column)},n.prototype.moveBy=function(n,t){this.start.row+=n;this.start.column+=t;this.end.row+=n;this.end.column+=t},n}();i.fromPoints=function(n,t){return new i(n.row,n.column,t.row,t.column)};i.comparePoints=function(n,t){return n.row-t.row||n.column-t.column};t.Range=i});ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,t){"use strict";for(var h,c,e,f,s,o=n("./oop"),i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},u={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},r=0;r<10;r++)u["Digit"+r]=48+r,u["Numpad"+r]=96+r,i.PRINTABLE_KEYS[48+r]=""+r,i.FUNCTION_KEYS[96+r]="Numpad"+r;for(r=65;r<91;r++)h=String.fromCharCode(r+32),u["Key"+h.toUpperCase()]=r,i.PRINTABLE_KEYS[r]=h;for(r=1;r<13;r++)u["F"+r]=111+r,i.FUNCTION_KEYS[111+r]="F"+r;c={Shift:16,Control:17,Alt:18,Meta:224};for(e in c)u[e]=u[e+"Left"]=u[e+"Right"]=c[e];t.$codeToKeyCode=u;i.PRINTABLE_KEYS[173]="-";for(f in i.FUNCTION_KEYS)s=i.FUNCTION_KEYS[f].toLowerCase(),i[s]=parseInt(f,10);for(f in i.PRINTABLE_KEYS)s=i.PRINTABLE_KEYS[f].toLowerCase(),i[s]=parseInt(f,10);o.mixin(i,i.MODIFIER_KEYS);o.mixin(i,i.PRINTABLE_KEYS);o.mixin(i,i.FUNCTION_KEYS);i.enter=i["return"];i.escape=i.esc;i.del=i["delete"],function(){for(var t=["cmd","ctrl","alt","shift"],n=Math.pow(2,t.length);n--;)i.KEY_MODS[n]=t.filter(function(t){return n&i.KEY_MODS[t]}).join("-")+"-"}();i.KEY_MODS[0]="";i.KEY_MODS[-1]="input-";o.mixin(t,i);t.default=t;t.keyCodeToString=function(n){var t=i[n];return typeof t!="string"&&(t=String.fromCharCode(n)),t.toLowerCase()}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function y(){o=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return o={passive:!1},!0}})}catch(n){}}function h(){return o==undefined&&y(),o}function c(n,t,i){this.elem=n;this.type=t;this.callback=i}function l(n){return 0|(n.ctrlKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.metaKey?8:0)}function p(n,t,i){var u=l(t),o,h;if(!i&&t.code&&(i=f.$codeToKeyCode[t.code]||i),!e.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(u|=8),r.altGr)if((3&u)!=3)r.altGr=0;else return;(i===18||i===17)&&(o=t.location,i===17&&o===1?r[i]==1&&(s=t.timeStamp):i===18&&u===3&&o===2&&(h=t.timeStamp-s,h<50&&(r.altGr=!0)))}if(i in f.MODIFIER_KEYS&&(i=-1),u||i!==13||t.location!==3||(n(t,u,-i),!t.defaultPrevented)){if(e.isChromeOS&&u&8){if(n(t,u,i),t.defaultPrevented)return;u&=-9}return!u&&!(i in f.FUNCTION_KEYS)&&!(i in f.PRINTABLE_KEYS)?!1:n(t,u,i)}}function a(){r=Object.create(null)}var f=n("./keys"),e=n("./useragent"),r=null,s=0,o,i,u,v;c.prototype.destroy=function(){u(this.elem,this.type,this.callback);this.elem=this.type=this.callback=undefined};i=t.addListener=function(n,t,i,r){n.addEventListener(t,i,h());r&&r.$toDestroy.push(new c(n,t,i))};u=t.removeListener=function(n,t,i){n.removeEventListener(t,i,h())};t.stopEvent=function(n){return t.stopPropagation(n),t.preventDefault(n),!1};t.stopPropagation=function(n){n.stopPropagation&&n.stopPropagation()};t.preventDefault=function(n){n.preventDefault&&n.preventDefault()};t.getButton=function(n){return n.type=="dblclick"?0:n.type=="contextmenu"||e.isMac&&n.ctrlKey&&!n.altKey&&!n.shiftKey?2:n.button};t.capture=function(n,t,r){function e(n){t&&t(n);r&&r(n);u(f,"mousemove",t);u(f,"mouseup",e);u(f,"dragstart",e)}var f=n&&n.ownerDocument||document;return i(f,"mousemove",t),i(f,"mouseup",e),i(f,"dragstart",e),e};t.addMouseWheelListener=function(n,t,r){i(n,"wheel",function(n){var e=.15,i=n.deltaX||0,r=n.deltaY||0,u,f;switch(n.deltaMode){case n.DOM_DELTA_PIXEL:n.wheelX=i*e;n.wheelY=r*e;break;case n.DOM_DELTA_LINE:u=15;n.wheelX=i*u;n.wheelY=r*u;break;case n.DOM_DELTA_PAGE:f=150;n.wheelX=i*f;n.wheelY=r*f}t(n)},r)};t.addMultiMouseDownListener=function(n,r,u,f,o){function v(n){if(t.getButton(n)!==0?s=0:n.detail>1?(s++,s>4&&(s=1)):s=1,e.isIE){var i=Math.abs(n.clientX-c)>5||Math.abs(n.clientY-l)>5;(!h||i)&&(s=1);h&&clearTimeout(h);h=setTimeout(function(){h=null},r[s-1]||600);s==1&&(c=n.clientX,l=n.clientY)}if(n._clicks=s,u[f]("mousedown",n),s>4)s=0;else if(s>1)return u[f](a[s],n)}var s=0,c,l,h,a={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(n)||(n=[n]);n.forEach(function(n){i(n,"mousedown",v,o)})};t.getModifierString=function(n){return f.KEY_MODS[l(n)]};t.addCommandKeyListener=function(n,u,f){var e=null;i(n,"keydown",function(n){r[n.keyCode]=(r[n.keyCode]||0)+1;var t=p(u,n,n.keyCode);return e=n.defaultPrevented,t},f);i(n,"keypress",function(n){e&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)&&(t.stopEvent(n),e=null)},f);i(n,"keyup",function(n){r[n.keyCode]=null},f);r||(a(),i(window,"focus",a))};typeof window=="object"&&window.postMessage&&!e.isOldIE&&(v=1,t.nextTick=function(n,r){r=r||window;var f="zero-timeout-message-"+v++,e=function(i){i.data==f&&(t.stopPropagation(i),u(r,"message",e),n())};i(r,"message",e);r.postMessage(f,"*")});t.$idleBlocked=!1;t.onIdle=function(n,i){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):n()},i)};t.$idleBlockId=null;t.blockIdle=function(n){t.$idleBlockId&&clearTimeout(t.$idleBlockId);t.$idleBlocked=!0;t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},n||100)};t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(n){setTimeout(n,17)}});ace.define("ace/clipboard",["require","exports","module"],function(n,t,i){"use strict";var r;i.exports={lineMode:!1,pasteCancelled:function(){return r&&r>Date.now()-50?!0:r=!1},cancel:function(){r=Date.now()}}});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,t){"use strict";var i=n("../lib/event"),c=n("../config").nls,r=n("../lib/useragent"),s=n("../lib/dom"),a=n("../lib/lang"),v=n("../clipboard"),y=r.isChrome<18,p=r.isIE,w=r.isChrome>63,f=400,u=n("../lib/keys"),h=u.KEY_MODS,e=r.isIOS,b=e?/\s/:/\n/,o=r.isMobile,l;l=function(n,t){function kt(){lt=!0;l.blur();l.focus();lt=!1}function ai(n){n.keyCode==27&&l.value.length<l.selectionStart&&(k||(nt=l.value),g=d=-1,tt());dt()}function vt(){clearTimeout(gt);gt=setTimeout(function(){ot&&(l.style.cssText=ot,ot="");t.renderer.$isMousePressed=!1;t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()},0)}function vi(n,t,i){var r=null,f=!1,e;i.addEventListener("keydown",function(){r&&clearTimeout(r);f=!0},!0);i.addEventListener("keyup",function(){r=setTimeout(function(){f=!1},100)},!0);e=function(){var c,s;if(document.activeElement===i&&!f&&!k&&!t.$mouseHandler.isMousePressed&&!ft){var e=i.selectionStart,r=i.selectionEnd,n=null,o=0;e==0?n=u.up:e==1?n=u.home:r>d&&nt[r]=="\n"?n=u.end:e<g&&nt[e-1]==" "?(n=u.left,o=h.option):e<g||e==g&&d!=g&&e==r?n=u.left:r>d&&nt.slice(0,r).split("\n").length>2?n=u.down:r>d&&nt[r-1]==" "?(n=u.right,o=h.option):(r>d||r==d&&d!=g&&e==r)&&(n=u.right);e!==r&&(o|=h.shift);n&&(c=t.onCommandKey({},o,n),!c&&t.commands&&(n=u.keyCodeToString(n),s=t.commands.findKeyCommand(o,n),s&&t.execCommand(s)),g=e,d=r,tt(""))}};document.addEventListener("selectionchange",e);t.on("destroy",function(){document.removeEventListener("selectionchange",e)})}var l=s.createElement("textarea"),et,wt,tt,dt,gt,yt;l.className="ace_text-input";l.setAttribute("wrap","off");l.setAttribute("autocorrect","off");l.setAttribute("autocapitalize","off");l.setAttribute("spellcheck","false");l.style.opacity="0";n.insertBefore(l,n.firstChild);var ft=!1,pt=!1,k=!1,ct=!1,ot="";o||(l.style.fontSize="1px");var st=!1,lt=!1,nt="",g=0,d=0,ni=0,it=Number.MAX_SAFE_INTEGER,rt=Number.MIN_SAFE_INTEGER,ut=0;try{et=document.activeElement===l}catch(yi){}this.setNumberOfExtraLines=function(n){if(it=Number.MAX_SAFE_INTEGER,rt=Number.MIN_SAFE_INTEGER,n<0){ut=0;return}ut=n};this.setAriaOptions=function(n){var i,r;n.activeDescendant?(l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-autocomplete",n.inline?"both":"list"),l.setAttribute("aria-activedescendant",n.activeDescendant)):(l.setAttribute("aria-haspopup","false"),l.setAttribute("aria-autocomplete","both"),l.removeAttribute("aria-activedescendant"));n.role&&l.setAttribute("role",n.role);n.setLabel&&(l.setAttribute("aria-roledescription",c("text-input.aria-roledescription","editor")),i="",t.$textInputAriaLabel&&(i+="".concat(t.$textInputAriaLabel,", ")),t.session&&(r=t.session.selection.cursor.row,i+=c("text-input.aria-label","Cursor at row $0",[r+1])),l.setAttribute("aria-label",i))};this.setAriaOptions({role:"textbox"});i.addListener(l,"blur",function(n){if(!lt){t.onBlur(n);et=!1}},t);i.addListener(l,"focus",function(n){if(!lt){if(et=!0,r.isEdge)try{if(!document.hasFocus())return}catch(n){}t.onFocus(n);r.isEdge?setTimeout(tt):tt()}},t);this.$focusScroll=!1;this.focus=function(){var u,i,r,n;if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),ot||w||this.$focusScroll=="browser")return l.focus({preventScroll:!0});u=l.style.top;l.style.position="fixed";l.style.top="0px";try{i=l.getBoundingClientRect().top!=0}catch(f){return}if(r=[],i)for(n=l.parentElement;n&&n.nodeType==1;)r.push(n),n.setAttribute("ace_nocontext","true"),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;l.focus({preventScroll:!0});i&&r.forEach(function(n){n.removeAttribute("ace_nocontext")});setTimeout(function(){l.style.position="";l.style.top=="0px"&&(l.style.top=u)},0)};this.blur=function(){l.blur()};this.isFocused=function(){return et};t.on("beforeEndOperation",function(){var n=t.curOp,i=n&&n.command&&n.command.name,r;i!="insertstring"&&(r=i&&(n.docChanged||n.selectionChanged),k&&r&&(nt=l.value="",si()),tt())});wt=function(n,i){for(var u=i,r=1;r<=n-it&&r<2*ut+1;r++)u+=t.session.getLine(n-r).length+1;return u};tt=e?function(n){var u,i,r;et&&(!ft||n)&&!ct&&(n||(n=""),u="\n ab"+n+"cde fg\n",u!=l.value&&(l.value=nt=u),i=4,r=4+(n.length||(t.selection.isEmpty()?0:1)),(g!=i||d!=r)&&l.setSelectionRange(i,r),g=i,d=r)}:function(){var c,s,a,v,h;if(!k&&!ct&&(et||ht)){k=!0;var r=0,i=0,n="";if(t.session){var y=t.selection,u=y.getRange(),e=y.cursor.row;for(e===rt+1?(it=rt+1,rt=it+2*ut):e===it-1?(rt=it-1,it=rt-2*ut):(e<it-1||e>rt+1)&&(it=e>ut?e-ut:0,rt=e>ut?e+ut:2*ut),c=[],s=it;s<=rt;s++)c.push(t.session.getLine(s));n=c.join("\n");r=wt(u.start.row,u.start.column);i=wt(u.end.row,u.end.column);u.start.row<it?(a=t.session.getLine(it-1),r=u.start.row<it-1?0:r,i+=a.length+1,n=a+"\n"+n):u.end.row>rt?(v=t.session.getLine(rt+1),i=u.end.row>rt+1?v.length:u.end.column,i+=n.length+1,n=n+"\n"+v):o&&e>0&&(n="\n"+n,i+=1,r+=1);n.length>f&&(r<f&&i<f?n=n.slice(0,f):(n="\n",r==i?r=i=0:(r=0,i=1)));h=n+"\n\n";h!=nt&&(l.value=nt=h,g=d=h.length)}if(ht&&(g=l.selectionStart,d=l.selectionEnd),d!=i||g!=r||l.selectionEnd!=d)try{l.setSelectionRange(r,i);g=r;d=i}catch(p){}k=!1}};this.resetSelection=tt;et&&t.onFocus();var hi=function(n){return n.selectionStart===0&&n.selectionEnd>=nt.length&&n.value===nt&&nt&&n.selectionEnd!==d},ci=function(){k||(ft?ft=!1:hi(l)?(t.selectAll(),tt()):o&&l.selectionStart!=g&&tt())},ti=null;this.setInputHandler=function(n){ti=n};this.getInputHandler=function(){return ti};var ht=!1,ii=function(n,i){var h,a;if(ht&&(ht=!1),pt){if(tt(),n)t.onPaste(n);return pt=!1,""}for(var v=l.selectionStart,y=l.selectionEnd,e=g,o=nt.length-d,u=n,c=n.length-v,s=n.length-y,f=0;e>0&&nt[f]==n[f];)f++,e--;for(u=u.slice(f),f=1;o>0&&nt.length-f>g-1&&nt[nt.length-f]==n[n.length-f];)f++,o--;if(c-=f-1,s-=f-1,h=u.length-f+1,h<0&&(e=-h,h=0),u=u.slice(0,h),!i&&!u&&!c&&!e&&!o&&!s)return"";if(ct=!0,a=!1,r.isAndroid&&u==". "&&(u="  ",a=!0),(!u||e||o||c||s)&&!st)t.onTextInput(u,{extendLeft:e,extendRight:o,restoreStart:c,restoreEnd:s});else t.onTextInput(u);return ct=!1,nt=n,g=v,d=y,ni=s,a?"\n":u},ri=function(n){if(k)return at();if(n&&n.inputType){if(n.inputType=="historyUndo")return t.execCommand("undo");if(n.inputType=="historyRedo")return t.execCommand("redo")}var i=l.value,r=ii(i,!0);(i.length>f+100||b.test(r)||o&&g<1&&g==d)&&tt()},bt=function(n,t,i){var r=n.clipboardData||window.clipboardData,u;if(r&&!y){u=p||i?"Text":"text/plain";try{return t?r.setData(u,t)!==!1:r.getData(u)}catch(n){if(!i)return bt(n,t,!0)}}},ui=function(n,r){var u=t.getCopyText();if(!u)return i.preventDefault(n);bt(n,u)?(e&&(tt(u),ft=u,setTimeout(function(){ft=!1},10)),r?t.onCut():t.onCopy(),i.preventDefault(n)):(ft=!0,l.value=u,l.select(),setTimeout(function(){ft=!1;tt();r?t.onCut():t.onCopy()}))},fi=function(n){ui(n,!0)},ei=function(n){ui(n,!1)},oi=function(n){var u=bt(n);if(!v.pasteCancelled())if(typeof u=="string"){if(u)t.onPaste(u,n);r.isIE&&setTimeout(tt);i.preventDefault(n)}else l.value="",pt=!0};i.addCommandKeyListener(l,function(n,i,r){if(!k)return t.onCommandKey(n,i,r)},t);i.addListener(l,"select",ci,t);i.addListener(l,"input",ri,t);i.addListener(l,"cut",fi,t);i.addListener(l,"copy",ei,t);i.addListener(l,"paste",oi,t);"oncut"in l&&"oncopy"in l&&"onpaste"in l||i.addListener(n,"keydown",function(n){if((!r.isMac||n.metaKey)&&n.ctrlKey)switch(n.keyCode){case 67:ei(n);break;case 86:oi(n);break;case 88:fi(n)}},t);var li=function(n){if(!k&&t.onCompositionStart&&!t.$readOnly&&(k={},!st)){n.data&&(k.useTextareaForIME=!1);setTimeout(at,0);t._signal("compositionStart");t.on("mousedown",kt);var i=t.getSelectionRange();i.end.row=i.start.row;i.end.column=i.start.column;k.markerRange=i;k.selectionStart=g;t.onCompositionStart(k);k.useTextareaForIME?(nt=l.value="",g=0,d=0):(l.msGetInputContext&&(k.context=l.msGetInputContext()),l.getInputContext&&(k.context=l.getInputContext()))}},at=function(){if(k&&t.onCompositionUpdate&&!t.$readOnly){if(st)return kt();if(k.useTextareaForIME)t.onCompositionUpdate(l.value);else{var n=l.value;ii(n);k.markerRange&&(k.context&&(k.markerRange.start.column=k.selectionStart=k.context.compositionStartOffset),k.markerRange.end.column=k.markerRange.start.column+d-k.selectionStart+ni)}}},si=function(n){t.onCompositionEnd&&!t.$readOnly&&(k=!1,t.onCompositionEnd(),t.off("mousedown",kt),n&&ri())};dt=a.delayedCall(at,50).schedule.bind(null,null);i.addListener(l,"compositionstart",li,t);i.addListener(l,"compositionupdate",at,t);i.addListener(l,"keyup",ai,t);i.addListener(l,"keydown",dt,t);i.addListener(l,"compositionend",si,t);this.getElement=function(){return l};this.setCommandMode=function(n){st=n;l.readOnly=!1};this.setReadOnly=function(n){st||(l.readOnly=n)};this.setCopyWithEmptySelection=function(){};this.onContextMenu=function(n){ht=!0;tt();t._emit("nativecontextmenu",{target:t,domEvent:n});this.moveToMouse(n,!0)};this.moveToMouse=function(n,u){ot||(ot=l.style.cssText);l.style.cssText=(u?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(g+d)*t.renderer.characterWidth*.5+"px;";var f=t.container.getBoundingClientRect(),h=s.computedStyle(t.container),e=f.top+(parseInt(h.borderTopWidth)||0),c=f.left+(parseInt(f.borderLeftWidth)||0),a=f.bottom-e-l.clientHeight-2,o=function(n){s.translate(l,n.clientX-c-2,Math.min(n.clientY-e-2,a))};(o(n),n.type=="mousedown")&&(t.renderer.$isMousePressed=!0,clearTimeout(gt),r.isWin&&i.capture(t.container,o,vt))};this.onContextMenuClose=vt;yt=function(n){t.textInput.onContextMenu(n);vt()};i.addListener(l,"mouseup",yt,t);i.addListener(l,"mousedown",function(n){n.preventDefault();vt()},t);i.addListener(t.renderer.scroller,"contextmenu",yt,t);i.addListener(l,"contextmenu",yt,t);e&&vi(n,t,l);this.destroy=function(){l.parentElement&&l.parentElement.removeChild(l)}};t.TextInput=l;t.$setUserAgentForTests=function(n,t){o=n;e=t}});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,t){"use strict";function o(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}function u(n,t){var i;return i=n.start.row==n.end.row?2*t.column-n.start.column-n.end.column:n.start.row!=n.end.row-1||n.start.column||n.end.column?2*t.row-n.start.row-n.end.row:t.column-4,i<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}var f=n("../lib/useragent"),e=0,r=550,i=function(){function n(n){var t,i;n.$clickSelection=null;t=n.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(n));t.setDefaultHandler("dblclick",this.onDoubleClick.bind(n));t.setDefaultHandler("tripleclick",this.onTripleClick.bind(n));t.setDefaultHandler("quadclick",this.onQuadClick.bind(n));t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){n[t]=this[t]},this);n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange");n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}return n.prototype.onMouseDown=function(n){var o=n.inSelection(),r=n.getDocumentPosition(),t,i,u,e;if(this.mousedownEvent=n,t=this.editor,i=n.getButton(),i!==0){if(u=t.getSelectionRange(),e=u.isEmpty(),(e||i==1)&&t.selection.moveToPosition(r),i==2){t.textInput.onContextMenu(n.domEvent);f.isMozilla||n.preventDefault()}return}if(this.mousedownEvent.time=Date.now(),o&&!t.isFocused()&&(t.focus(),this.$focusTimeout&&!this.$clickSelection&&!t.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(n);return}return this.captureMouse(n),this.startSelect(r,n.domEvent._clicks>1),n.preventDefault()},n.prototype.startSelect=function(n,t){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(n):t||i.selection.moveToPosition(n),t||this.select(),i.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var n,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y),r,f;this.$clickSelection&&(r=this.$clickSelection.comparePoint(i),r==-1?n=this.$clickSelection.end:r==1?n=this.$clickSelection.start:(f=u(this.$clickSelection,i),i=f.cursor,n=f.anchor),t.selection.setSelectionAnchor(n.row,n.column));t.selection.selectToPosition(i);t.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(n){var r,f=this.editor,t=f.renderer.screenToTextCoordinates(this.x,this.y),i=f.selection[n](t.row,t.column),e,o,s;this.$clickSelection&&(e=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end),e==-1&&o<=0?(r=this.$clickSelection.end,(i.end.row!=t.row||i.end.column!=t.column)&&(t=i.start)):o==1&&e>=0?(r=this.$clickSelection.start,(i.start.row!=t.row||i.start.column!=t.column)&&(t=i.end)):e==-1&&o==1?(t=i.end,r=i.start):(s=u(this.$clickSelection,t),t=s.cursor,r=s.anchor),f.selection.setSelectionAnchor(r.row,r.column));f.selection.selectToPosition(t);f.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var n=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(n>e||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(n){var i=n.getDocumentPosition(),r=this.editor,u=r.session,t=u.getBracketRange(i);t?(t.isEmpty()&&(t.start.column--,t.end.column++),this.setState("select")):(t=r.selection.getWordRange(i.row,i.column),this.setState("selectByWords"));this.$clickSelection=t;this.select()},n.prototype.onTripleClick=function(n){var r=n.getDocumentPosition(),i=this.editor,t;this.setState("selectByLines");t=i.getSelectionRange();t.isMultiLine()&&t.contains(r.row,r.column)?(this.$clickSelection=i.selection.getLineRange(t.start.row),this.$clickSelection.end=i.selection.getLineRange(t.end.row).end):this.$clickSelection=i.selection.getLineRange(r.row);this.select()},n.prototype.onQuadClick=function(){var n=this.editor;n.selectAll();this.$clickSelection=n.getSelectionRange();this.setState("selectAll")},n.prototype.onMouseWheel=function(n){var s,h,i,c;if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);s=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var t=this.$lastScroll,u=n.domEvent.timeStamp,f=u-t.t,e=f?n.wheelX/f:t.vx,o=f?n.wheelY/f:t.vy;return f<r&&(e=(e+t.vx)/2,o=(o+t.vy)/2),h=Math.abs(e/o),i=!1,h>=1&&s.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(i=!0),h<=1&&s.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(i=!0),i?t.allowed=u:u-t.allowed<r&&(c=Math.abs(e)<=1.5*Math.abs(t.vx)&&Math.abs(o)<=1.5*Math.abs(t.vy),c?(i=!0,t.allowed=u):t.allowed=0),t.t=u,t.vx=e,t.vy=o,i?(s.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()):void 0}},n}();i.prototype.selectEnd=i.prototype.selectByLinesEnd;i.prototype.selectAllEnd=i.prototype.selectByLinesEnd;i.prototype.selectByWordsEnd=i.prototype.selectByLinesEnd;t.DefaultHandlers=i});ace.define("ace/lib/scroll",["require","exports","module"],function(n,t){t.preventParentScroll=function(n){n.stopPropagation();var t=n.currentTarget,i=t.scrollHeight>t.clientHeight;i||n.preventDefault()}});ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,t){"use strict";var s=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),u=this&&this.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");},f=n("./lib/dom"),a=n("./lib/event"),h=n("./range").Range,c=n("./lib/scroll").preventParentScroll,i="ace_tooltip",e=function(){function n(n){this.isOpen=!1;this.$element=null;this.$parentNode=n}return n.prototype.$init=function(){return this.$element=f.createElement("div"),this.$element.className=i,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},n.prototype.getElement=function(){return this.$element||this.$init()},n.prototype.setText=function(n){this.getElement().textContent=n},n.prototype.setHtml=function(n){this.getElement().innerHTML=n},n.prototype.setPosition=function(n,t){this.getElement().style.left=n+"px";this.getElement().style.top=t+"px"},n.prototype.setClassName=function(n){f.addCssClass(this.getElement(),n)},n.prototype.setTheme=function(n){this.$element.className=i+" "+(n.isDark?"ace_dark ":"")+(n.cssClass||"")},n.prototype.show=function(n,t,i){n!=null&&this.setText(n);t!=null&&i!=null&&this.setPosition(t,i);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},n.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=i,this.isOpen=!1)},n.prototype.getHeight=function(){return this.getElement().offsetHeight},n.prototype.getWidth=function(){return this.getElement().offsetWidth},n.prototype.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},n}(),l=function(){function n(){this.popups=[]}return n.prototype.addPopup=function(n){this.popups.push(n);this.updatePopups()},n.prototype.removePopup=function(n){var t=this.popups.indexOf(n);t!==-1&&(this.popups.splice(t,1),this.updatePopups())},n.prototype.updatePopups=function(){var o,c,f,l,s,i,n,e,h,r,t,a;this.popups.sort(function(n,t){return t.priority-n.priority});s=[];try{for(i=u(this.popups),n=i.next();!n.done;n=i.next()){e=n.value;h=!0;try{for(r=(f=void 0,u(s)),t=r.next();!t.done;t=r.next())if(a=t.value,this.doPopupsOverlap(a,e)){h=!1;break}}catch(v){f={error:v}}finally{try{t&&!t.done&&(l=r.return)&&l.call(r)}finally{if(f)throw f.error;}}h?s.push(e):e.hide()}}catch(y){o={error:y}}finally{try{n&&!n.done&&(c=i.return)&&c.call(i)}finally{if(o)throw o.error;}}},n.prototype.doPopupsOverlap=function(n,t){var i=n.getElement().getBoundingClientRect(),r=t.getElement().getBoundingClientRect();return i.left<r.right&&i.right>r.left&&i.top<r.bottom&&i.bottom>r.top},n}(),r=new l,o;t.popupManager=r;t.Tooltip=e;o=function(n){function t(t){var i,r;return t===void 0&&(t=document.body),i=n.call(this,t)||this,i.timeout=undefined,i.lastT=0,i.idleTime=350,i.lastEvent=undefined,i.onMouseOut=i.onMouseOut.bind(i),i.onMouseMove=i.onMouseMove.bind(i),i.waitForHover=i.waitForHover.bind(i),i.hide=i.hide.bind(i),r=i.getElement(),r.style.whiteSpace="pre-wrap",r.style.pointerEvents="auto",r.addEventListener("mouseout",i.onMouseOut),r.tabIndex=-1,r.addEventListener("blur",function(){r.contains(document.activeElement)||this.hide()}.bind(i)),r.addEventListener("wheel",c),i}return s(t,n),t.prototype.addToEditor=function(n){n.on("mousemove",this.onMouseMove);n.on("mousedown",this.hide);n.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(n){n.off("mousemove",this.onMouseMove);n.off("mousedown",this.hide);n.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0);this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(n,t){var i,r;(this.lastEvent=n,this.lastT=Date.now(),i=t.$mouseHandler.isMousePressed,this.isOpen&&(r=this.lastEvent&&this.lastEvent.getDocumentPosition(),(!this.range||!this.range.contains(r.row,r.column)||i||this.isOutsideOfText(this.lastEvent))&&this.hide()),this.timeout||i)||(this.lastEvent=n,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var n=Date.now()-this.lastT;if(this.idleTime-n>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-n);return}this.timeout=null;this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},t.prototype.isOutsideOfText=function(n){var i=n.editor,t=n.getDocumentPosition(),f=i.session.getLine(t.row),r,u;return t.column==f.length&&(r=i.renderer.pixelToScreenCoordinates(n.clientX,n.clientY),u=i.session.documentToScreenPosition(t.row,t.column),u.column!=r.column||u.row!=r.row)?!0:!1},t.prototype.setDataProvider=function(n){this.$gatherData=n},t.prototype.showForRange=function(n,t,i,u){var l=10,o,e,c,f;if((!u||u==this.lastEvent)&&(!this.isOpen||document.activeElement!=this.getElement())){o=n.renderer;this.isOpen||(r.addPopup(this),this.$registerCloseEvents(),this.setTheme(o.theme));this.isOpen=!0;this.addMarker(t,n.session);this.range=h.fromPoints(t.start,t.end);e=o.textToScreenCoordinates(t.start.row,t.start.column);c=o.scroller.getBoundingClientRect();e.pageX<c.left&&(e.pageX=c.left);f=this.getElement();f.innerHTML="";f.appendChild(i);f.style.maxHeight="";f.style.display="block";var v=f.clientHeight,y=f.clientWidth,a=window.innerHeight-e.pageY-o.lineHeight,s=!0;e.pageY-v<0&&e.pageY<a&&(s=!1);f.style.maxHeight=(s?e.pageY:a)-l+"px";f.style.top=s?"":e.pageY+o.lineHeight+"px";f.style.bottom=s?window.innerHeight-e.pageY+"px":"";f.style.left=Math.min(e.pageX,window.innerWidth-y-l)+"px"}},t.prototype.addMarker=function(n,t){this.marker&&this.$markerSession.removeMarker(this.marker);this.$markerSession=t;this.marker=t&&t.addMarker(n,"ace_highlight-marker","text")},t.prototype.hide=function(n){(n||document.activeElement!=this.getElement())&&(n&&n.target&&(n.type!="keydown"||n.ctrlKey||n.metaKey)&&this.$element.contains(n.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,r.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0);window.addEventListener("wheel",this.hide,!0);window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0);window.removeEventListener("wheel",this.hide,!0);window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(n){(this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen)&&n.relatedTarget&&!this.getElement().contains(n.relatedTarget)&&(n&&n.currentTarget.contains(n.relatedTarget)||n.relatedTarget.classList.contains("ace_content")||this.hide())},t}(e);t.HoverTooltip=o});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(n,t){"use strict";function h(n){function l(){var u=f.getDocumentPosition().row,y=t.session.getLength(),s,i,l,r;if(u==y&&(s=t.renderer.pixelToScreenCoordinates(0,f.y).row,i=f.$pos,s>t.session.documentToScreenRow(i.row,i.column)))return o();if(e.showTooltip(u),e.isOpen){t.on("mousewheel",o);if(n.$tooltipFollowsMouse)h(f);else if(l=f.getGutterRow(),r=c.$lines.get(l),r){var p=r.element.querySelector(".ace_gutter_annotation"),a=p.getBoundingClientRect(),v=e.getElement().style;v.left=a.right+"px";v.top=a.bottom+"px"}else h(f)}}function o(){i&&(i=clearTimeout(i));e.isOpen&&(e.hideTooltip(),t.off("mousewheel",o))}function h(n){e.setPosition(n.x,n.y)}var t=n.editor,c=t.renderer.$gutterLayer,e=new u(t),i,f;n.editor.setDefaultHandler("guttermousedown",function(i){var u,r,f;if(t.isFocused()&&i.getButton()==0&&(u=c.getRegion(i),u!="foldWidgets")){if(r=i.getDocumentPosition().row,f=t.session.selection,i.getShiftKey())f.selectTo(r,0);else{if(i.domEvent.detail==2)return t.selectAll(),i.preventDefault();n.$clickSelection=t.selection.getLineRange(r)}return n.setState("selectByLines"),n.captureMouse(i),i.preventDefault()}});n.editor.setDefaultHandler("guttermousemove",function(t){var u=t.domEvent.target||t.domEvent.srcElement;if(r.hasCssClass(u,"ace_fold-widget"))return o();(e.isOpen&&n.$tooltipFollowsMouse&&h(t),f=t,i)||(i=setTimeout(function(){i=null;f&&!n.isMousePressed?l():o()},50))});s.addListener(t.renderer.$gutter,"mouseout",function(){(f=null,e.isOpen&&!i)&&(i=setTimeout(function(){i=null;o()},50))},t);t.on("changeSession",o);t.on("input",o)}var e=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),o=this&&this.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");},r=n("../lib/dom"),s=n("../lib/event"),f=n("../tooltip").Tooltip,i=n("../config").nls,c=n("../lib/lang"),u;t.GutterHandler=h;u=function(n){function t(t){var i=n.call(this,t.container)||this;return i.editor=t,i}return e(t,n),t.prototype.setPosition=function(n,t){var i=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),u=this.getHeight();n+=15;t+=15;n+r>i&&(n-=n+r-i);t+u>e&&(t-=20+u);f.prototype.setPosition.call(this,n,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:i("gutter-tooltip.aria-label.error.singular","error"),plural:i("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:i("gutter-tooltip.aria-label.security.singular","security finding"),plural:i("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:i("gutter-tooltip.aria-label.warning.singular","warning"),plural:i("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:i("gutter-tooltip.aria-label.info.singular","information message"),plural:i("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:i("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:i("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(n){var b,f=this.editor.renderer.$gutterLayer,v=f.$annotations[n],u,y,p,w,h,c,a,k,o,d,i,l,s,e;if(u=v?{displayText:Array.from(v.displayText),type:Array.from(v.type)}:{displayText:[],type:[]},y=f.session.getFoldLine(n),y&&f.$showFoldedAnnotations){for(p={error:[],security:[],warning:[],info:[],hint:[]},w={error:1,security:2,warning:3,info:4,hint:5},i=n+1;i<=y.end.row;i++)if(f.$annotations[i])for(c=0;c<f.$annotations[i].text.length;c++)a=f.$annotations[i].type[c],p[a].push(f.$annotations[i].text[c]),(!h||w[a]<w[h])&&(h=a);["error","security","warning"].includes(h)&&(k="".concat(t.annotationsToSummaryString(p)," in folded code."),u.displayText.push(k),u.type.push(h+"_fold"))}if(u.displayText.length===0)return this.hide();for(o={error:[],security:[],warning:[],info:[],hint:[]},d=f.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",i=0;i<u.displayText.length;i++)l=r.createElement("span"),s=r.createElement("span"),(b=s.classList).add.apply(b,["ace_".concat(u.type[i]),d]),s.setAttribute("aria-label","".concat(t.annotationLabels[u.type[i].replace("_fold","")].singular)),s.setAttribute("role","img"),s.appendChild(r.createTextNode(" ")),l.appendChild(s),l.appendChild(r.createTextNode(u.displayText[i])),l.appendChild(r.createElement("br")),o[u.type[i].replace("_fold","")].push(l);e=this.getElement();r.removeChildren(e);o.error.forEach(function(n){return e.appendChild(n)});o.security.forEach(function(n){return e.appendChild(n)});o.warning.forEach(function(n){return e.appendChild(n)});o.info.forEach(function(n){return e.appendChild(n)});o.hint.forEach(function(n){return e.appendChild(n)});e.setAttribute("aria-live","polite");this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip"));this.show();this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live");this.hide();this.editor._signal("hideGutterTooltip",this)},t.annotationsToSummaryString=function(n){var f,e,s=[],u,i,r,h;try{for(u=o(["error","security","warning","info","hint"]),i=u.next();!i.done;i=u.next())(r=i.value,n[r].length)&&(h=n[r].length===1?t.annotationLabels[r].singular:t.annotationLabels[r].plural,s.push("".concat(n[r].length," ").concat(h)))}catch(c){f={error:c}}finally{try{i&&!i.done&&(e=u.return)&&e.call(u)}finally{if(f)throw f.error;}}return s.join(", ")},t}(f);t.GutterTooltip=u});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),u=function(){function n(n,t){this.speed;this.wheelX;this.wheelY;this.domEvent=n;this.editor=t;this.x=this.clientX=n.clientX;this.y=this.clientY=n.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=!1;this.defaultPrevented=!1}return n.prototype.stopPropagation=function(){i.stopPropagation(this.domEvent);this.propagationStopped=!0},n.prototype.preventDefault=function(){i.preventDefault(this.domEvent);this.defaultPrevented=!0},n.prototype.stop=function(){this.stopPropagation();this.preventDefault()},n.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},n.prototype.getGutterRow=function(){var n=this.getDocumentPosition().row,t=this.editor.session.documentToScreenRow(n,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return t-i},n.prototype.inSelection=function(){var i,n,t;return this.$inSelection!==null?this.$inSelection:(i=this.editor,n=i.getSelectionRange(),n.isEmpty()?this.$inSelection=!1:(t=this.getDocumentPosition(),this.$inSelection=n.contains(t.row,t.column)),this.$inSelection)},n.prototype.getButton=function(){return i.getButton(this.domEvent)},n.prototype.getShiftKey=function(){return this.domEvent.shiftKey},n.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},n}();t.MouseEvent=u});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function f(n){function ct(n,i){var r=Date.now(),e=!i||n.row!=i.row,o=!i||n.column!=i.column,f;!b||e||o?(t.moveCursorToPosition(n),b=r,it={x:v,y:y}):(f=u(it.x,it.y,v,y),f>h?b=null:r-b>=s&&(t.renderer.scrollCursorIntoView(),b=null))}function lt(n,i){var e=Date.now(),s=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.characterWidth,f=t.renderer.scroller.getBoundingClientRect(),r={x:{left:v-f.left,right:f.right-v},y:{top:y-f.top,bottom:f.bottom-y}},c=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),u={row:n.row,column:n.column};c/h<=2&&(u.column+=r.x.left<r.x.right?-3:2);l/s<=1&&(u.row+=r.y.top<r.y.bottom?-1:1);var a=n.row!=u.row,p=n.column!=u.column,w=!i||n.row!=i.row;a||p&&!w?g?e-g>=o&&t.renderer.scrollCursorIntoView(u):g=e:g=null}function ft(){var n=f;f=t.renderer.screenToTextCoordinates(v,y);ct(f,n);lt(f,n)}function et(){c=t.selection.toOrientedRange();a=t.session.addMarker(c,"ace_selection",t.getSelectionStyle());t.clearSelection();t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1);clearInterval(tt);ft();tt=setInterval(ft,20);p=0;i.addListener(document,"mousemove",ot)}function rt(){clearInterval(tt);t.session.removeMarker(a);a=null;t.selection.fromOrientedRange(c);t.isFocused()&&!nt&&t.$resetCursorStyle();c=null;f=null;p=0;g=null;b=null;i.removeListener(document,"mousemove",ot)}function ot(){k==null&&(k=setTimeout(function(){k!=null&&a&&rt()},20))}function st(n){var t=n.types;return!t||Array.prototype.some.call(t,function(n){return n=="text/plain"||n=="Text"})}function ht(n){var u=["copy","copymove","all","uninitialized"],f=r.isMac?n.altKey:n.ctrlKey,i="uninitialized",t;try{i=n.dataTransfer.effectAllowed.toLowerCase()}catch(n){}return t="none",f&&u.indexOf(i)>=0?t="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?t="move":u.indexOf(i)>=0&&(t="copy"),t}var t=n.editor,d=e.createElement("div"),ut,l,a,v,y,tt,c,f,p,w,nt,g,b,it,k;d.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5";d.textContent="";ut=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ut.forEach(function(t){n[t]=this[t]},this);t.on("mousedown",this.onMouseDown.bind(n));l=t.container;p=0;this.onDragStart=function(n){var r,i;if(this.cancelDrag||!l.draggable)return r=this,setTimeout(function(){r.startSelect();r.captureMouse(n)},0),n.preventDefault();c=t.getSelectionRange();i=n.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove";t.container.appendChild(d);i.setDragImage&&i.setDragImage(d,0,0);setTimeout(function(){t.container.removeChild(d)});i.clearData();i.setData("Text",t.session.getTextRange());nt=!0;this.setState("drag")};this.onDragEnd=function(n){if(l.draggable=!1,nt=!1,this.setState(null),!t.getReadOnly()){var i=n.dataTransfer.dropEffect;w||i!="move"||t.session.remove(t.getSelectionRange());t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(n){if(!t.getReadOnly()&&st(n.dataTransfer))return v=n.clientX,y=n.clientY,a||et(),p++,n.dataTransfer.dropEffect=w=ht(n),i.preventDefault(n)};this.onDragOver=function(n){if(!t.getReadOnly()&&st(n.dataTransfer))return v=n.clientX,y=n.clientY,a||(et(),p++),k!==null&&(k=null),n.dataTransfer.dropEffect=w=ht(n),i.preventDefault(n)};this.onDragLeave=function(n){return p--,p<=0&&a?(rt(),w=null,i.preventDefault(n)):void 0};this.onDrop=function(n){var r,u;if(f){if(r=n.dataTransfer,nt)switch(w){case"move":c=c.contains(f.row,f.column)?{start:f,end:f}:t.moveText(c,f);break;case"copy":c=t.moveText(c,f,!0)}else u=r.getData("Text"),c={start:f,end:t.session.insert(f,u)},t.focus(),w=null;return rt(),i.preventDefault(n)}};i.addListener(l,"dragstart",this.onDragStart.bind(n),t);i.addListener(l,"dragend",this.onDragEnd.bind(n),t);i.addListener(l,"dragenter",this.onDragEnter.bind(n),t);i.addListener(l,"dragover",this.onDragOver.bind(n),t);i.addListener(l,"dragleave",this.onDragLeave.bind(n),t);i.addListener(l,"drop",this.onDrop.bind(n),t);k=null}function u(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}var e=n("../lib/dom"),i=n("../lib/event"),r=n("../lib/useragent"),o=200,s=200,h=5;(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(){this.editor.$resetCursorStyle();this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){var n,t,i;this.cancelDrag=!1;n=this.editor;t=n.container;t.draggable=!0;n.renderer.$cursorLayer.setBlinking(!1);n.setStyle("ace_dragging");i=r.isWin?"default":"move";n.renderer.setCursorStyle(i);this.setState("dragReady")};this.onMouseDrag=function(){var t=this.editor.container,n;r.isIE&&this.state=="dragReady"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>3&&t.dragDrop());this.state==="dragWait"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(n){var t,u;if(this.$dragEnabled){this.mousedownEvent=n;var i=this.editor,f=n.inSelection(),e=n.getButton(),o=n.domEvent.detail||1;if(o===1&&e===0&&f){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();t=n.domEvent.target||n.domEvent.srcElement;"unselectable"in t&&(t.unselectable="on");i.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,u=i.container,u.draggable=!0),this.setState("dragWait")):this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this));n.defaultPrevented=!0}}}}).call(f.prototype);t.DragdropHandler=f});ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,t){"use strict";var r=n("./mouse_event").MouseEvent,i=n("../lib/event"),u=n("../lib/dom");t.addTouchListeners=function(n,t){function nt(){var r=window.navigator&&window.navigator.clipboard,i=!1,s=function(){var f=t.getCopyText(),o=t.session.getUndoManager().hasUndo();e.replaceChild(u.buildDom(i?["span",!f&&n("selectall")&&["span",{"class":"ace_mobile-button",action:"selectall"},"Select All"],f&&n("copy")&&["span",{"class":"ace_mobile-button",action:"copy"},"Copy"],f&&n("cut")&&["span",{"class":"ace_mobile-button",action:"cut"},"Cut"],r&&n("paste")&&["span",{"class":"ace_mobile-button",action:"paste"},"Paste"],o&&n("undo")&&["span",{"class":"ace_mobile-button",action:"undo"},"Undo"],n("find")&&["span",{"class":"ace_mobile-button",action:"find"},"Find"],n("openCommandPalette")&&["span",{"class":"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),e.firstChild)},n=function(n){return t.commands.canExecute(n,t)},o=function(n){var u=n.target.getAttribute("action");if(u=="more"||!i)return i=!i,s();u=="paste"?r.readText().then(function(n){t.execCommand(u,n)}):u&&((u=="cut"||u=="copy")&&(r?r.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(u));e.firstChild.style.display="none";i=!1;u!="openCommandPalette"&&t.focus()};e=u.buildDom(["div",{"class":"ace_mobile-menu",ontouchstart:function(n){f="menu";n.stopPropagation();n.preventDefault();t.textInput.focus()},ontouchend:function(n){n.stopPropagation();n.preventDefault();o(n)},onclick:o},["span"],["span",{"class":"ace_mobile-button",action:"more"},"..."]],t.container)}function g(){if(!t.getOption("enableMobileMenu")){e&&w();return}e||nt();var i=t.selection.cursor,r=t.renderer.textToScreenCoordinates(i.row,i.column),u=t.renderer.textToScreenCoordinates(0,0).pageX,f=t.renderer.scrollLeft,n=t.container.getBoundingClientRect();e.style.top=r.pageY-n.top-3+"px";r.pageX-n.left<n.width-70?(e.style.left="",e.style.right="10px"):(e.style.right="",e.style.left=u+f-n.left+"px");e.style.display="";e.firstChild.style.display="none";t.on("input",w)}function w(){e&&(e.style.display="none");t.off("input",w)}function tt(){o=null;clearTimeout(o);var n=t.selection.getRange(),i=n.contains(h.row,h.column);(n.isEmpty()||!i)&&(t.selection.moveToPosition(h),t.selection.selectWord());f="wait";g()}function it(){o=null;clearTimeout(o);t.selection.moveToPosition(h);var n=k>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);n&&!n.isEmpty()?t.selection.setRange(n):t.selection.selectWord();f="wait"}function rt(){s+=60;a=setInterval(function(){s--<=0&&(clearInterval(a),a=null);Math.abs(c)<.01&&(c=0);Math.abs(l)<.01&&(l=0);s<20&&(c=.9*c);s<20&&(l=.9*l);var n=t.session.getScrollTop();t.renderer.scrollBy(10*c,10*l);n==t.session.getScrollTop()&&(s=0)},10)}var f="scroll",v,y,p,b,o,a,s=0,h,k=0,c=0,l=0,d,e;i.addListener(n,"contextmenu",function(){if(d){var n=t.textInput.getElement();n.focus()}},t);i.addListener(n,"touchstart",function(n){var a=n.touches,ft,u,e;if(o||a.length>1){clearTimeout(o);o=null;p=-1;f="zoom";return}d=t.$mouseHandler.isMousePressed=!0;var g=t.renderer.layerConfig.lineHeight,at=t.renderer.layerConfig.lineHeight,w=n.timeStamp;b=w;var nt=a[0],rt=nt.clientX,ut=nt.clientY;if(Math.abs(v-rt)+Math.abs(y-ut)>g&&(p=-1),v=n.clientX=rt,y=n.clientY=ut,c=l=0,ft=new r(n,t),h=ft.getDocumentPosition(),w-p<500&&a.length==1&&!s)k++,n.preventDefault(),n.button=0,it();else{k=0;var et=t.selection.cursor,vt=t.selection.isEmpty()?et:t.selection.anchor,ot=t.renderer.$cursorLayer.getPixelPosition(et,!0),st=t.renderer.$cursorLayer.getPixelPosition(vt,!0),i=t.renderer.scroller.getBoundingClientRect(),ht=t.renderer.layerConfig.offset,ct=t.renderer.scrollLeft,lt=function(n,t){return n=n/at,t=t/g-.75,n*n+t*t};if(n.clientX<i.left){f="zoom";return}u=lt(n.clientX-i.left-ot.left+ct,n.clientY-i.top-ot.top+ht);e=lt(n.clientX-i.left-st.left+ct,n.clientY-i.top-st.top+ht);u<3.5&&e<3.5&&(f=u>e?"cursor":"anchor");f=e<3.5?"anchor":u<3.5?"cursor":"scroll";o=setTimeout(tt,450)}p=w},t);i.addListener(n,"touchend",function(){d=t.$mouseHandler.isMousePressed=!1;a&&clearInterval(a);f=="zoom"?(f="",s=0):o?(t.selection.moveToPosition(h),s=0,g()):f=="scroll"?(rt(),w()):g();clearTimeout(o);o=null},t);i.addListener(n,"touchmove",function(n){var p,w,a,s,k,h;if(o&&(clearTimeout(o),o=null),p=n.touches,!(p.length>1)&&f!="zoom"){var e=p[0],i=v-e.clientX,u=y-e.clientY;if(f=="wait")if(i*i+u*u>4)f="cursor";else return n.preventDefault();v=e.clientX;y=e.clientY;n.clientX=e.clientX;n.clientY=e.clientY;w=n.timeStamp;a=w-b;b=w;f=="scroll"?(s=new r(n,t),s.speed=1,s.wheelX=i,s.wheelY=u,10*Math.abs(i)<Math.abs(u)&&(i=0),10*Math.abs(u)<Math.abs(i)&&(u=0),a!=0&&(c=i/a,l=u/a),t._emit("mousewheel",s),s.propagationStopped||(c=l=0)):(k=new r(n,t),h=k.getDocumentPosition(),f=="cursor"?t.selection.moveCursorToPosition(h):f=="anchor"&&t.selection.setSelectionAnchor(h.row,h.column),t.renderer.scrollCursorIntoView(h),n.preventDefault())}},t)}});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),e=n("./default_handlers").DefaultHandlers,o=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,s=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,c=n("../config"),f=function(){function n(n){var c,u,f,t;this.$dragDelay;this.$dragEnabled;this.$mouseMoved;this.mouseEvent;this.$focusTimeout;c=this;this.editor=n;new e(this);new o(this);new s(this);u=function(){var t=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());t&&window.focus();n.focus();setTimeout(function(){n.isFocused()||n.focus()})};f=n.renderer.getMouseEventTarget();i.addListener(f,"click",this.onMouseEvent.bind(this,"click"),n);i.addListener(f,"mousemove",this.onMouseMove.bind(this,"mousemove"),n);i.addMultiMouseDownListener([f,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",n);i.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"),n);h(n.container,n);t=n.renderer.$gutter;i.addListener(t,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),n);i.addListener(t,"click",this.onMouseEvent.bind(this,"gutterclick"),n);i.addListener(t,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),n);i.addListener(t,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),n);i.addListener(f,"mousedown",u,n);i.addListener(t,"mousedown",u,n);r.isIE&&n.renderer.scrollBarV&&(i.addListener(n.renderer.scrollBarV.element,"mousedown",u,n),i.addListener(n.renderer.scrollBarH.element,"mousedown",u,n));n.on("mousemove",function(t){if(!c.state&&!c.$dragDelay&&c.$dragEnabled){var i=n.renderer.screenToTextCoordinates(t.x,t.y),r=n.session.selection.getRange(),u=n.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?u.setCursorStyle("default"):u.setCursorStyle("")}},n)}return n.prototype.onMouseEvent=function(n,t){this.editor.session&&this.editor._emit(n,new u(t,this.editor))},n.prototype.onMouseMove=function(n,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(n,new u(t,this.editor))},n.prototype.onMouseWheel=function(n,t){var i=new u(t,this.editor);i.speed=this.$scrollSpeed*2;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)},n.prototype.setState=function(n){this.state=n},n.prototype.captureMouse=function(n,t){var e,o,s,a;this.x=n.x;this.y=n.y;this.isMousePressed=!0;e=this.editor;o=this.editor.renderer;o.$isMousePressed=!0;var f=this,h=function(n){if(n){if(r.isWebKit&&!n.which&&f.releaseMouse)return f.releaseMouse();f.x=n.clientX;f.y=n.clientY;t&&t(n);f.mouseEvent=new u(n,f.editor);f.$mouseMoved=!0}},c=function(n){e.off("beforeEndOperation",s);clearInterval(a);e.session&&l();f[f.state+"End"]&&f[f.state+"End"](n);f.state="";f.isMousePressed=o.$isMousePressed=!1;o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor();f.$onCaptureMouseMove=f.releaseMouse=null;n&&f.onMouseEvent("mouseup",n);e.endOperation()},l=function(){f[f.state]&&f[f.state]();f.$mouseMoved=!1};if(r.isOldIE&&n.domEvent.type=="dblclick")return setTimeout(function(){c(n)});s=function(){f.releaseMouse&&e.curOp.command.name&&e.curOp.selectionChanged&&(f[f.state+"End"]&&f[f.state+"End"](),f.state="",f.releaseMouse())};e.on("beforeEndOperation",s);e.startOperation({command:{name:"mouse"}});f.$onCaptureMouseMove=h;f.releaseMouse=i.capture(this.editor.container,h,c);a=setInterval(l,20)},n.prototype.cancelContextMenu=function(){var n=function(t){t&&t.domEvent&&t.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",n),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(n,10);this.editor.on("nativecontextmenu",n)},n.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},n}();f.prototype.releaseMouse=null;c.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});t.MouseHandler=f});ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(){function n(n){n.on("click",function(t){var e=t.getDocumentPosition(),r=n.session,f=r.getFoldAt(e.row,e.column,1),u;f&&(t.getAccelKey()?r.removeFold(f):r.expandFold(f),t.stop());u=t.domEvent&&t.domEvent.target;u&&i.hasCssClass(u,"ace_inline_button")&&i.hasCssClass(u,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),n.renderer.scrollCursorIntoView())});n.on("gutterclick",function(t){var u=n.renderer.$gutterLayer.getRegion(t),i,r;if(u=="foldWidgets"){if(i=t.getDocumentPosition().row,r=n.session,r.foldWidgets&&r.foldWidgets[i])n.session.onFoldWidgetClick(i,t);n.isFocused()||n.focus();t.stop()}});n.on("gutterdblclick",function(t){var o=n.renderer.$gutterLayer.getRegion(t),f;if(o=="foldWidgets"){var r=t.getDocumentPosition().row,i=n.session,e=i.getParentFoldRangeData(r,!0),u=e.range||e.firstRange;u&&(r=u.start.row,f=i.getFoldAt(r,i.getLine(r).length,1),f?i.removeFold(f):(i.addFold("...",u),n.renderer.scrollCursorIntoView({row:u.start.row,column:0})));t.stop()}})}return n}();t.FoldHandler=r});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,t){"use strict";var i=n("../lib/keys"),r=n("../lib/event"),u=function(){function n(n){this.$editor=n;this.$data={editor:n};this.$handlers=[];this.setDefaultHandler(n.commands)}return n.prototype.setDefaultHandler=function(n){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=n;this.addKeyboardHandler(n,0)},n.prototype.setKeyboardHandler=function(n){var t=this.$handlers;if(t[t.length-1]!=n){while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(n,1)}},n.prototype.addKeyboardHandler=function(n,t){if(n){typeof n!="function"||n.handleKeyboard||(n.handleKeyboard=n);var i=this.$handlers.indexOf(n);i!=-1&&this.$handlers.splice(i,1);t==undefined?this.$handlers.push(n):this.$handlers.splice(t,0,n);i==-1&&n.attach&&n.attach(this.$editor)}},n.prototype.removeKeyboardHandler=function(n){var t=this.$handlers.indexOf(n);return t==-1?!1:(this.$handlers.splice(t,1),n.detach&&n.detach(this.$editor),!0)},n.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},n.prototype.getStatusText=function(){var n=this.$data,t=n.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,n)||""}).filter(Boolean).join(" ")},n.prototype.$callKeyboardHandlers=function(n,t,i,u){for(var f,e=!1,o=this.$editor.commands,s=this.$handlers.length;s--;)if((f=this.$handlers[s].handleKeyboard(this.$data,n,t,i,u),f&&f.command)&&(e=f.command=="null"?!0:o.exec(f.command,this.$editor,f.args,u),e&&u&&n!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&r.stopEvent(u),e))break;return e||n!=-1||(f={command:"insertstring"},e=o.exec("insertstring",this.$editor,t)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),e},n.prototype.onCommandKey=function(n,t,r){var u=i.keyCodeToString(r);return this.$callKeyboardHandlers(t,u,r,n)},n.prototype.onTextInput=function(n){return this.$callKeyboardHandlers(-1,n)},n}();t.KeyBinding=u});ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,t){"use strict";function yt(n,t,i,r){var a=v?ct:ht,g=null,nt=null,y=null,h=0,d=null,it=null,o=-1,u=null,f=null,rt=[],l;if(!r)for(u=0,r=[];u<i;u++)r[u]=st(n[u]);for(w=v,c=!1,tt=!1,b=!1,k=!1,f=0;f<i;f++){if(g=h,rt[f]=nt=pt(n,r,rt,f),h=a[g][nt],d=h&240,h&=15,t[f]=y=a[h][5],d>0)if(d==16){for(u=o;u<f;u++)t[u]=1;o=-1}else o=-1;if(it=a[h][6],it)o==-1&&(o=f);else if(o>-1){for(u=o;u<f;u++)t[u]=y;o=-1}r[f]==s&&(t[f]=0);w|=y}if(k)for(u=0;u<i;u++)if(r[u]==p)for(t[u]=v,l=u-1;l>=0;l--)if(r[l]==e)t[l]=v;else break}function ot(n,t,i){if(!(w<n)){if(n==1&&v==it&&!b){i.reverse();return}for(var o=i.length,r=0,u,f,e,s;r<o;){if(t[r]>=n){for(u=r+1;u<o&&t[u]>=n;)u++;for(f=r,e=u-1;f<e;f++,e--)s=i[f],i[f]=i[e],i[e]=s;r=u}r++}}}function pt(n,t,w,it){var at=t[it],st,ct,ht,ot,lt,vt;switch(at){case u:case h:c=!1;case i:case l:return at;case f:return c?l:f;case y:return c=!0,tt=!0,h;case e:return i;case a:return it<1||it+1>=t.length||(st=w[it-1])!=f&&st!=l||(ct=t[it+1])!=f&&ct!=l?i:(c&&(ct=l),ct==st?ct:i);case d:return(st=it>0?w[it-1]:s,st==f&&it+1<t.length&&t[it+1]==f)?f:i;case o:if(it>0&&w[it-1]==f)return f;if(c)return i;for(ot=it+1,ht=t.length;ot<ht&&t[ot]==o;)ot++;return ot<ht&&t[ot]==f?f:i;case g:for(ht=t.length,ot=it+1;ot<ht&&t[ot]==g;)ot++;return ot<ht&&(lt=n[it],vt=lt>=1425&&lt<=2303||lt==64286,st=t[ot],vt&&(st==h||st==y))?h:it<1||(st=t[it-1])==s?i:w[it-1];case s:return c=!1,b=!0,v;case p:return k=!0,i;case nt:case rt:case ft:case et:case ut:c=!1;case r:return i}}function st(n){var t=n.charCodeAt(0),r=t>>8;return r==0?t>191?u:at[t]:r==5?/[\u0591-\u05f4]/.test(n)?h:u:r==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(n)?g:/[\u0660-\u0669\u066b-\u066c]/.test(n)?l:t==1642?o:/[\u06f0-\u06f9]/.test(n)?f:y:r==32&&t<=8287?vt[t&255]:r==254?t>=65136?y:i:i}var v=0,w=0,c=!1,tt=!1,b=!1,k=!1,ht=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ct=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],lt=0,it=1,u=0,h=1,f=2,l=3,i=4,s=5,p=6,y=7,e=8,a=9,d=10,o=11,g=12,nt=13,rt=14,ut=15,ft=16,et=17,r=18,at=[r,r,r,r,r,r,r,r,r,p,s,p,e,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,s,s,s,p,e,i,i,o,o,o,i,i,i,i,i,d,a,d,a,a,f,f,f,f,f,f,f,f,f,f,a,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,r,r,r,r,r,r,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,a,i,o,o,o,o,i,i,i,i,u,i,i,r,i,i,o,o,f,f,i,u,i,i,i,f,u,i,i,i,i,i],vt=[e,e,e,e,e,e,e,e,e,e,e,r,r,r,u,h,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e,s,nt,rt,ut,ft,et,a,o,o,o,o,o,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,a,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e];t.L=u;t.R=h;t.EN=f;t.ON_R=3;t.AN=4;t.R_H=5;t.B=6;t.RLE=7;t.DOT="";t.doBidiReorder=function(n,u,f){var e;if(n.length<2)return{};var s=n.split(""),c=new Array(s.length),a=new Array(s.length),o=[];for(v=f?it:lt,yt(s,o,s.length,u),e=0;e<c.length;c[e]=e,e++);for(ot(2,o,c),ot(1,o,c),e=0;e<c.length-1;e++)u[e]===l?o[e]=t.AN:o[e]===h&&(u[e]>y&&u[e]<nt||u[e]===i||u[e]===r)?o[e]=t.ON_R:e>0&&s[e-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(s[e])&&(o[e-1]=o[e]=t.R_H,e++);for(s[s.length-1]===t.DOT&&(o[s.length-1]=t.B),s[0]===""&&(o[0]=t.RLE),e=0;e<c.length;e++)a[e]=o[c[e]];return{logicalFromVisual:c,bidiLevels:a}};t.hasBidiCharacters=function(n,t){for(var r=!1,i=0;i<n.length;i++)t[i]=st(n.charAt(i)),r||t[i]!=h&&t[i]!=y&&t[i]!=l||(r=!0);return r};t.getVisualFromLogicalIdx=function(n,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==n)return i;return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,t){"use strict";var i=n("./lib/bidiutil"),u=n("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,f=function(){function n(n){this.session=n;this.bidiMap={};this.currentRow=null;this.bidiUtil=i;this.charWidths=[];this.EOL="";this.showInvisibles=!0;this.isRtlDir=!1;this.$isRtl=!1;this.line="";this.wrapIndent=0;this.EOF="";this.RLE="";this.contentWidth=0;this.fontMetrics=null;this.rtlLineOffset=0;this.wrapOffset=0;this.isMoveLeftOperation=!1;this.seenBidi=r.test(n.getValue())}return n.prototype.isBidiRow=function(n,t,i){return this.seenBidi?(n!==this.currentRow&&(this.currentRow=n,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},n.prototype.onChange=function(n){this.seenBidi?this.currentRow=null:n.action=="insert"&&r.test(n.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},n.prototype.getDocumentRow=function(){var t=0,i=this.session.$screenRowCache,n;return i.length&&(n=this.session.$getRowCacheIndex(i,this.currentRow),n>=0&&(t=this.session.$docRowCache[n])),t},n.prototype.getSplitIndex=function(){var n=0,t=this.session.$screenRowCache,i,r;if(t.length)for(r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-n>0;){if(i=this.session.$getRowCacheIndex(t,this.currentRow-n-1),i!==r)break;r=i;n++}else n=this.currentRow;return n},n.prototype.updateRowLine=function(n,t){var h,f,r,e,o,s;n===undefined&&(n=this.getDocumentRow());h=n===this.session.getLength()-1;f=h?this.EOF:this.EOL;this.wrapIndent=0;this.line=this.session.getLine(n);this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE;this.session.$useWrapMode?(r=this.session.$wrapData[n],r&&(t===undefined&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<r.length?this.line.substring(r[t-1],r[t]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t]),t==r.length&&(this.line+=this.showInvisibles?f:i.DOT))):this.line+=this.showInvisibles?f:i.DOT;e=this.session;o=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(n,t){return n==="\t"||e.isFullWidth(n.charCodeAt(0))?(s=n==="\t"?e.getScreenTabSize(t+o):2,o+=s-1,u.stringRepeat(i.DOT,s)):n});this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},n.prototype.updateBidiMap=function(){var n=[];this.bidiMap=i.hasBidiCharacters(this.line,n)||this.isRtlDir?i.doBidiReorder(this.line,n,this.isRtlDir):{}},n.prototype.markAsDirty=function(){this.currentRow=null},n.prototype.updateCharacterWidths=function(n){if(this.characterWidth!==n.$characterSize.width){this.fontMetrics=n;var r=this.characterWidth=n.$characterSize.width,t=n.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=r;this.charWidths[i.R]=this.charWidths[i.AN]=t;this.charWidths[i.R_H]=t*.45;this.charWidths[i.B]=this.charWidths[i.RLE]=0;this.currentRow=null}},n.prototype.setShowInvisibles=function(n){this.showInvisibles=n;this.currentRow=null},n.prototype.setEolChar=function(n){this.EOL=n},n.prototype.setContentWidth=function(n){this.contentWidth=n},n.prototype.isRtlLine=function(n){return this.$isRtl?!0:n!=undefined?this.session.getLine(n).charAt(0)==this.RLE:this.isRtlDir},n.prototype.setRtlDirection=function(n,t){for(var r=n.getCursorPosition(),i=n.selection.getSelectionAnchor().row;i<=r.row;i++)t||n.session.getLine(i).charAt(0)!==n.session.$bidiHandler.RLE?t&&n.session.getLine(i).charAt(0)!==n.session.$bidiHandler.RLE&&n.session.doc.insert({column:0,row:i},n.session.$bidiHandler.RLE):n.session.doc.removeInLine(i,0,1)},n.prototype.getPosLeft=function(n){var e;n-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,o=n>u?this.session.getOverwrite()?n:n-1:u,t=i.getVisualFromLogicalIdx(o,this.bidiMap),f=this.bidiMap.bidiLevels,r=0;for(!this.session.getOverwrite()&&n<=u&&f[t]%2!=0&&t++,e=0;e<t;e++)r+=this.charWidths[f[e]];return!this.session.getOverwrite()&&n>u&&f[t]%2==0&&(r+=this.charWidths[f[t]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},n.prototype.getSelections=function(n,t){var l=this.bidiMap,s=l.bidiLevels,a,r=[],u=0,v=Math.min(n,t)-this.wrapIndent,y=Math.max(n,t)-this.wrapIndent,f=!1,h=!1,e=0,c,i,o;for(this.wrapIndent&&(u+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),i=0;i<s.length;i++)c=l.logicalFromVisual[i],a=s[i],f=c>=v&&c<y,f&&!h?e=u:!f&&h&&r.push({left:e,width:u-e}),u+=this.charWidths[a],h=f;if(f&&i===s.length&&r.push({left:e,width:u-e}),this.isRtlDir)for(o=0;o<r.length;o++)r[o].left+=this.rtlLineOffset;return r},n.prototype.offsetToCol=function(n){this.isRtlDir&&(n-=this.rtlLineOffset);var r=0,n=Math.max(n,0),f=0,t=0,i=this.bidiMap.bidiLevels,u=this.charWidths[i[t]];for(this.wrapIndent&&(n-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);n>f+u/2;){if(f+=u,t===i.length-1){u=0;break}u=this.charWidths[i[++t]]}return t>0&&i[t-1]%2!=0&&i[t]%2==0?(n<f&&t--,r=this.bidiMap.logicalFromVisual[t]):t>0&&i[t-1]%2==0&&i[t]%2!=0?r=1+(n>f?this.bidiMap.logicalFromVisual[t]:this.bidiMap.logicalFromVisual[t-1]):this.isRtlDir&&t===i.length-1&&u===0&&i[t-1]%2==0||!this.isRtlDir&&t===0&&i[t]%2!=0?r=1+this.bidiMap.logicalFromVisual[t]:(t>0&&i[t-1]%2!=0&&u!==0&&t--,r=this.bidiMap.logicalFromVisual[t]),r===0&&this.isRtlDir&&r++,r+this.wrapIndent},n}();t.BidiHandler=f});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,t){"use strict";var f=n("./lib/oop"),u=n("./lib/lang"),e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,r=function(){function n(n){this.session=n;this.doc=n.getDocument();this.clearSelection();this.cursor=this.lead=this.doc.createAnchor(0,0);this.anchor=this.doc.createAnchor(0,0);this.$silent=!1;var t=this;this.cursor.on("change",function(n){t.$cursorChanged=!0;t.$silent||t._emit("changeCursor");t.$isEmpty||t.$silent||t._emit("changeSelection");t.$keepDesiredColumnOnChange||n.old.column==n.value.column||(t.$desiredColumn=null)});this.anchor.on("change",function(){t.$anchorChanged=!0;t.$isEmpty||t.$silent||t._emit("changeSelection")})}return n.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},n.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},n.prototype.getCursor=function(){return this.lead.getPosition()},n.prototype.setAnchor=function(n,t){this.$isEmpty=!1;this.anchor.setPosition(n,t)},n.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},n.prototype.getSelectionLead=function(){return this.lead.getPosition()},n.prototype.isBackwards=function(){var n=this.anchor,t=this.lead;return n.row>t.row||n.row==t.row&&n.column>t.column},n.prototype.getRange=function(){var t=this.anchor,n=this.lead;return this.$isEmpty?i.fromPoints(n,n):this.isBackwards()?i.fromPoints(n,t):i.fromPoints(t,n)},n.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},n.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},n.prototype.setRange=function(n,t){var i=t?n.end:n.start,r=t?n.start:n.end;this.$setSelection(i.row,i.column,r.row,r.column)},n.prototype.$setSelection=function(n,t,r,u){if(!this.$silent){var f=this.$isEmpty,e=this.inMultiSelectMode;this.$silent=!0;this.$cursorChanged=this.$anchorChanged=!1;this.anchor.setPosition(n,t);this.cursor.setPosition(r,u);this.$isEmpty=!i.comparePoints(this.anchor,this.cursor);this.$silent=!1;this.$cursorChanged&&this._emit("changeCursor");(this.$cursorChanged||this.$anchorChanged||f!=this.$isEmpty||e)&&this._emit("changeSelection")}},n.prototype.$moveSelection=function(n){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column);n.call(this)},n.prototype.selectTo=function(n,t){this.$moveSelection(function(){this.moveCursorTo(n,t)})},n.prototype.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})},n.prototype.moveTo=function(n,t){this.clearSelection();this.moveCursorTo(n,t)},n.prototype.moveToPosition=function(n){this.clearSelection();this.moveCursorToPosition(n)},n.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},n.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},n.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},n.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},n.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},n.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},n.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},n.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},n.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},n.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},n.prototype.getWordRange=function(n,t){if(typeof t=="undefined"){var i=n||this.lead;n=i.row;t=i.column}return this.session.getWordRange(n,t)},n.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},n.prototype.selectAWord=function(){var n=this.getCursor(),t=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(t)},n.prototype.getLineRange=function(n,t){var r=typeof n=="number"?n:this.lead.row,u,f=this.session.getFoldLine(r);return f?(r=f.start.row,u=f.end.row):u=r,t===!0?new i(r,0,u,this.session.getLine(u).length):new i(r,0,u+1,0)},n.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},n.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},n.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},n.prototype.wouldMoveIntoSoftTab=function(n,t,i){var r=n.column,u=n.column+t;return i<0&&(r=n.column-t,u=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(r,u).split(" ").length-1==t},n.prototype.moveCursorLeft=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,-1))?this.moveCursorTo(t.start.row,t.start.column):n.column===0?n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length):(i=this.session.getTabSize(),this.wouldMoveIntoSoftTab(n,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1))},n.prototype.moveCursorRight=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,1))?this.moveCursorTo(t.end.row,t.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(i=this.session.getTabSize(),n=this.lead,this.wouldMoveIntoSoftTab(n,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1))},n.prototype.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,u=this.session.documentToScreenRow(t,i),n=this.session.screenToDocumentPosition(u,0),f=this.session.getDisplayLine(t,null,n.row,n.column),r=f.match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length);this.moveCursorToPosition(n)},n.prototype.moveCursorLineEnd=function(){var r=this.lead,n=this.session.getDocumentLastRowColumnPosition(r.row,r.column),t,i;this.lead.column==n.column&&(t=this.session.getLine(n.row),n.column==t.length&&(i=t.search(/\s+$/),i>0&&(n.column=i)));this.moveCursorTo(n.row,n.column)},n.prototype.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,t=this.doc.getLine(n).length;this.moveCursorTo(n,t)},n.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},n.prototype.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),u=i.substring(n),r;if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,r=this.session.getFoldAt(t,n,1),r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(u)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=i.substring(n)),n>=i.length){this.moveCursorTo(t,i.length);this.moveCursorRight();t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(u)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)},n.prototype.moveCursorLongWordLeft=function(){var t=this.lead.row,n=this.lead.column,f,r,i;if(f=this.session.getFoldAt(t,n,-1)){this.moveCursorTo(f.start.row,f.start.column);return}if(r=this.session.getFoldStringAt(t,n,-1),r==null&&(r=this.doc.getLine(t).substring(0,n)),i=u.stringReverse(r),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(t,0);this.moveCursorLeft();t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)},n.prototype.$shortWordEndIndex=function(n){var t=0,i,u=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(n))t=this.session.tokenRe.lastIndex;else{while((i=n[t])&&u.test(i))t++;if(t<1)for(r.lastIndex=0;(i=n[t])&&!r.test(i);)if(r.lastIndex=0,t++,u.test(i))if(t>2){t--;break}else{while((i=n[t])&&u.test(i))t++;if(t>2)break}}return r.lastIndex=0,t},n.prototype.moveCursorShortWordRight=function(){var n=this.lead.row,t=this.lead.column,u=this.doc.getLine(n),i=u.substring(t),r=this.session.getFoldAt(n,t,1),f,e;if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==u.length){f=this.doc.getLength();do n++,i=this.doc.getLine(n);while(n<f&&/^\s*$/.test(i));/^\s+/.test(i)||(i="");t=0}e=this.$shortWordEndIndex(i);this.moveCursorTo(n,t+e)},n.prototype.moveCursorShortWordLeft=function(){var t=this.lead.row,i=this.lead.column,r,n,f,e;if(r=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(r.start.row,r.start.column);if(n=this.session.getLine(t).substring(0,i),i===0){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length;/\s+$/.test(n)||(n="")}return f=u.stringReverse(n),e=this.$shortWordEndIndex(f),this.moveCursorTo(t,i-e)},n.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},n.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},n.prototype.moveCursorBy=function(n,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u,f,r;t===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);n!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(f=this.session.lineWidgets[this.lead.row],n<0?n-=f.rowsAbove||0:n>0&&(n+=f.rowCount-(f.rowsAbove||0)));r=this.session.screenToDocumentPosition(i.row+n,i.column,u);n!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column;this.moveCursorTo(r.row,r.column+t,t===0)},n.prototype.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)},n.prototype.moveCursorTo=function(n,t,i){var r=this.session.getFoldAt(n,t,1),u;r&&(n=r.start.row,t=r.start.column);this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(u.charAt(t))&&u.charAt(t-1)&&(t=this.lead.row==n&&this.lead.column==t+1?t-1:t+1);this.lead.setPosition(n,t);this.$keepDesiredColumnOnChange=!1;i||(this.$desiredColumn=null)},n.prototype.moveCursorToScreen=function(n,t,i){var r=this.session.screenToDocumentPosition(n,t);this.moveCursorTo(r.row,r.column,i)},n.prototype.detach=function(){this.lead.detach();this.anchor.detach()},n.prototype.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start);this.$desiredColumn=n.desiredColumn||this.$desiredColumn},n.prototype.toOrientedRange=function(n){var t=this.getRange();return n?(n.start.column=t.start.column,n.start.row=t.start.row,n.end.column=t.end.column,n.end.row=t.end.row):n=t,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n},n.prototype.getRangeOfMovements=function(n){var t=this.getCursor(),r;try{return n(this),r=this.getCursor(),i.fromPoints(t,r)}catch(u){return i.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},n.prototype.toJSON=function(){var n;return this.rangeCount?n=this.ranges.map(function(n){var t=n.clone();return t.isBackwards=n.cursor==n.start,t}):(n=this.getRange(),n.isBackwards=this.isBackwards()),n},n.prototype.fromJSON=function(n){var t,r;if(n.start==undefined){if(this.rangeList&&n.length>1){for(this.toSingleRange(n[0]),t=n.length;t--;)r=i.fromPoints(n[t].start,n[t].end),n[t].isBackwards&&(r.cursor=r.start),this.addRange(r,!0);return}n=n[0]}this.rangeList&&this.toSingleRange(n);this.setSelectionRange(n,n.isBackwards)},n.prototype.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(n[t]))return!1;return!0},n}();r.prototype.setSelectionAnchor=r.prototype.setAnchor;r.prototype.getSelectionAnchor=r.prototype.getAnchor;r.prototype.setSelectionRange=r.prototype.setRange;f.implement(r.prototype,e);t.Selection=r});ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,t){"use strict";var u=n("./lib/report_error").reportError,i=2e3,r=function(){function n(n){var e,u,t,f,i;this.splitRegex;this.states=n;this.regExps={};this.matchMappings={};for(e in this.states){var c=this.states[e],o=[],s=0,h=this.matchMappings[e]={defaultToken:"text"},r="g",l=[];for(u=0;u<c.length;u++)(t=c[u],t.defaultToken&&(h.defaultToken=t.defaultToken),t.caseInsensitive&&r.indexOf("i")===-1&&(r+="i"),t.unicode&&r.indexOf("u")===-1&&(r+="u"),t.regex!=null)&&(t.regex instanceof RegExp&&(t.regex=t.regex.toString().slice(1,-1)),f=t.regex,i=new RegExp("(?:("+f+")|(.))").exec("a").length-2,Array.isArray(t.token)?t.token.length==1||i==1?t.token=t.token[0]:i-1!=t.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:t,groupCount:i-1}),t.token=t.token[0]):(t.tokenArray=t.token,t.token=null,t.onMatch=this.$arrayTokens):typeof t.token!="function"||t.onMatch||(t.onMatch=i>1?this.$applyToken:t.token),i>1&&(/\\\d/.test(t.regex)?f=t.regex.replace(/\\([0-9]+)/g,function(n,t){return"\\"+(parseInt(t,10)+s+1)}):(i=1,f=this.removeCapturingGroups(t.regex)),t.splitRegex||typeof t.token=="string"||l.push(t)),h[s]=u,s+=i,o.push(f),t.onMatch||(t.onMatch=null));o.length||(h[0]=0,o.push("$"));l.forEach(function(n){n.splitRegex=this.createSplitterRegexp(n.regex,r)},this);this.regExps[e]=new RegExp("("+o.join(")|(")+")|($)",r)}}return n.prototype.$setMaxTokenCount=function(n){i=n|0},n.prototype.$applyToken=function(n){var u=this.splitRegex.exec(n).slice(1),i=this.token.apply(this,u),r,t,f;if(typeof i=="string")return[{type:i,value:n}];for(r=[],t=0,f=i.length;t<f;t++)u[t]&&(r[r.length]={type:i[t],value:u[t]});return r},n.prototype.$arrayTokens=function(n){var i,r,u,t,f;if(!n)return[];if(i=this.splitRegex.exec(n),!i)return"text";for(r=[],u=this.tokenArray,t=0,f=u.length;t<f;t++)i[t+1]&&(r[r.length]={type:u[t],value:i[t+1]});return r},n.prototype.removeCapturingGroups=function(n){return n.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,t){return t?"(?:":n})},n.prototype.createSplitterRegexp=function(n,t){if(n.indexOf("(?=")!=-1){var r=0,u=!1,i={};n.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,t,f,e,o,s){return u?u=o!="]":o?u=!0:e?(r==i.stack&&(i.end=s+1,i.stack=-1),r--):f&&(r++,f.length!=1&&(i.stack=r,i.start=s)),n});i.end!=null&&/^\)*$/.test(n.substr(i.end))&&(n=n.substring(0,i.start)+n.substr(i.end))}return n.charAt(0)!="^"&&(n="^"+n),n.charAt(n.length-1)!="$"&&(n+="$"),new RegExp(n,(t||"").replace("g",""))},n.prototype.getLineTokens=function(n,t){var f,r,c,p,a,b,h;t&&typeof t!="string"?(f=t.slice(0),t=f[0],t==="#tmp"&&(f.shift(),t=f.shift())):f=[];r=t||"start";c=this.states[r];c||(r="start",c=this.states[r]);p=this.matchMappings[r];a=this.regExps[r];a.lastIndex=0;for(var w,l=[],o=0,k=0,u={type:null,value:""};w=a.exec(n);){var s=p.defaultToken,e=null,v=w[0],y=a.lastIndex;for(y-v.length>o&&(b=n.substring(o,y-v.length),u.type==s?u.value+=b:(u.type&&l.push(u),u={type:s,value:b})),h=0;h<w.length-2;h++)if(w[h+1]!==undefined){e=c[p[h]];s=e.onMatch?e.onMatch(v,r,f,n):e.token;e.next&&(r=typeof e.next=="string"?e.next:e.next(r,f),c=this.states[r],c||(this.reportError("state doesn't exist",r),r="start",c=this.states[r]),p=this.matchMappings[r],o=y,a=this.regExps[r],a.lastIndex=y);e.consumeLineEnd&&(o=y);break}if(v)if(typeof s=="string")e&&e.merge===!1||u.type!==s?(u.type&&l.push(u),u={type:s,value:v}):u.value+=v;else if(s)for(u.type&&l.push(u),u={type:null,value:""},h=0;h<s.length;h++)l.push(s[h]);if(o==n.length)break;if(o=y,k++>i){for(k>2*n.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:n});o<n.length;)u.type&&l.push(u),u={value:n.substring(o,o+=500),type:"overflow"};r="start";f=[];break}}return u.type&&l.push(u),f.length>1&&f[0]!==r&&f.unshift("#tmp",r),{tokens:l,state:f.length?f:r}},n}();r.prototype.reportError=u;t.Tokenizer=r});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,t){"use strict";var r=n("../lib/deep_copy").deepCopy,i;i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},function(){this.addRules=function(n,t){var r,u,f,i;if(!t){for(r in n)this.$rules[r]=n[r];return}for(r in n){for(u=n[r],f=0;f<u.length;f++)i=u[f],(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState));this.$rules[t+r]=u}};this.getRules=function(){return this.$rules};this.embedRules=function(n,t,i,u,f){var o=typeof n=="function"?(new n).getRules():n,s,h,e;if(u)for(e=0;e<u.length;e++)u[e]=t+u[e];else{u=[];for(s in o)u.push(t+s)}if(this.addRules(o,t),i)for(h=Array.prototype[f?"push":"unshift"],e=0;e<u.length;e++)h.apply(this.$rules[u[e]],r(i));this.$embeds||(this.$embeds=[]);this.$embeds.push(t)};this.getEmbeds=function(){return this.$embeds};var n=function(n,t){return(n!="start"||t.length)&&t.unshift(this.nextState,n),this.nextState},t=function(n,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function r(f){var l=i[f],c,e,a,v,o,s,h,y;for(l.processed=!0,c=0;c<l.length;c++){if(e=l[c],a=null,Array.isArray(e)&&(a=e,e={}),!e.regex&&e.start&&(e.regex=e.start,e.next||(e.next=[]),e.next.push({defaultToken:e.token},{token:e.token+".end",regex:e.end||e.start,next:"pop"}),e.token=e.token+".start",e.push=!0),v=e.next||e.push,v&&Array.isArray(v)?(o=e.stateName,o||(o=e.token,typeof o!="string"&&(o=o[0]||""),i[o]&&(o+=u++)),i[o]=v,e.next=o,r(o)):v=="pop"&&(e.next=t),e.push&&(e.nextState=e.next||e.push,e.next=n,delete e.push),e.rules)for(s in e.rules)i[s]?i[s].push&&i[s].push.apply(i[s],e.rules[s]):i[s]=e.rules[s];h=typeof e=="string"?e:e.include;h&&(h==="$self"&&(h="start"),a=Array.isArray(h)?h.map(function(n){return i[n]}):i[h]);a&&(y=[c,1].concat(a),e.noEscape&&(y=y.filter(function(n){return!n.next})),l.splice.apply(l,y),c--);e.keywordMap&&(e.token=this.createKeywordMapper(e.keywordMap,e.defaultToken||"text",e.caseInsensitive),delete e.defaultToken)}}var u=0,i=this.$rules;Object.keys(i).forEach(r,this)};this.createKeywordMapper=function(n,t,i,r){var u=Object.create(null);return this.$keywordList=[],Object.keys(n).forEach(function(t){for(var f,s=n[t],e=s.split(r||"|"),o=e.length;o--;)f=e[o],this.$keywordList.push(f),i&&(f=f.toLowerCase()),u[f]=t},this),n=null,i?function(n){return u[n.toLowerCase()]||t}:function(n){return u[n]||t}};this.getKeywords=function(){return this.$keywords}}.call(i.prototype);t.TextHighlightRules=i});ace.define("ace/mode/behaviour",["require","exports","module"],function(n,t){"use strict";var i;i=function(){this.$behaviours={}},function(){this.add=function(n,t,i){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[n]:this.$behaviours[n]={}}this.$behaviours[n][t]=i};this.addBehaviours=function(n){var t,i;for(t in n)for(i in n[t])this.add(t,i,n[t][i])};this.remove=function(n){this.$behaviours&&this.$behaviours[n]&&delete this.$behaviours[n]};this.inherit=function(n,t){var i;i=typeof n=="function"?(new n).getBehaviours(t):n.getBehaviours(t);this.addBehaviours(i)};this.getBehaviours=function(n){var i,t;if(n){for(i={},t=0;t<n.length;t++)this.$behaviours[n[t]]&&(i[n[t]]=this.$behaviours[n[t]]);return i}return this.$behaviours}}.call(i.prototype);t.Behaviour=i});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("./range").Range,r=function(){function n(n,t,i){this.$session=n;this.$row=t;this.$rowTokens=n.getTokens(t);var r=n.getTokenAt(t,i);this.$tokenIndex=r?r.index:-1}return n.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},n.prototype.stepForward=function(){this.$tokenIndex+=1;for(var n;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,n||(n=this.$session.getLength()),this.$row>=n)return this.$row=n-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},n.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},n.prototype.getCurrentTokenRow=function(){return this.$row},n.prototype.getCurrentTokenColumn=function(){var i=this.$rowTokens,t=this.$tokenIndex,n=i[t].start;if(n!==undefined)return n;for(n=0;t>0;)t-=1,n+=i[t].value.length;return n},n.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},n.prototype.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],n=this.getCurrentTokenColumn();return new i(this.$row,n,this.$row,n+t.value.length)},n}();t.TokenIterator=r});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t){"use strict";var c=n("../../lib/oop"),l=n("../behaviour").Behaviour,o=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),s=["text","paren.rparen","rparen","paren","punctuation.operator"],v=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],r,f={},h={'"':'"',"'":"'"},u=function(n){var t=-1;if(n.multiSelect&&(t=n.selection.index,f.rangeCount!=n.multiSelect.rangeCount&&(f={rangeCount:n.multiSelect.rangeCount})),f[t])return r=f[t];r=f[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},e=function(n,t,i,r){var u=n.end.row-n.start.row;return{text:i+t+r,selection:[0,n.start.column+1,u,n.end.column+(u?0:1)]}},i;i=function(n){n=n||{};this.add("braces","insertion",function(t,f,o,s,h){var c=o.getCursorPosition(),l=s.doc.getLine(c.row),nt,tt,p,y,d,w,b;if(h=="{"){u(o);var g=o.getSelectionRange(),k=s.doc.getTextRange(g),v=s.getTokenAt(c.row,c.column);if(k!==""&&k!=="{"&&o.getWrapBehavioursEnabled())return e(g,k,"{","}");if(v&&/(?:string)\.quasi|\.xml/.test(v.type))return(nt=[/tag\-(?:open|name)/,/attribute\-name/],nt.some(function(n){return n.test(v.type)})||/(string)\.quasi/.test(v.type)&&v.value[c.column-v.start-1]!=="$")?void 0:(i.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]});if(i.isSaneInsertion(o,s))return/[\]\}\)]/.test(l[c.column])||o.inMultiSelectMode||n.braces?(i.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(i.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if(h=="}"){if(u(o),y=l.substring(c.column,c.column+1),y=="}"&&(tt=s.$findOpeningBracket("}",{column:c.column+1,row:c.row}),tt!==null&&i.isAutoInsertedClosing(c,l,h)))return i.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(h=="\n"||h=="\r\n"){if(u(o),p="",i.isMaybeInsertedClosing(c,l)&&(p=a.stringRepeat("}",r.maybeInsertedBrackets),i.clearMaybeInsertedClosing()),y=l.substring(c.column,c.column+1),y==="}"){if(d=s.findMatchingBracket({row:c.row,column:c.column+1},"}"),!d)return null;w=this.$getIndent(s.getLine(d.row))}else if(p)w=this.$getIndent(l);else{i.clearMaybeInsertedClosing();return}return b=w+s.getTabString(),{text:"\n"+b+"\n"+w+p,selection:[1,b.length,1,b.length]}}i.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(n,t,i,f,e){var h=f.doc.getTextRange(e),o,s;if(!e.isMultiLine()&&h=="{"){if(u(i),o=f.doc.getLine(e.start.row),s=o.substring(e.end.column,e.end.column+1),s=="}")return e.end.column++,e;r.maybeInsertedBrackets--}});this.add("parens","insertion",function(n,t,r,f,o){var h,c,a;if(o=="("){if(u(r),h=r.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&r.getWrapBehavioursEnabled())return e(h,c,"(",")");if(i.isSaneInsertion(r,f))return i.recordAutoInsert(r,f,")"),{text:"()",selection:[1,1]}}else if(o==")"){u(r);var s=r.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v==")"&&(a=f.$findOpeningBracket(")",{column:s.column+1,row:s.row}),a!==null&&i.isAutoInsertedClosing(s,l,o)))return i.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("parens","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="("&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o==")"))return f.end.column++,f});this.add("brackets","insertion",function(n,t,r,f,o){var h,c,a;if(o=="["){if(u(r),h=r.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&r.getWrapBehavioursEnabled())return e(h,c,"[","]");if(i.isSaneInsertion(r,f))return i.recordAutoInsert(r,f,"]"),{text:"[]",selection:[1,1]}}else if(o=="]"){u(r);var s=r.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v=="]"&&(a=f.$findOpeningBracket("]",{column:s.column+1,row:s.row}),a!==null&&i.isAutoInsertedClosing(s,l,o)))return i.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("brackets","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="["&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o=="]"))return f.end.column++,f});this.add("string_dquotes","insertion",function(n,t,i,r,f){var tt=r.$mode.$quotes||h,w,b,a,c,rt,nt;if(f.length==1&&tt[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;u(i);var s=f,it=i.getSelectionRange(),l=r.doc.getTextRange(it);if(l!==""&&(l.length!=1||!tt[l])&&i.getWrapBehavioursEnabled())return e(it,l,s,s);if(!l){var o=i.getCursorPosition(),k=r.doc.getLine(o.row),v=k.substring(o.column-1,o.column),y=k.substring(o.column,o.column+1),p=r.getTokenAt(o.row,o.column),d=r.getTokenAt(o.row,o.column+1);if(v=="\\"&&p&&/escape/.test(p.type))return null;if(w=p&&/string|escape/.test(p.type),b=!d||/string|escape/.test(d.type),y==s)a=w!==b,a&&/string\.end/.test(d.type)&&(a=!1);else{if(w&&!b||w&&b)return null;c=r.$mode.tokenRe;c.lastIndex=0;rt=c.test(v);c.lastIndex=0;var ut=c.test(y),g=r.$mode.$pairQuotesAfter,ft=g&&g[s]&&g[s].test(v);if(!ft&&rt||ut||y&&!/[\s;,.})\]\\]/.test(y)||(nt=k[o.column-2],v==s&&(nt==s||c.test(nt))))return null;a=!0}return{text:a?s+s:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(n,t,i,r,f){var c=r.$mode.$quotes||h,e=r.doc.getTextRange(f),o,s;if(!f.isMultiLine()&&c.hasOwnProperty(e)&&(u(i),o=r.doc.getLine(f.start.row),s=o.substring(f.start.column+1,f.start.column+2),s==e))return f.end.column++,f});n.closeDocComment!==!1&&this.add("doc comment end","insertion",function(n,t,i,r,u){var e,s,o,p,f;if(n==="doc-start"&&(u==="\n"||u==="\r\n")&&i.selection.isEmpty()){if(e=i.getCursorPosition(),e.column===0)return;var y=r.doc.getLine(e.row),w=r.doc.getLine(e.row+1),c=r.getTokens(e.row),l=0;for(s=0;s<c.length;s++)if(l+=c[s].value.length,o=c[s],l>=e.column){if(l===e.column){if(!/\.doc/.test(o.type))return;if(/\*\//.test(o.value)&&(p=c[s+1],!p||!/\.doc/.test(p.type)))return}var a=e.column-(l-o.value.length),v=o.value.indexOf("*/"),h=o.value.indexOf("/**",v>-1?v+2:0);if(h!==-1&&a>h&&a<h+3)return;if(v!==-1&&h!==-1&&a>=v&&a<=h||!/\.doc/.test(o.type))return;break}if(f=this.$getIndent(y),/\s*\*/.test(w))return/^\s*\*/.test(y)?{text:u+f+"* ",selection:[1,2+f.length,1,2+f.length]}:{text:u+f+" * ",selection:[1,3+f.length,1,3+f.length]};if(/\/\*\*/.test(y.substring(0,e.column)))return{text:u+f+" * "+u+" "+f+"*/",selection:[1,4+f.length,1,4+f.length]}}})};i.isSaneInsertion=function(n,t){var i=n.getCursorPosition(),r=new o(t,i.row,i.column),u;if(!this.$matchTokenType(r.getCurrentToken()||"text",s)){if(/[)}\]]/.test(n.session.getLine(i.row)[i.column]))return!0;if(u=new o(t,i.row,i.column+1),!this.$matchTokenType(u.getCurrentToken()||"text",s))return!1}return r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",v)};i.$matchTokenType=function(n,t){return t.indexOf(n.type||n)>-1};i.recordAutoInsert=function(n,t,i){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isAutoInsertedClosing(u,f,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0);r.autoInsertedRow=u.row;r.autoInsertedLineEnd=i+f.substr(u.column);r.autoInsertedBrackets++};i.recordMaybeInsert=function(n,t,i){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isMaybeInsertedClosing(u,f)||(r.maybeInsertedBrackets=0);r.maybeInsertedRow=u.row;r.maybeInsertedLineStart=f.substr(0,u.column)+i;r.maybeInsertedLineEnd=f.substr(u.column);r.maybeInsertedBrackets++};i.isAutoInsertedClosing=function(n,t,i){return r.autoInsertedBrackets>0&&n.row===r.autoInsertedRow&&i===r.autoInsertedLineEnd[0]&&t.substr(n.column)===r.autoInsertedLineEnd};i.isMaybeInsertedClosing=function(n,t){return r.maybeInsertedBrackets>0&&n.row===r.maybeInsertedRow&&t.substr(n.column)===r.maybeInsertedLineEnd&&t.substr(0,n.column)==r.maybeInsertedLineStart};i.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1);r.autoInsertedBrackets--};i.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)};c.inherits(i,l);t.CstyleBehaviour=i});ace.define("ace/unicode",["require","exports","module"],function(n,t){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],f=0,u=[],i=0;i<r.length;i+=2)u.push(f+=r[i]),r[i+1]&&u.push(45,f+=r[i+1]);t.wordChars=String.fromCharCode.apply(null,u)});ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,t){"use strict";var i=n("../config"),s=n("../tokenizer").Tokenizer,h=n("./text_highlight_rules").TextHighlightRules,c=n("./behaviour/cstyle").CstyleBehaviour,f=n("../unicode"),r=n("../lib/lang"),e=n("../token_iterator").TokenIterator,o=n("../range").Range,u;u=function(){this.HighlightRules=h},function(){this.$defaultBehaviour=new c;this.tokenRe=new RegExp("^["+f.wordChars+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+f.wordChars+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(n,t,i,u){function b(n){for(var t=i;t<=u;t++)n(e.getLine(t),t)}var e=t.doc,a=!0,c=!0,f=Infinity,o=t.getTabSize(),v=!1,s,h,l;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(s=this.lineCommentStart.map(r.escapeRegExp).join("|"),h=this.lineCommentStart[0]):(s=r.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart);s=new RegExp("^(\\s*)(?:"+s+") ?");v=t.getUseSoftTabs();var g=function(n,t){var r=n.match(s),u,i;r&&(u=r[1].length,i=r[0].length,w(n,u,i)||r[0][i-1]!=" "||i--,e.removeInLine(t,u,i))},nt=h+" ",d=function(n,t){(!a||/\S/.test(n))&&(w(n,f,f)?e.insertInLine({row:t,column:f},nt):e.insertInLine({row:t,column:f},h))},p=function(n){return s.test(n)},w=function(n,t,i){for(var r=0;t--&&n.charAt(t)==" ";)r++;if(r%o!=0)return!1;for(r=0;n.charAt(i++)==" ";)r++;return o>2?r%o!=o-1:r%o==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,y=this.blockComment.end,s=new RegExp("^(\\s*)(?:"+r.escapeRegExp(h)+")"),k=new RegExp("(?:"+r.escapeRegExp(y)+")\\s*$"),d=function(n,t){p(n,t)||(!a||/\S/.test(n))&&(e.insertInLine({row:t,column:n.length},y),e.insertInLine({row:t,column:f},h))},g=function(n,t){var i;(i=n.match(k))&&e.removeInLine(t,n.length-i[0].length,n.length);(i=n.match(s))&&e.removeInLine(t,i[1].length,i[0].length)},p=function(n,i){var u,r;if(s.test(n))return!0;for(u=t.getTokens(i),r=0;r<u.length;r++)if(u[r].type==="comment")return!0}}l=Infinity;b(function(n,t){var i=n.search(/\S/);i!==-1?(i<f&&(f=i),c&&!p(n,t)&&(c=!1)):l>n.length&&(l=n.length)});f==Infinity&&(f=l,a=!1,c=!1);v&&f%o!=0&&(f=Math.floor(f/o)*o);b(c?g:d)};this.toggleBlockComment=function(n,t,i,r){var u=this.blockComment,p,w,s,f,h,c,l;if(u){!u.start&&u[0]&&(u=u[0]);var s=new e(t,r.row,r.column),f=s.getCurrentToken(),b=t.selection,a=t.selection.toOrientedRange(),v,y;if(f&&/comment/.test(f.type)){while(f&&/comment/.test(f.type)){if(h=f.value.indexOf(u.start),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;p=new o(c,l,c,l+u.start.length);break}f=s.stepBackward()}for(s=new e(t,r.row,r.column),f=s.getCurrentToken();f&&/comment/.test(f.type);){if(h=f.value.indexOf(u.end),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;w=new o(c,l,c,l+u.end.length);break}f=s.stepForward()}w&&t.remove(w);p&&(t.remove(p),v=p.start.row,y=-u.start.length)}else y=u.start.length,v=i.start.row,t.insert(i.end,u.end),t.insert(i.start,u.start);a.start.row==v&&(a.start.column+=y);a.end.row==v&&(a.end.column+=y);t.selection.fromOrientedRange(a)}};this.getNextLineIndent=function(n,t){return this.$getIndent(t)};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(n){return n.match(/^\s*/)[0]};this.createWorker=function(){return null};this.createModeDelegates=function(n){var t;this.$embeds=[];this.$modes={};for(t in n)if(n[t]){var f=n[t],e=f.prototype.$id,r=i.$modes[e];r||(i.$modes[e]=r=new f);i.$modes[t]||(i.$modes[t]=r);this.$embeds.push(t);this.$modes[t]=r}var u=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],o=function(n){(function(t){var i=u[n],r=t[i];t[u[n]]=function(){return this.$delegator(i,arguments,r)}})(s)},s=this;for(t=0;t<u.length;t++)o(t)};this.$delegator=function(n,t,i){var r=t[0]||"start",o,f,e,u,s;if(typeof r!="string"){if(Array.isArray(r[2])&&(o=r[2][r[2].length-1],u=this.$modes[o],u))return u[n].apply(u,[r[1]].concat([].slice.call(t,1)));r=r[0]||"start"}for(f=0;f<this.$embeds.length;f++)if(this.$modes[this.$embeds[f]]&&(e=r.split(this.$embeds[f]),!e[0]&&e[1]))return t[0]=e[1],u=this.$modes[this.$embeds[f]],u[n].apply(u,t);return s=i.apply(this,t),i?s:undefined};this.transformAction=function(n,t){var i,r,u;if(this.$behaviour){i=this.$behaviour.getBehaviours();for(r in i)if(i[r][t]&&(u=i[r][t].apply(this,arguments),u))return u}};this.getKeywords=function(n){var e,r,i,t,o,f,s,u;if(!this.completionKeywords){e=this.$tokenizer.rules;r=[];for(u in e)for(i=e[u],t=0,o=i.length;t<o;t++)if(typeof i[t].token=="string")/keyword|support|storage/.test(i[t].token)&&r.push(i[t].regex);else if(typeof i[t].token=="object")for(f=0,s=i[t].token.length;f<s;f++)/keyword|support|storage/.test(i[t].token[f])&&(u=i[t].regex.match(/\(.+?\)/g)[f],r.push(u.substr(1,u.length-2)));this.completionKeywords=r}return n?r.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(){var n=this.$keywordList||this.$createKeywordList();return n.map(function(n){return{name:n,value:n,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}.call(u.prototype);t.Mode=u});ace.define("ace/apply_delta",["require","exports","module"],function(n,t){"use strict";t.applyDelta=function(n,t){var i=t.start.row,u=t.start.column,r=n[i]||"",o,s,e,f;switch(t.action){case"insert":o=t.lines;o.length===1?n[i]=r.substring(0,u)+t.lines[0]+r.substring(u):(s=[i,1].concat(t.lines),n.splice.apply(n,s),n[i]=r.substring(0,u)+n[i],n[i+t.lines.length-1]+=r.substring(u));break;case"remove":e=t.end.column;f=t.end.row;i===f?n[i]=r.substring(0,u)+r.substring(e):n.splice(i,f-i+1,r.substring(0,u)+n[f].substring(e))}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";function r(n,t,i){var r=i?n.column<=t.column:n.column<t.column;return n.row<t.row||n.row==t.row&&r}function e(n,t,i){var f=n.action=="insert",o=(f?1:-1)*(n.end.row-n.start.row),s=(f?1:-1)*(n.end.column-n.start.column),u=n.start,e=f?u:n.end;return r(t,u,i)?{row:t.row,column:t.column}:r(e,t,!i)?{row:t.row+o,column:t.column+(t.row==e.row?s:0)}:{row:u.row,column:u.column}}var u=n("./lib/oop"),f=n("./lib/event_emitter").EventEmitter,i=function(){function n(n,t,i){this.$onChange=this.onChange.bind(this);this.attach(n);typeof t!="number"?this.setPosition(t.row,t.column):this.setPosition(t,i)}return n.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},n.prototype.getDocument=function(){return this.document},n.prototype.onChange=function(n){if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row)){var t=e(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},n.prototype.setPosition=function(n,t,i){var r,u;(r=i?{row:n,column:t}:this.$clipPositionToDocument(n,t),this.row!=r.row||this.column!=r.column)&&(u={row:this.row,column:this.column},this.row=r.row,this.column=r.column,this._signal("change",{old:u,value:r}))},n.prototype.detach=function(){this.document.off("change",this.$onChange)},n.prototype.attach=function(n){this.document=n||this.document;this.document.on("change",this.$onChange)},n.prototype.$clipPositionToDocument=function(n,t){var i={};return n>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):n<0?(i.row=0,i.column=0):(i.row=n,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i},n}();i.prototype.$insertRight=!1;u.implement(i.prototype,f);t.Anchor=i});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,t){"use strict";var u=n("./lib/oop"),f=n("./apply_delta").applyDelta,e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,o=n("./anchor").Anchor,r=function(){function n(n){this.$lines=[""];n.length===0?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)}return n.prototype.setValue=function(n){var t=this.getLength()-1;this.remove(new i(0,0,t,this.getLine(t).length));this.insert({row:0,column:0},n||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(n,t){return new o(this,n,t)},n.prototype.$detectNewLine=function(n){var t=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n";this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},n.prototype.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(n){return n=="\r\n"||n=="\r"||n=="\n"},n.prototype.getLine=function(n){return this.$lines[n]||""},n.prototype.getLines=function(n,t){return this.$lines.slice(n,t+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(n){var t,i;return n.start.row===n.end.row?t=[this.getLine(n.start.row).substring(n.start.column,n.end.column)]:(t=this.getLines(n.start.row,n.end.row),t[0]=(t[0]||"").substring(n.start.column),i=t.length-1,n.end.row-n.start.row==i&&(t[i]=t[i].substring(0,n.end.column))),t},n.prototype.insertLines=function(n,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,t)},n.prototype.removeLines=function(n,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,t)},n.prototype.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])},n.prototype.insert=function(n,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(n,this.$split(t))},n.prototype.insertInLine=function(n,t){var r=this.clippedPos(n.row,n.column),i=this.pos(n.row,n.column+t.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},n.prototype.clippedPos=function(n,t){var i=this.getLength(),r;return n===undefined?n=i:n<0?n=0:n>=i&&(n=i-1,t=undefined),r=this.getLine(n),t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:n,column:t}},n.prototype.clonePos=function(n){return{row:n.row,column:n.column}},n.prototype.pos=function(n,t){return{row:n,column:t}},n.prototype.$clipPosition=function(n){var t=this.getLength();return n.row>=t?(n.row=Math.max(0,t-1),n.column=this.getLine(t-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n},n.prototype.insertFullLines=function(n,t){n=Math.min(Math.max(n,0),this.getLength());var i=0;n<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),n--,i=this.$lines[n].length);this.insertMergedLines({row:n,column:i},t)},n.prototype.insertMergedLines=function(n,t){var i=this.clippedPos(n.row,n.column),r={row:i.row+t.length-1,column:(t.length==1?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:r,action:"insert",lines:t}),this.clonePos(r)},n.prototype.remove=function(n){var t=this.clippedPos(n.start.row,n.start.column),i=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},n.prototype.removeInLine=function(n,t,i){var r=this.clippedPos(n,t),u=this.clippedPos(n,i);return this.applyDelta({start:r,end:u,action:"remove",lines:this.getLinesForRange({start:r,end:u})},!0),this.clonePos(r)},n.prototype.removeFullLines=function(n,t){n=Math.min(Math.max(0,n),this.getLength()-1);t=Math.min(Math.max(0,t),this.getLength()-1);var u=t==this.getLength()-1&&n>0,f=t<this.getLength()-1,e=u?n-1:n,s=u?this.getLine(e).length:0,o=f?t+1:t,h=f?0:this.getLine(o).length,r=new i(e,s,o,h),c=this.$lines.slice(n,t+1);return this.applyDelta({start:r.start,end:r.end,action:"remove",lines:this.getLinesForRange(r)}),c},n.prototype.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(n,t){return(n instanceof i||(n=i.fromPoints(n.start,n.end)),t.length===0&&n.isEmpty())?n.start:t==this.getTextRange(n)?n.end:(this.remove(n),t?this.insert(n.start,t):n.start)},n.prototype.applyDeltas=function(n){for(var t=0;t<n.length;t++)this.applyDelta(n[t])},n.prototype.revertDeltas=function(n){for(var t=n.length-1;t>=0;t--)this.revertDelta(n[t])},n.prototype.applyDelta=function(n,t){var r=n.action=="insert";(r?n.lines.length<=1&&!n.lines[0]:!i.comparePoints(n.start,n.end))||(r&&n.lines.length>2e4?this.$splitAndapplyLargeDelta(n,2e4):(f(this.$lines,n,t),this._signal("change",n)))},n.prototype.$safeApplyDelta=function(n){var t=this.$lines.length;(n.action=="remove"&&n.start.row<t&&n.end.row<t||n.action=="insert"&&n.start.row<=t)&&this.applyDelta(n)},n.prototype.$splitAndapplyLargeDelta=function(n,t){for(var o,u=n.lines,s=u.length-t+1,f=n.start.row,e=n.start.column,i=0,r=0;i<s;i=r)r+=t-1,o=u.slice(i,r),o.push(""),this.applyDelta({start:this.pos(f+i,e),end:this.pos(f+r,e=0),action:n.action,lines:o},!0);n.lines=u.slice(i);n.start.row=f+i;n.start.column=e;this.applyDelta(n,!0)},n.prototype.revertDelta=function(n){this.$safeApplyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:n.action=="insert"?"remove":"insert",lines:n.lines.slice()})},n.prototype.indexToPosition=function(n,t){for(var r=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,i=t||0,f=r.length;i<f;i++)if(n-=r[i].length+u,n<0)return{row:i,column:n+r[i].length+u};return{row:f-1,column:n+r[f-1].length+u}},n.prototype.positionToIndex=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,u=0,e=Math.min(n.row,r.length),i=t||0;i<e;++i)u+=r[i].length+f;return u+n.column},n.prototype.$split=function(n){return n.split(/\r\n|\r|\n/)},n}();r.prototype.$autoNewLine="";r.prototype.$newLineMode="auto";u.implement(r.prototype,e);t.Document=r});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("./lib/oop"),u=n("./lib/event_emitter").EventEmitter,i=function(){function n(n){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=n;var t=this;this.$worker=function(){var f,r;if(t.running){for(var e=new Date,n=t.currentLine,i=-1,o=t.doc,u=n;t.lines[n];)n++;for(f=o.getLength(),r=0,t.running=!1;n<f;){t.$tokenizeRow(n);i=n;do n++;while(t.lines[n]);if(r++,r%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n;i==-1&&(i=n);u<=i&&t.fireUpdateEvent(u,i)}}}return n.prototype.setTokenizer=function(n){this.tokenizer=n;this.lines=[];this.states=[];this.start(0)},n.prototype.setDocument=function(n){this.doc=n;this.lines=[];this.states=[];this.stop()},n.prototype.fireUpdateEvent=function(n,t){var i={first:n,last:t};this._signal("update",{data:i})},n.prototype.start=function(n){this.currentLine=Math.min(n||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)},n.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},n.prototype.$updateOnChange=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.lines[t]=null:n.action=="remove"?(this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null)):(r=Array(i+1),r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r));this.currentLine=Math.min(t,this.currentLine,this.doc.getLength());this.stop()},n.prototype.stop=function(){this.running&&clearTimeout(this.running);this.running=!1},n.prototype.getTokens=function(n){return this.lines[n]||this.$tokenizeRow(n)},n.prototype.getState=function(n){return this.currentLine==n&&this.$tokenizeRow(n),this.states[n]||"start"},n.prototype.$tokenizeRow=function(n){var i=this.doc.getLine(n),r=this.states[n-1],t=this.tokenizer.getLineTokens(i,r,n);return this.states[n]+""!=t.state+""?(this.states[n]=t.state,this.lines[n+1]=null,this.currentLine>n+1&&(this.currentLine=n+1)):this.currentLine==n&&(this.currentLine=n+1),this.lines[n]=t.tokens},n.prototype.cleanup=function(){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.removeAllListeners()},n}();r.implement(i.prototype,u);t.BackgroundTokenizer=i});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,t){"use strict";var r=n("./lib/lang"),u=n("./range").Range,i=function(){function n(n,t,i){i===void 0&&(i="text");this.setRegexp(n);this.clazz=t;this.type=i}return n.prototype.setRegexp=function(n){this.regExp+""!=n+""&&(this.regExp=n,this.cache=[])},n.prototype.update=function(n,t,i,f){var o,e,s,h,c;if(this.regExp){var a=f.firstRow,v=f.lastRow,l={};for(o=a;o<=v;o++)for(e=this.cache[o],e==null&&(e=r.getMatchOffsets(i.getLine(o),this.regExp),e.length>this.MAX_RANGES&&(e=e.slice(0,this.MAX_RANGES)),e=e.map(function(n){return new u(o,n.offset,o,n.offset+n.length)}),this.cache[o]=e.length?e:""),s=e.length;s--;)(h=e[s].toScreenRange(i),c=h.toString(),l[c])||(l[c]=!0,t.drawSingleLineMarker(n,h,this.clazz,f))}},n}();i.prototype.MAX_RANGES=500;t.SearchHighlight=i});ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,t){"use strict";function v(n,t){for(var r,u,i=t;i--;)if(r=n[i],r&&!r[0].ignore){while(i<t-1)u=p(n[i],n[i+1]),n[i]=u[0],n[i+1]=u[1],i++;return!0}}function e(n){return{row:n.row,column:n.column}}function y(n){return{start:e(n.start),end:e(n.end),action:n.action,lines:n.lines.slice()}}function o(n){if(n=n||this,Array.isArray(n))return n.map(o).join("\n");var t="";return n.action?t=(n.action=="insert"?"+":"-")+("["+n.lines+"]"):n.value&&(t=Array.isArray(n.value)?n.value.map(s).join("\n"):s(n.value)),n.start&&(t+=s(n)),(n.id||n.rev)&&(t+="\t("+(n.id||n.rev)+")"),t}function s(n){return n.start.row+":"+n.start.column+"=>"+n.end.row+":"+n.end.column}function l(n,t){var u=n.action=="insert",f=t.action=="insert";if(u&&f)if(r(t.start,n.end)>=0)i(t,n,-1);else if(r(t.start,n.start)<=0)i(n,t,1);else return null;else if(u&&!f)if(r(t.start,n.end)>=0)i(t,n,-1);else if(r(t.end,n.start)<=0)i(n,t,-1);else return null;else if(!u&&f)if(r(t.start,n.start)>=0)i(t,n,1);else if(r(t.start,n.start)<=0)i(n,t,1);else return null;else if(!u&&!f)if(r(t.start,n.start)>=0)i(t,n,1);else if(r(t.end,n.start)<=0)i(n,t,-1);else return null;return[t,n]}function p(n,t){for(var i,r=n.length;r--;)for(i=0;i<t.length;i++)if(!l(n[r],t[i])){while(r<n.length){while(i--)l(t[i],n[r]);i=t.length;r++}return[n,t]}return n.selectionBefore=t.selectionBefore=n.selectionAfter=t.selectionAfter=null,[t,n]}function w(n,t){var e=n.action=="insert",o=t.action=="insert",s,u;if(e&&o)r(n.start,t.start)<0?i(t,n,1):i(n,t,1);else if(e&&!o)r(n.start,t.end)>=0?i(n,t,-1):r(n.start,t.start)<=0?i(t,n,1):(i(n,f.fromPoints(t.start,n.start),-1),i(t,n,1));else if(!e&&o)r(t.start,n.end)>=0?i(t,n,-1):r(t.start,n.start)<=0?i(n,t,1):(i(t,f.fromPoints(n.start,t.start),-1),i(n,t,1));else if(!e&&!o)if(r(t.start,n.end)>=0)i(t,n,-1);else if(r(t.end,n.start)<=0)i(n,t,-1);else return r(n.start,t.start)<0&&(s=n,n=a(n,t.start)),r(n.end,t.end)>0&&(u=a(n,t.end)),h(t.end,n.start,n.end,-1),u&&!s&&(n.lines=u.lines,n.start=u.start,n.end=u.end,u=n),[t,s,u].filter(Boolean);return[t,n]}function i(n,t,i){h(n.start,t.start,t.end,i);h(n.end,t.start,t.end,i)}function h(n,t,i,r){n.row==(r==1?t:i).row&&(n.column+=r*(i.column-t.column));n.row+=r*(i.row-t.row)}function a(n,t){var r=n.lines,o=n.end;n.end=e(t);var u=n.end.row-n.start.row,i=r.splice(u,r.length),f=u?t.column:t.column-n.start.column;return r.push(i[0].substring(0,f)),i[0]=i[0].substr(f),{start:e(t),end:o,lines:i,action:n.action}}function b(n,t){var f,u,i,e,r;for(t=y(t),f=n.length;f--;){for(u=n[f],i=0;i<u.length;i++)e=u[i],r=w(e,t),t=r[0],r.length!=2&&(r[2]?(u.splice(i+1,1,r[1],r[2]),i++):r[1]||(u.splice(i,1),i--));u.length||n.splice(f,1)}return n}function k(n,t){for(var u,r,i=0;i<t.length;i++)for(u=t[i],r=0;r<u.length;r++)b(n,u[r])}var u=function(){function n(){this.$keepRedoStack;this.$maxRev=0;this.$fromUndo=!1;this.$undoDepth=Infinity;this.reset()}return n.prototype.addSession=function(n){this.$session=n},n.prototype.add=function(n,t){if(!this.$fromUndo&&n!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),t===!1||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1);this.$undoStack.push(this.lastDeltas);n.id=this.$rev=++this.$maxRev}(n.action=="remove"||n.action=="insert")&&(this.$lastDelta=n);this.lastDeltas.push(n)}},n.prototype.addSelection=function(n,t){this.selections.push({value:n,rev:t||this.$rev})},n.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},n.prototype.markIgnored=function(n,t){var r,u,i;for(t==null&&(t=this.$rev+1),r=this.$undoStack,u=r.length;u--;){if(i=r[u][0],i.id<=n)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},n.prototype.getSelection=function(n,t){for(var i,r=this.selections,u=r.length;u--;)if(i=r[u],i.rev<n)return t&&(i=r[u+1]),i},n.prototype.getRevision=function(){return this.$rev},n.prototype.getDeltas=function(n,t){var i,f;t==null&&(t=this.$rev+1);var r=this.$undoStack,u=null,e=0;for(i=r.length;i--;)if(f=r[i][0],f.id<t&&!u&&(u=i+1),f.id<=n){e=i+1;break}return r.slice(e,u)},n.prototype.getChangedRanges=function(n,t){t==null&&(t=this.$rev+1)},n.prototype.getChangedLines=function(n,t){t==null&&(t=this.$rev+1)},n.prototype.undo=function(n,t){var i,r,u;if(this.lastDeltas=null,i=this.$undoStack,v(i,i.length))return n||(n=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0,r=i.pop(),u=null,r&&(u=n.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,u},n.prototype.redo=function(n,t){var u,i,r;return this.lastDeltas=null,n||(n=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev&&(u=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),k(this.$redoStack,u),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(n){n[0].id=++this.$maxRev},this)),i=this.$redoStack.pop(),r=null,i&&(r=n.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},n.prototype.$syncRev=function(){var n=this.$undoStack,t=n[n.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i;this.$rev=i},n.prototype.reset=function(){this.lastDeltas=null;this.$lastDelta=null;this.$undoStack=[];this.$redoStack=[];this.$rev=0;this.mark=0;this.$redoStackBaseRev=this.$rev;this.selections=[]},n.prototype.canUndo=function(){return this.$undoStack.length>0},n.prototype.canRedo=function(){return this.$redoStack.length>0},n.prototype.bookmark=function(n){n==undefined&&(n=this.$rev);this.mark=n},n.prototype.isAtBookmark=function(){return this.$rev===this.mark},n.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},n.prototype.fromJSON=function(n){this.reset();this.$undoStack=n.$undoStack;this.$redoStack=n.$redoStack},n.prototype.$prettyPrint=function(n){return n?o(n):o(this.$undoStack)+"\n---\n"+o(this.$redoStack)},n}();u.prototype.hasUndo=u.prototype.canUndo;u.prototype.hasRedo=u.prototype.canRedo;u.prototype.isClean=u.prototype.isAtBookmark;u.prototype.markClean=u.prototype.bookmark;var f=n("./range").Range,r=f.comparePoints,c=f.comparePoints;t.UndoManager=u});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../range").Range,r=function(){function n(n,t){this.foldData=n;Array.isArray(t)?this.folds=t:t=this.folds=[t];var r=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,r.end.row,r.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(n){n.setFoldLine(this)},this)}return n.prototype.shiftRow=function(n){this.start.row+=n;this.end.row+=n;this.folds.forEach(function(t){t.start.row+=n;t.end.row+=n})},n.prototype.addFold=function(n){if(n.sameRow){if(n.start.row<this.startRow||n.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(n);this.folds.sort(function(n,t){return-n.range.compareEnd(t.start.row,t.start.column)});this.range.compareEnd(n.start.row,n.start.column)>0?(this.end.row=n.end.row,this.end.column=n.end.column):this.range.compareStart(n.end.row,n.end.column)<0&&(this.start.row=n.start.row,this.start.column=n.start.column)}else if(n.start.row==this.end.row)this.folds.push(n),this.end.row=n.end.row,this.end.column=n.end.column;else if(n.end.row==this.start.row)this.folds.unshift(n),this.start.row=n.start.row,this.start.column=n.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");n.foldLine=this},n.prototype.containsRow=function(n){return n>=this.start.row&&n<=this.end.row},n.prototype.walk=function(n,t,i){var u=0,h=this.folds,r,s,f,e=!0,o;for(t==null&&(t=this.end.row,i=this.end.column),o=0;o<h.length;o++){if(r=h[o],s=r.range.compareStart(t,i),s==-1){n(null,t,i,u,e);return}if(f=n(null,r.start.row,r.start.column,u,e),f=!f&&n(r.placeholder,r.start.row,r.start.column,u),f||s===0)return;e=!r.sameRow;u=r.end.column}n(null,t,i,u,e)},n.prototype.getNextFoldTo=function(n,t){for(var i,r,u=0;u<this.folds.length;u++){if(i=this.folds[u],r=i.range.compareEnd(n,t),r==-1)return{fold:i,kind:"after"};if(r===0)return{fold:i,kind:"inside"}}return null},n.prototype.addRemoveChars=function(n,t,i){var e=this.getNextFoldTo(n,t),r,f,u;if(e)if(r=e.fold,e.kind=="inside"&&r.start.column!=t&&r.start.row!=n)window.console&&window.console.log(n,t,r);else if(r.start.row==n){for(f=this.folds,u=f.indexOf(r),u===0&&(this.start.column+=i),u;u<f.length;u++){if(r=f[u],r.start.column+=i,!r.sameRow)return;r.end.column+=i}this.end.column+=i}},n.prototype.split=function(t,i){var u=this.getNextFoldTo(t,i),o;if(!u||u.kind=="inside")return null;var h=u.fold,r=this.folds,f=this.foldData,e=r.indexOf(h),s=r[e-1];return this.end.row=s.end.row,this.end.column=s.end.column,r=r.splice(e,r.length-e),o=new n(f,r),f.splice(f.indexOf(this)+1,0,o),o},n.prototype.merge=function(n){for(var i,r=n.folds,t=0;t<r.length;t++)this.addFold(r[t]);i=this.foldData;i.splice(i.indexOf(n),1)},n.prototype.toString=function(){var n=[this.range.toString()+": ["];return this.folds.forEach(function(t){n.push("  "+t.toString())}),n.push("]"),n.join("\n")},n.prototype.idxToPosition=function(n){for(var t,r=0,i=0;i<this.folds.length;i++){if(t=this.folds[i],n-=t.start.column-r,n<0)return{row:t.start.row,column:t.start.column+n};if(n-=t.placeholder.length,n<0)return t.start;r=t.end.column}return{row:this.end.row,column:this.end.column+n}},n}();t.FoldLine=r});ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,t){"use strict";var u=n("./range").Range,i=u.comparePoints,r=function(){function n(){this.ranges=[];this.$bias=1}return n.prototype.pointIndex=function(n,t,r){for(var e,o,f,s=this.ranges,u=r||0;u<s.length;u++)if(e=s[u],o=i(n,e.end),!(o>0))return(f=i(n,e.start),o===0)?t&&f!==0?-u-2:u:f>0||f===0&&!t?u:-u-1;return-u-1},n.prototype.add=function(n){var r=!n.isEmpty(),t=this.pointIndex(n.start,r),i;return t<0&&(t=-t-1),i=this.pointIndex(n.end,r,t),i<0?i=-i-1:i++,this.ranges.splice(t,i-t,n)},n.prototype.addList=function(n){for(var t=[],i=n.length;i--;)t.push.apply(t,this.add(n[i]));return t},n.prototype.substractPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges.splice(t,1)},n.prototype.merge=function(){var e=[],t=this.ranges,n,r,u,f;for(t=t.sort(function(n,t){return i(n.start,t.start)}),n=t[0],u=1;u<t.length;u++)(r=n,n=t[u],f=i(r.end,n.start),f<0)||(f!=0||r.isEmpty()||n.isEmpty())&&(i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(u,1),e.push(n),n=r,u--);return this.ranges=t,e},n.prototype.contains=function(n,t){return this.pointIndex({row:n,column:t})>=0},n.prototype.containsPoint=function(n){return this.pointIndex(n)>=0},n.prototype.rangeAtPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges[t]},n.prototype.clipRows=function(n,t){var u=this.ranges,i,r,e,f;if(u[0].start.row>t||u[u.length-1].start.row<n)return[];for(i=this.pointIndex({row:n,column:0}),i<0&&(i=-i-1),r=this.pointIndex({row:t,column:0},i),r<0&&(r=-r-1),e=[],f=i;f<r;f++)e.push(u[f]);return e},n.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},n.prototype.attach=function(n){this.session&&this.detach();this.session=n;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)},n.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},n.prototype.$onChange=function(n){for(var u,o,t,i=n.start,c=n.end,f=i.row,e=c.row,s=this.ranges,r=0,h=s.length;r<h;r++)if(t=s[r],t.end.row>=f)break;if(n.action=="insert")for(u=e-f,o=-i.column+c.column;r<h;r++){if(t=s[r],t.start.row>f)break;if(t.start.row==f&&t.start.column>=i.column&&(t.start.column==i.column&&this.$bias<=0||(t.start.column+=o,t.start.row+=u)),t.end.row==f&&t.end.column>=i.column){if(t.end.column==i.column&&this.$bias<0)continue;t.end.column==i.column&&o>0&&r<h-1&&t.end.column>t.start.column&&t.end.column==s[r+1].start.column&&(t.end.column-=o);t.end.column+=o;t.end.row+=u}}else for(u=f-e,o=i.column-c.column;r<h;r++){if(t=s[r],t.start.row>e)break;t.end.row<e&&(f<t.end.row||f==t.end.row&&i.column<t.end.column)?(t.end.row=f,t.end.column=i.column):t.end.row==e?t.end.column<=c.column?(u||t.end.column>i.column)&&(t.end.column=i.column,t.end.row=i.row):(t.end.column+=o,t.end.row+=u):t.end.row>e&&(t.end.row+=u);t.start.row<e&&(f<t.start.row||f==t.start.row&&i.column<t.start.column)?(t.start.row=f,t.start.column=i.column):t.start.row==e?t.start.column<=c.column?(u||t.start.column>i.column)&&(t.start.column=i.column,t.start.row=i.row):(t.start.column+=o,t.start.row+=u):t.start.row>e&&(t.start.row+=u)}if(u!=0&&r<h)for(;r<h;r++)t=s[r],t.start.row+=u,t.end.row+=u},n}();r.prototype.comparePoints=i;t.RangeList=r});ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,t){"use strict";function i(n,t){n.row-=t.row;n.row==0&&(n.column-=t.column)}function o(n,t){i(n.start,t);i(n.end,t)}function r(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row}function s(n,t){r(n.start,t);r(n.end,t)}var u=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),f=n("../range_list").RangeList,e=function(n){function t(t,i){var r=n.call(this)||this;return r.foldLine=null,r.placeholder=i,r.range=t,r.start=t.start,r.end=t.end,r.sameRow=t.start.row==t.end.row,r.subFolds=r.ranges=[],r}return u(t,n),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(n){this.foldLine=n;this.subFolds.forEach(function(t){t.setFoldLine(n)})},t.prototype.clone=function(){var i=this.range.clone(),n=new t(i,this.placeholder);return this.subFolds.forEach(function(t){n.subFolds.push(t.clone())}),n.collapseChildren=this.collapseChildren,n},t.prototype.addSubFold=function(n){var i,h,c,u,f,r,t,e,l,s;if(!this.range.isEqual(n)){for(o(n,this.start),u=n.start.row,f=n.start.column,i=0,t=-1;i<this.subFolds.length;i++)if(t=this.subFolds[i].range.compare(u,f),t!=1)break;if(h=this.subFolds[i],c=0,t==0){if(h.range.containsRange(n))return h.addSubFold(n);c=1}for(u=n.range.end.row,f=n.range.end.column,r=i,t=-1;r<this.subFolds.length;r++)if(t=this.subFolds[r].range.compare(u,f),t!=1)break;for(t==0&&r++,e=this.subFolds.splice(i,r-i,n),l=t==0?e.length-1:e.length,s=c;s<l;s++)n.addSubFold(e[s]);return n.setFoldLine(this.foldLine),n}},t.prototype.restoreRange=function(n){return s(n,this.start)},t}(f);t.Fold=e});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,t){"use strict";function o(){this.getFoldAt=function(n,t,i){var e=this.getFoldLine(n),f,u,r;if(!e)return null;for(f=e.folds,u=0;u<f.length;u++)if(r=f[u].range,r.contains(n,t)){if(i==1&&r.isEnd(n,t)&&!r.isEmpty())continue;else if(i==-1&&r.isStart(n,t)&&!r.isEmpty())continue;return f[u]}};this.getFoldsInRange=function(n){var o=n.start,s=n.end,u=this.$foldData,h=[],i,t,f,r,e;for(o.column+=1,s.column-=1,i=0;i<u.length;i++){if(t=u[i].range.compareRange(n),t==2)continue;else if(t==-2)break;for(f=u[i].folds,r=0;r<f.length;r++){if(e=f[r],t=e.range.compareRange(n),t==-2)break;else if(t==2)continue;else if(t==42)break;h.push(e)}}return o.column-=1,s.column+=1,h};this.getFoldsInRangeList=function(n){var t;return Array.isArray(n)?(t=[],n.forEach(function(n){t=t.concat(this.getFoldsInRange(n))},this)):t=this.getFoldsInRange(n),t};this.getAllFolds=function(){for(var t,r=[],i=this.$foldData,n=0;n<i.length;n++)for(t=0;t<i[n].folds.length;t++)r.push(i[n].folds[t]);return r};this.getFoldStringAt=function(n,t,i,r){var u,f,e,o,s;if(r=r||this.getFoldLine(n),!r)return null;for(u={end:{column:0}},o=0;o<r.folds.length;o++){if(e=r.folds[o],s=e.range.compareEnd(n,t),s==-1){f=this.getLine(e.start.row).substring(u.end.column,e.start.column);break}else if(s===0)return null;u=e}return f||(f=this.getLine(e.start.row).substring(u.end.column)),i==-1?f.substring(0,t-u.end.column):i==1?f.substring(t-u.end.column):f};this.getFoldLine=function(n,t){var u=this.$foldData,i=0,r;for(t&&(i=u.indexOf(t)),i==-1&&(i=0),i;i<u.length;i++){if(r=u[i],r.start.row<=n&&r.end.row>=n)return r;if(r.end.row>n)return null}return null};this.getNextFoldLine=function(n,t){var r=this.$foldData,i=0,u;for(t&&(i=r.indexOf(t)),i==-1&&(i=0),i;i<r.length;i++)if(u=r[i],u.end.row>=n)return u;return null};this.getFoldedRowCount=function(n,t){for(var e=this.$foldData,r=t-n+1,f=0;f<e.length;f++){var o=e[f],u=o.end.row,i=o.start.row;if(u>=t){i<t&&(i>=n?r-=t-i:r=0);break}else u>=n&&(r-=i>=n?u-i:u-n+1)}return r};this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(n,t){return n.start.row-t.start.row}),n};this.addFold=function(n,t){var a=this.$foldData,v=!1,i,c,s,f,l;n instanceof u?i=n:(i=new u(t,n),i.collapseChildren=t.collapseChildren);this.$clipRangeToDocument(i.range);var y=i.start.row,p=i.start.column,o=i.end.row,w=i.end.column,e=this.getFoldAt(y,p,1),h=this.getFoldAt(o,w,-1);if(e&&h==e)return e.addSubFold(i);for(e&&!e.range.isStart(y,p)&&this.removeFold(e),h&&!h.range.isEnd(o,w)&&this.removeFold(h),c=this.getFoldsInRange(i.range),c.length>0&&(this.removeFolds(c),i.collapseChildren||c.forEach(function(n){i.addSubFold(n)})),s=0;s<a.length;s++)if(f=a[s],o==f.start.row){f.addFold(i);v=!0;break}else if(y==f.end.row){if(f.addFold(i),v=!0,!i.sameRow&&(l=a[s+1],l&&l.start.row==o)){f.merge(l);break}break}else if(o<=f.start.row)break;return v||(f=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i};this.addFolds=function(n){n.forEach(function(n){this.addFold(n)},this)};this.removeFold=function(n){var i=n.foldLine,u=i.start.row,f=i.end.row,e=this.$foldData,t=i.folds,r;t.length==1?e.splice(e.indexOf(i),1):i.range.isEnd(n.end.row,n.end.column)?(t.pop(),i.end.row=t[t.length-1].end.row,i.end.column=t[t.length-1].end.column):i.range.isStart(n.start.row,n.start.column)?(t.shift(),i.start.row=t[0].start.row,i.start.column=t[0].start.column):n.sameRow?t.splice(t.indexOf(n),1):(r=i.split(n.start.row,n.start.column),t=r.folds,t.shift(),r.start.row=t[0].start.row,r.start.column=t[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(u,f):this.$updateRowLengthCache(u,f));this.$modified=!0;this._signal("changeFold",{data:n,action:"remove"})};this.removeFolds=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);i.forEach(function(n){this.removeFold(n)},this);this.$modified=!0};this.expandFold=function(n){this.removeFold(n);n.subFolds.forEach(function(t){n.restoreRange(t);this.addFold(t)},this);n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1);n.subFolds=[]};this.expandFolds=function(n){n.forEach(function(n){this.expandFold(n)},this)};this.unfold=function(n,t){var u,r,f;if(n==null)u=new i(0,0,this.getLength(),0),t==null&&(t=!0);else if(typeof n=="number")u=new i(n,0,n,this.getLine(n).length);else if("row"in n)u=i.fromPoints(n,n);else{if(Array.isArray(n))return r=[],n.forEach(function(n){r=r.concat(this.unfold(n))},this),r;u=n}for(r=this.getFoldsInRangeList(u),f=r;r.length==1&&i.comparePoints(r[0].start,u.start)<0&&i.comparePoints(r[0].end,u.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(u);return t!=!1?this.removeFolds(r):this.expandFolds(r),f.length?f:void 0};this.isRowFolded=function(n,t){return!!this.getFoldLine(n,t)};this.getRowFoldEnd=function(n,t){var i=this.getFoldLine(n,t);return i?i.end.row:n};this.getRowFoldStart=function(n,t){var i=this.getFoldLine(n,t);return i?i.start.row:n};this.getFoldDisplayLine=function(n,t,i,r,u){r==null&&(r=n.start.row);u==null&&(u=0);t==null&&(t=n.end.row);i==null&&(i=this.getLine(t).length);var e=this.doc,f="";return n.walk(function(n,t,i,o){if(!(t<r)){if(t==r){if(i<u)return;o=Math.max(u,o)}f+=n!=null?n:e.getLine(t).substring(o,i)}},t,i),f};this.getDisplayLine=function(n,t,i,r){var f=this.getFoldLine(n),u;return f?this.getFoldDisplayLine(f,n,t,i,r):(u=this.doc.getLine(n),u.substring(r||0,t||u.length))};this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var i=t.folds.map(function(n){return n.clone()});return new r(n,i)})};this.toggleFold=function(n){var o=this.selection,t=o.getRange(),i,r,u,e,f;if(t.isEmpty()){if(u=t.start,i=this.getFoldAt(u.row,u.column),i){this.expandFold(i);return}(r=this.findMatchingBracket(u))?t.comparePoint(r)==1?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:u.row,column:u.column+1}))?(t.comparePoint(r)==1?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(u.row,u.column)||t}else{if(e=this.getFoldsInRange(t),n&&e.length){this.expandFolds(e);return}e.length==1&&(i=e[0])}if(i||(i=this.getFoldAt(t.start.row,t.start.column)),i&&i.range.toString()==t.toString()){this.expandFold(i);return}if(f="...",!t.isMultiLine()){if(f=this.getTextRange(t),f.length<4)return;f=f.trim().substring(0,2)+".."}this.addFold(f,t)};this.getCommentFoldRange=function(n,t,r){var u=new f(this,n,t),e=u.getCurrentToken(),o=e&&e.type,c,s,l,h,a;if(e&&/^comment|string/.test(o)){if(o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start|\\.doc"),c=new RegExp(o),s=new i,r!=1){do e=u.stepBackward();while(e&&c.test(e.type));e=u.stepForward()}if(s.start.row=u.getCurrentTokenRow(),s.start.column=u.getCurrentTokenColumn()+e.value.length,u=new f(this,n,t),l=this.getState(u.$row),r!=-1){h=-1;do if(e=u.stepForward(),h==-1)a=this.getState(u.$row),l.toString()!==a.toString()&&(h=u.$row);else if(u.$row>h)break;while(e&&c.test(e.type));e=u.stepBackward()}else e=u.getCurrentToken();return s.end.row=u.getCurrentTokenRow(),s.end.column=u.getCurrentTokenColumn(),s}};this.foldAll=function(n,t,i,r){var e,u,f;if(i==undefined&&(i=1e5),e=this.foldWidgets,e)for(t=t||this.getLength(),n=n||0,u=n;u<t;u++)(e[u]==null&&(e[u]=this.getFoldWidget(u)),e[u]=="start")&&(!r||r(u))&&(f=this.getFoldWidgetRange(u),f&&f.isMultiLine()&&f.end.row<=t&&f.start.row>=n&&(u=f.end.row,f.collapseChildren=i,this.addFold("...",f)))};this.foldToLevel=function(n){for(this.foldAll();n-->0;)this.unfold(null,!1)};this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(t){for(var i,u=n.getTokens(t),r=0;r<u.length;r++)if(i=u[r],i.type!="text"||!/^\s+$/.test(i.value))return/comment/.test(i.type)?!0:!1})};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n;n=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null);this.$setFolding(t)}};this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle);this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}};this.getParentFoldRangeData=function(n,t){var u=this.foldWidgets,i,e,f,r;if(!u||t&&u[n])return{};for(i=n-1;i>=0;){if(f=u[i],f==null&&(f=u[i]=this.getFoldWidget(i)),f=="start"&&(r=this.getFoldWidgetRange(i),e||(e=r),r&&r.end.row>=n))break;i--}return{range:i!==-1&&r,firstRange:e}};this.onFoldWidgetClick=function(n,t){var r,u,i;t instanceof e&&(t=t.domEvent);r={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};u=this.$toggleFoldWidget(n,r);u||(i=t.target||t.srcElement,i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid"))};this.$toggleFoldWidget=function(n,t){var i,u,o,f;if(this.getFoldWidget){var s=this.getFoldWidget(n),h=this.getLine(n),e=s==="end"?-1:1,r=this.getFoldAt(n,e===-1?0:h.length,e);return r?(t.children||t.all?this.removeFold(r):this.expandFold(r),r):(i=this.getFoldWidgetRange(n,!0),i&&!i.isMultiLine()&&(r=this.getFoldAt(i.start.row,i.start.column,1),r&&i.isEqual(r.range)))?(this.removeFold(r),r):(t.siblings?(u=this.getParentFoldRangeData(n),u.range&&(o=u.range.start.row+1,f=u.range.end.row),this.foldAll(o,f,t.all?1e4:0)):t.children?(f=i?i.end.row:this.getLength(),this.foldAll(n+1,f,t.all?1e4:0)):i&&(t.all&&(i.collapseChildren=1e4),this.addFold("...",i)),i)}};this.toggleFoldWidget=function(){var n=this.selection.getCursor().row,t,i,r;(n=this.getRowFoldStart(n),t=this.$toggleFoldWidget(n,{}),t)||(i=this.getParentFoldRangeData(n,!0),t=i.range||i.firstRange,t&&(n=t.start.row,r=this.getFoldAt(n,this.getLine(n).length,1),r?this.removeFold(r):this.addFold("...",t)))};this.updateFoldWidgets=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.foldWidgets[t]=null:n.action=="remove"?this.foldWidgets.splice(t,i+1,null):(r=Array(i+1),r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r))};this.tokenizerUpdateFoldWidgets=function(n){var t=n.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=n("../range").Range,r=n("./fold_line").FoldLine,u=n("./fold").Fold,f=n("../token_iterator").TokenIterator,e=n("../mouse/mouse_event").MouseEvent;t.Folding=o});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,t){"use strict";function u(){this.findMatchingBracket=function(n,t){var r,i;return n.column==0?null:(r=t||this.getLine(n.row).charAt(n.column-1),r=="")?null:(i=r.match(/([\(\[\{])|([\)\]\}])/),!i)?null:i[1]?this.$findClosingBracket(i[1],n):this.$findOpeningBracket(i[2],n)};this.getBracketRange=function(n){var o=this.getLine(n.row),e=!0,t,f=o.charAt(n.column-1),r=f&&f.match(/([\(\[\{])|([\)\]\}])/),u;if(r||(f=o.charAt(n.column),n={row:n.row,column:n.column+1},r=f&&f.match(/([\(\[\{])|([\)\]\}])/),e=!1),!r)return null;if(r[1]){if(u=this.$findClosingBracket(r[1],n),!u)return null;t=i.fromPoints(n,u);e||(t.end.column++,t.start.column--);t.cursor=t.end}else{if(u=this.$findOpeningBracket(r[2],n),!u)return null;t=i.fromPoints(u,n);e||(t.start.column++,t.end.column--);t.cursor=t.start}return t};this.getMatchingBracketRanges=function(n,t){var o=this.getLine(n.row),s=/([\(\[\{])|([\)\]\}])/,f=!t&&o.charAt(n.column-1),r=f&&f.match(s),e,u,h;return(r||(f=(t===undefined||t)&&o.charAt(n.column),n={row:n.row,column:n.column+1},r=f&&f.match(s)),!r)?null:(e=new i(n.row,n.column-1,n.row,n.column),u=r[1]?this.$findClosingBracket(r[1],n):this.$findOpeningBracket(r[2],n),!u)?[e]:(h=new i(u.row,u.column,u.row,u.column+1),[e,h])};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"};this.$findOpeningBracket=function(n,t,i){var c=this.$brackets[n],s=1,f=new r(this,t.row,t.column),u=f.getCurrentToken(),e,o,h;if(u||(u=f.stepForward()),u){for(i||(i=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+")),e=t.column-f.getCurrentTokenColumn()-2,o=u.value;;){while(e>=0){if(h=o.charAt(e),h==c){if(s-=1,s==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(s+=1);e-=1}do u=f.stepBackward();while(u&&!i.test(u.type));if(u==null)break;o=u.value;e=o.length-1}return null}};this.$findClosingBracket=function(n,t,i){var l=this.$brackets[n],o=1,f=new r(this,t.row,t.column),u=f.getCurrentToken(),e,s,c,h;if(u||(u=f.stepForward()),u){for(i||(i=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+")),e=t.column-f.getCurrentTokenColumn();;){for(s=u.value,c=s.length;e<c;){if(h=s.charAt(e),h==l){if(o-=1,o==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(o+=1);e+=1}do u=f.stepForward();while(u&&!i.test(u.type));if(u==null)break;e=0}return null}};this.getMatchingTags=function(n){var t=new r(this,n.row,n.column),i=this.$findTagName(t),u;if(i)return u=t.stepBackward(),u.value==="<"?this.$findClosingTag(t,i):this.$findOpeningTag(t,i)};this.$findTagName=function(n){var t=n.getCurrentToken(),i=!1,r=!1;if(t&&t.type.indexOf("tag-name")===-1)do t=r?n.stepBackward():n.stepForward(),t&&(t.value==="/>"?r=!0:t.type.indexOf("tag-name")!==-1&&(i=!0));while(t&&!i);return t};this.$findClosingTag=function(n,t){var s,l=t.value,v=t.value,u=0,a=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),r,f,e,o,h,c;t=n.stepForward();r=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+t.value.length);f=!1;do if(s=t,s.type.indexOf("tag-close")===-1||f||(e=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),f=!0),t=n.stepForward(),t)if(t.value!==">"||f||(e=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),f=!0),t.type.indexOf("tag-name")!==-1){if(l=t.value,v===l)if(s.value==="<")u++;else if(s.value==="<\/"&&(u--,u<0))if(n.stepBackward(),o=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+2),t=n.stepForward(),h=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+t.value.length),t.type.indexOf("tag-close")===-1&&(t=n.stepForward()),t&&t.value===">")c=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1);else return}else if(v===l&&t.value==="/>"&&(u--,u<0))var o=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+2),h=o,c=h,e=new i(r.end.row,r.end.column,r.end.row,r.end.column+1);while(t&&u>=0);if(a&&e&&o&&c&&r&&h)return{openTag:new i(a.start.row,a.start.column,e.end.row,e.end.column),closeTag:new i(o.start.row,o.start.column,c.end.row,c.end.column),openTagName:r,closeTagName:h}};this.$findOpeningTag=function(n,t){var r=n.getCurrentToken(),b=t.value,f=0,e=n.getCurrentTokenRow(),o=n.getCurrentTokenColumn(),l=o+2,a=new i(e,o,e,l),v,s,y,h,c,p,u,w;if(n.stepForward(),v=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+t.value.length),t.type.indexOf("tag-close")===-1&&(t=n.stepForward()),t&&t.value===">"){s=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1);n.stepBackward();n.stepBackward();do if(t=r,e=n.getCurrentTokenRow(),o=n.getCurrentTokenColumn(),l=o+t.value.length,r=n.stepBackward(),t)if(t.type.indexOf("tag-name")!==-1){if(b===t.value)if(r.value==="<"){if(f++,f>0){y=new i(e,o,e,l);h=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1);do t=n.stepForward();while(t&&t.value!==">");c=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1)}}else r.value==="<\/"&&f--}else if(t.value==="/>"){for(p=0,u=r;u;){if(u.type.indexOf("tag-name")!==-1&&u.value===b){f--;break}else if(u.value==="<")break;u=n.stepBackward();p++}for(w=0;w<p;w++)n.stepForward()}while(r&&f<=0);if(h&&c&&a&&s&&y&&v)return{openTag:new i(h.start.row,h.start.column,c.end.row,c.end.column),closeTag:new i(a.start.row,a.start.column,s.end.row,s.end.column),openTagName:y,closeTagName:v}}}}var r=n("../token_iterator").TokenIterator,i=n("../range").Range;t.BracketMatch=u});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,t){"use strict";function s(n){return n<4352?!1:n>=4352&&n<=4447||n>=4515&&n<=4519||n>=4602&&n<=4607||n>=9001&&n<=9002||n>=11904&&n<=11929||n>=11931&&n<=12019||n>=12032&&n<=12245||n>=12272&&n<=12283||n>=12288&&n<=12350||n>=12353&&n<=12438||n>=12441&&n<=12543||n>=12549&&n<=12589||n>=12593&&n<=12686||n>=12688&&n<=12730||n>=12736&&n<=12771||n>=12784&&n<=12830||n>=12832&&n<=12871||n>=12880&&n<=13054||n>=13056&&n<=19903||n>=19968&&n<=42124||n>=42128&&n<=42182||n>=43360&&n<=43388||n>=44032&&n<=55203||n>=55216&&n<=55238||n>=55243&&n<=55291||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65106||n>=65108&&n<=65126||n>=65128&&n<=65131||n>=65281&&n<=65376||n>=65504&&n<=65510}var w=n("./lib/oop"),h=n("./lib/lang"),b=n("./bidihandler").BidiHandler,u=n("./config"),k=n("./lib/event_emitter").EventEmitter,d=n("./selection").Selection,c=n("./mode/text").Mode,r=n("./range").Range,g=n("./document").Document,nt=n("./background_tokenizer").BackgroundTokenizer,tt=n("./search_highlight").SearchHighlight,it=n("./undomanager").UndoManager,i=function(){function n(t,i){this.doc;this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++n.$uid;this.$foldData.toString=function(){return this.join("\n")};this.bgTokenizer=new nt((new c).getTokenizer(),this);var r=this;this.bgTokenizer.on("update",function(n){r._signal("tokenizerUpdate",n)});this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);typeof t=="object"&&t.getLine||(t=new g(t));this.setDocument(t);this.selection=new d(this);this.$bidiHandler=new b(this);u.resetOptions(this);this.setMode(i);u._signal("session",this);this.destroyed=!1}return n.prototype.setDocument=function(n){this.doc&&this.doc.off("change",this.$onChange);this.doc=n;n.on("change",this.$onChange,!0);this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()},n.prototype.getDocument=function(){return this.doc},n.prototype.$resetRowCache=function(n){if(!n){this.$docRowCache=[];this.$screenRowCache=[];return}var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,n)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},n.prototype.$getRowCacheIndex=function(n,t){for(var r=0,u=n.length-1,i,f;r<=u;)if(i=r+u>>1,f=n[i],t>f)r=i+1;else if(t<f)u=i-1;else return i;return r-1},n.prototype.resetCaches=function(){this.$modified=!0;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);this.destroyed||this.bgTokenizer.start(0)},n.prototype.onChangeFold=function(n){var t=n.data;this.$resetRowCache(t.start.row)},n.prototype.onChange=function(n){this.$modified=!0;this.$bidiHandler.onChange(n);this.$resetRowCache(n.start.row);var t=this.$updateInternalDataOnChange(n);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(n,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule());this.bgTokenizer.$updateOnChange(n);this._signal("change",n)},n.prototype.setValue=function(n){this.doc.setValue(n);this.selection.moveTo(0,0);this.$resetRowCache(0);this.setUndoManager(this.$undoManager);this.getUndoManager().reset()},n.fromJSON=function(t){var u,i;return typeof t=="string"&&(t=JSON.parse(t)),u=new it,u.$undoStack=t.history.undo,u.$redoStack=t.history.redo,u.mark=t.history.mark,u.$rev=t.history.rev,i=new n(t.value),t.folds.forEach(function(n){i.addFold("...",r.fromPoints(n.start,n.end))}),i.setAnnotations(t.annotations),i.setBreakpoints(t.breakpoints),i.setMode(t.mode),i.setScrollLeft(t.scrollLeft),i.setScrollTop(t.scrollTop),i.setUndoManager(u),i.selection.fromJSON(t.selection),i},n.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(n){return n.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},n.prototype.toString=function(){return this.doc.getValue()},n.prototype.getSelection=function(){return this.selection},n.prototype.getState=function(n){return this.bgTokenizer.getState(n)},n.prototype.getTokens=function(n){return this.bgTokenizer.getTokens(n)},n.prototype.getTokenAt=function(n,t){var u=this.bgTokenizer.getTokens(n),r,f=0,i;if(t==null)i=u.length-1,f=this.getLine(n).length;else for(i=0;i<u.length;i++)if(f+=u[i].value.length,f>=t)break;return(r=u[i],!r)?null:(r.index=i,r.start=f-r.value.length,r)},n.prototype.setUndoManager=function(n){if(this.$undoManager=n,this.$informUndoManager&&this.$informUndoManager.cancel(),n){var t=this;n.addSession(this);this.$syncInformUndoManager=function(){t.$informUndoManager.cancel();t.mergeUndoDeltas=!1};this.$informUndoManager=h.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},n.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},n.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},n.prototype.getTabString=function(){return this.getUseSoftTabs()?h.stringRepeat(" ",this.getTabSize()):"\t"},n.prototype.setUseSoftTabs=function(n){this.setOption("useSoftTabs",n)},n.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},n.prototype.setTabSize=function(n){this.setOption("tabSize",n)},n.prototype.getTabSize=function(){return this.$tabSize},n.prototype.isTabStop=function(n){return this.$useSoftTabs&&n.column%this.$tabSize==0},n.prototype.setNavigateWithinSoftTabs=function(n){this.setOption("navigateWithinSoftTabs",n)},n.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},n.prototype.setOverwrite=function(n){this.setOption("overwrite",n)},n.prototype.getOverwrite=function(){return this.$overwrite},n.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},n.prototype.addGutterDecoration=function(n,t){this.$decorations[n]||(this.$decorations[n]="");this.$decorations[n]+=" "+t;this._signal("changeBreakpoint",{})},n.prototype.removeGutterDecoration=function(n,t){this.$decorations[n]=(this.$decorations[n]||"").replace(" "+t,"");this._signal("changeBreakpoint",{})},n.prototype.getBreakpoints=function(){return this.$breakpoints},n.prototype.setBreakpoints=function(n){this.$breakpoints=[];for(var t=0;t<n.length;t++)this.$breakpoints[n[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},n.prototype.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})},n.prototype.setBreakpoint=function(n,t){t===undefined&&(t="ace_breakpoint");t?this.$breakpoints[n]=t:delete this.$breakpoints[n];this._signal("changeBreakpoint",{})},n.prototype.clearBreakpoint=function(n){delete this.$breakpoints[n];this._signal("changeBreakpoint",{})},n.prototype.addMarker=function(n,t,i,r){var u=this.$markerId++,f={range:n,type:i||"line",renderer:typeof i=="function"?i:null,clazz:t,inFront:!!r,id:u};return r?(this.$frontMarkers[u]=f,this._signal("changeFrontMarker")):(this.$backMarkers[u]=f,this._signal("changeBackMarker")),u},n.prototype.addDynamicMarker=function(n,t){if(n.update){var i=this.$markerId++;return n.id=i,n.inFront=!!t,t?(this.$frontMarkers[i]=n,this._signal("changeFrontMarker")):(this.$backMarkers[i]=n,this._signal("changeBackMarker")),n}},n.prototype.removeMarker=function(n){var t=this.$frontMarkers[n]||this.$backMarkers[n],i;t&&(i=t.inFront?this.$frontMarkers:this.$backMarkers,delete i[n],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},n.prototype.getMarkers=function(n){return n?this.$frontMarkers:this.$backMarkers},n.prototype.highlight=function(n){if(!this.$searchHighlight){var t=new tt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(n)},n.prototype.highlightLines=function(n,t,i,u){typeof t!="number"&&(i=t,t=n);i||(i="ace_step");var f=new r(n,0,t,Infinity);return f.id=this.addMarker(f,i,"fullLine",u),f},n.prototype.setAnnotations=function(n){this.$annotations=n;this._signal("changeAnnotation",{})},n.prototype.getAnnotations=function(){return this.$annotations||[]},n.prototype.clearAnnotations=function(){this.setAnnotations([])},n.prototype.$detectNewLine=function(n){var t=n.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},n.prototype.getWordRange=function(n,t){var u=this.getLine(n),e=!1,o,i,f;if(t>0&&(e=!!u.charAt(t-1).match(this.tokenRe)),e||(e=!!u.charAt(t).match(this.tokenRe)),o=e?this.tokenRe:/^\s+$/.test(u.slice(t-1,t+1))?/\s/:this.nonTokenRe,i=t,i>0){do i--;while(i>=0&&u.charAt(i).match(o));i++}for(f=t;f<u.length&&u.charAt(f).match(o);)f++;return new r(n,i,n,f)},n.prototype.getAWordRange=function(n,t){for(var i=this.getWordRange(n,t),r=this.getLine(i.end.row);r.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},n.prototype.setNewLineMode=function(n){this.doc.setNewLineMode(n)},n.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},n.prototype.setUseWorker=function(n){this.setOption("useWorker",n)},n.prototype.getUseWorker=function(){return this.$useWorker},n.prototype.onReloadTokenizer=function(n){var t=n.data;this.bgTokenizer.start(t.first);this._signal("tokenizerUpdate",n)},n.prototype.setMode=function(n,t){if(n&&typeof n=="object"){if(n.getTokenizer)return this.$onChangeMode(n);var r=n,i=r.path}else i=n||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!r){this.$onChangeMode(this.$modes[i]);t&&t();return}this.$modeId=i;u.loadModule(["mode",i],function(n){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!r?this.$onChangeMode(this.$modes[i]):n&&n.Mode&&(n=new n.Mode(r),r||(this.$modes[i]=n,n.$id=i),this.$onChangeMode(n));t&&t()}.bind(this));this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},n.prototype.$onChangeMode=function(n,t){var r,i,u;if(t||(this.$modeId=n.$id),this.$mode!==n){if(r=this.$mode,this.$mode=n,this.$stopWorker(),this.$useWorker&&this.$startWorker(),i=n.getTokenizer(),i.on!==undefined){u=this.onReloadTokenizer.bind(this);i.on("update",u)}this.bgTokenizer.setTokenizer(i);this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=n.tokenRe;this.nonTokenRe=n.nonTokenRe;t||(n.attachToSession&&n.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(n.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:r,mode:n}))}},n.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},n.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(n){u.warn("Could not load worker",n);this.$worker=null}},n.prototype.getMode=function(){return this.$mode},n.prototype.setScrollTop=function(n){this.$scrollTop===n||isNaN(n)||(this.$scrollTop=n,this._signal("changeScrollTop",n))},n.prototype.getScrollTop=function(){return this.$scrollTop},n.prototype.setScrollLeft=function(n){this.$scrollLeft===n||isNaN(n)||(this.$scrollLeft=n,this._signal("changeScrollLeft",n))},n.prototype.getScrollLeft=function(){return this.$scrollLeft},n.prototype.getScreenWidth=function(){return(this.$computeWidth(),this.lineWidgets)?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},n.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var n=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>n&&(n=t.screenWidth)}),this.lineWidgetWidth=n},n.prototype.$computeWidth=function(n){var t;if(this.$modified||n){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var f=this.doc.getAllLines(),r=this.$rowLengthCache,u=0,e=0,i=this.$foldData[e],o=i?i.start.row:Infinity,s=f.length;for(t=0;t<s;t++){if(t>o){if(t=i.end.row+1,t>=s)break;i=this.$foldData[e++];o=i?i.start.row:Infinity}r[t]==null&&(r[t]=this.$getStringScreenWidth(f[t])[0]);r[t]>u&&(u=r[t])}this.screenWidth=u}},n.prototype.getLine=function(n){return this.doc.getLine(n)},n.prototype.getLines=function(n,t){return this.doc.getLines(n,t)},n.prototype.getLength=function(){return this.doc.getLength()},n.prototype.getTextRange=function(n){return this.doc.getTextRange(n||this.selection.getRange())},n.prototype.insert=function(n,t){return this.doc.insert(n,t)},n.prototype.remove=function(n){return this.doc.remove(n)},n.prototype.removeFullLines=function(n,t){return this.doc.removeFullLines(n,t)},n.prototype.undoChanges=function(n,t){var r,i;if(n.length){for(this.$fromUndo=!0,r=n.length-1;r!=-1;r--)i=n[r],i.action=="insert"||i.action=="remove"?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds);!t&&this.$undoSelect&&(n.selectionBefore?this.selection.fromJSON(n.selectionBefore):this.selection.setRange(this.$getUndoSelection(n,!0)));this.$fromUndo=!1}},n.prototype.redoChanges=function(n,t){var i,r;if(n.length){for(this.$fromUndo=!0,i=0;i<n.length;i++)r=n[i],(r.action=="insert"||r.action=="remove")&&this.doc.$safeApplyDelta(r);!t&&this.$undoSelect&&(n.selectionAfter?this.selection.fromJSON(n.selectionAfter):this.selection.setRange(this.$getUndoSelection(n,!1)));this.$fromUndo=!1}},n.prototype.setUndoSelect=function(n){this.$undoSelect=n},n.prototype.$getUndoSelection=function(n,t){function o(n){return t?n.action!=="insert":n.action==="insert"}for(var i,f,u,e=0;e<n.length;e++)if(i=n[e],i.start){if(!f){f=o(i)?r.fromPoints(i.start,i.end):r.fromPoints(i.start,i.start);continue}o(i)?(u=i.start,f.compare(u.row,u.column)==-1&&f.setStart(u),u=i.end,f.compare(u.row,u.column)==1&&f.setEnd(u)):(u=i.start,f.compare(u.row,u.column)==-1&&(f=r.fromPoints(i.start,i.start)))}return f},n.prototype.replace=function(n,t){return this.doc.replace(n,t)},n.prototype.moveText=function(n,t,i){var c=this.getTextRange(n),s=this.getFoldsInRange(n),u=r.fromPoints(t,t),f,e;if(i||(this.remove(n),f=n.start.row-n.end.row,e=f?-n.end.column:n.start.column-n.end.column,e&&(u.start.row==n.end.row&&u.start.column>n.end.column&&(u.start.column+=e),u.end.row==n.end.row&&u.end.column>n.end.column&&(u.end.column+=e)),f&&u.start.row>=n.end.row&&(u.start.row+=f,u.end.row+=f)),u.end=this.insert(u.start,c),s.length){var o=n.start,h=u.start,f=h.row-o.row,e=h.column-o.column;this.addFolds(s.map(function(n){return n=n.clone(),n.start.row==o.row&&(n.start.column+=e),n.end.row==o.row&&(n.end.column+=e),n.start.row+=f,n.end.row+=f,n}))}return u},n.prototype.indentRows=function(n,t,i){i=i.replace(/\t/g,this.getTabString());for(var r=n;r<=t;r++)this.doc.insertInLine({row:r,column:0},i)},n.prototype.outdentRows=function(n){for(var f,t,e=n.collapseRows(),i=new r(0,0,0,0),o=this.getTabSize(),u=e.start.row;u<=e.end.row;++u){for(f=this.getLine(u),i.start.row=u,i.end.row=u,t=0;t<o;++t)if(f.charAt(t)!=" ")break;t<o&&f.charAt(t)=="\t"?(i.start.column=t,i.end.column=t+1):(i.start.column=0,i.end.column=t);this.remove(i)}},n.prototype.$moveLines=function(n,t,i){var f,u;if(n=this.getRowFoldStart(n),t=this.getRowFoldEnd(t),i<0){if(f=this.getRowFoldStart(n+i),f<0)return 0;u=f-n}else if(i>0){if(f=this.getRowFoldEnd(t+i),f>this.doc.getLength()-1)return 0;u=f-t}else n=this.$clipRowToDocument(n),t=this.$clipRowToDocument(t),u=t-n+1;var o=new r(n,0,t,Number.MAX_VALUE),e=this.getFoldsInRange(o).map(function(n){return n=n.clone(),n.start.row+=u,n.end.row+=u,n}),s=i==0?this.doc.getLines(n,t):this.doc.removeFullLines(n,t);return this.doc.insertFullLines(n+u,s),e.length&&this.addFolds(e),u},n.prototype.moveLinesUp=function(n,t){return this.$moveLines(n,t,-1)},n.prototype.moveLinesDown=function(n,t){return this.$moveLines(n,t,1)},n.prototype.duplicateLines=function(n,t){return this.$moveLines(n,t,0)},n.prototype.$clipRowToDocument=function(n){return Math.max(0,Math.min(n,this.doc.getLength()-1))},n.prototype.$clipColumnToRow=function(n,t){return t<0?0:Math.min(this.doc.getLine(n).length,t)},n.prototype.$clipPositionToDocument=function(n,t){if(t=Math.max(0,t),n<0)n=0,t=0;else{var i=this.doc.getLength();n>=i?(n=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(n).length,t)}return{row:n,column:t}},n.prototype.$clipRangeToDocument=function(n){n.start.row<0?(n.start.row=0,n.start.column=0):n.start.column=this.$clipColumnToRow(n.start.row,n.start.column);var t=this.doc.getLength()-1;return n.end.row>t?(n.end.row=t,n.end.column=this.doc.getLine(t).length):n.end.column=this.$clipColumnToRow(n.end.row,n.end.column),n},n.prototype.setUseWrapMode=function(n){if(n!=this.$useWrapMode){if(this.$useWrapMode=n,this.$modified=!0,this.$resetRowCache(0),n){var t=this.getLength();this.$wrapData=Array(t);this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},n.prototype.getUseWrapMode=function(){return this.$useWrapMode},n.prototype.setWrapLimitRange=function(n,t){(this.$wrapLimitRange.min!==n||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:n,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},n.prototype.adjustWrapLimit=function(n,t){var i=this.$wrapLimitRange,r;return(i.max<0&&(i={min:t,max:t}),r=this.$constrainWrapLimit(n,i.min,i.max),r!=this.$wrapLimit&&r>1)?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},n.prototype.$constrainWrapLimit=function(n,t,i){return t&&(n=Math.max(t,n)),i&&(n=Math.min(i,n)),n},n.prototype.getWrapLimit=function(){return this.$wrapLimit},n.prototype.setWrapLimit=function(n){this.setWrapLimitRange(n,n)},n.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},n.prototype.$updateInternalDataOnChange=function(n){var l=this.$useWrapMode,p=n.action,f=n.start,e=n.end,i=f.row,s=e.row,r=s-i,h=null,o,u,c,a,v,y,t;if(this.$updating=!0,r!=0)if(p==="remove"){for(this[l?"$wrapData":"$rowLengthCache"].splice(i,r),o=this.$foldData,h=this.getFoldsInRange(n),this.removeFolds(h),t=this.getFoldLine(e.row),u=0,t&&(t.addRemoveChars(e.row,e.column,f.column-e.column),t.shiftRow(-r),c=this.getFoldLine(i),c&&c!==t&&(c.merge(t),t=c),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=e.row&&t.shiftRow(-r);s=i}else{a=Array(r);a.unshift(i,0);v=l?this.$wrapData:this.$rowLengthCache;v.splice.apply(v,a);var o=this.$foldData,t=this.getFoldLine(i),u=0;for(t&&(y=t.range.compareInside(f.row,f.column),y==0?(t=t.split(f.row,f.column),t&&(t.shiftRow(r),t.addRemoveChars(s,0,e.column-f.column))):y==-1&&(t.addRemoveChars(i,0,e.column-f.column),t.shiftRow(r)),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=i&&t.shiftRow(r)}else r=Math.abs(n.start.column-n.end.column),p==="remove"&&(h=this.getFoldsInRange(n),this.removeFolds(h),r=-r),t=this.getFoldLine(i),t&&t.addRemoveChars(i,f.column,r);return l&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,l?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),h},n.prototype.$updateRowLengthCache=function(n,t){this.$rowLengthCache[n]=null;this.$rowLengthCache[t]=null},n.prototype.$updateWrapData=function(n,t){var e=this.doc.getAllLines(),s=this.getTabSize(),h=this.$wrapData,c=this.$wrapLimit,i,r,u=n;for(t=Math.min(t,e.length-1);u<=t;)r=this.getFoldLine(u,r),r?(i=[],r.walk(function(n,t,r,u){var s,h;if(n!=null)for(s=this.$getDisplayTokens(n,i.length),s[0]=f,h=1;h<s.length;h++)s[h]=o;else s=this.$getDisplayTokens(e[t].substring(u,r),i.length);i=i.concat(s)}.bind(this),r.end.row,e[r.end.row].length+1),h[r.start.row]=this.$computeWrapSplits(i,c,s),u=r.end.row+1):(i=this.$getDisplayTokens(e[u]),h[u]=this.$computeWrapSplits(i,c,s),u++)},n.prototype.$computeWrapSplits=function(n,t,i){function nt(){var t=0,r,u;if(d===0)return t;if(w)for(r=0;r<n.length;r++)if(u=n[r],u==e)t+=1;else if(u==y)t+=i;else if(u==p)continue;else break;return k&&w!==!1&&(t+=i),Math.min(t,d)}function c(t){for(var r,f=t-u,i=u;i<t;i++)r=n[i],(r===12||r===2)&&(f-=1);l.length||(s=nt(),l.indent=s);b+=f;l.push(b);u=t}var s,r,h;if(n.length==0)return[];var l=[],g=n.length,u=0,b=0,k=this.$wrapAsCode,w=this.$indentedSoftWrap,d=t<=Math.max(2*i,8)||w===!1?0:Math.floor(t/2);for(s=0;g-u>t-s;){if(r=u+t-s,n[r-1]>=e&&n[r]>=e){c(r);continue}if(n[r]==f||n[r]==o){for(r;r!=u-1;r--)if(n[r]==f)break;if(r>u){c(r);continue}for(r=u+t,r;r<n.length;r++)if(n[r]!=o)break;if(r==n.length)break;c(r);continue}for(h=Math.max(r-(t-(t>>2)),u-1);r>h&&n[r]<f;)r--;if(k){while(r>h&&n[r]<f)r--;while(r>h&&n[r]==v)r--}else while(r>h&&n[r]<e)r--;if(r>h){c(++r);continue}r=u+t;n[r]==a&&r--;c(r-s)}return l},n.prototype.$getDisplayTokens=function(n,t){var r=[],o,u,i,f;for(t=t||0,u=0;u<n.length;u++)if(i=n.charCodeAt(u),i==9)for(o=this.getScreenTabSize(r.length+t),r.push(y),f=1;f<o;f++)r.push(p);else i==32?r.push(e):i>39&&i<48||i>57&&i<64?r.push(v):i>=4352&&s(i)?r.push(l,a):r.push(l);return r},n.prototype.$getStringScreenWidth=function(n,t,i){if(t==0)return[0,0];t==null&&(t=Infinity);i=i||0;for(var u,r=0;r<n.length;r++)if(u=n.charCodeAt(r),i+=u==9?this.getScreenTabSize(i):u>=4352&&s(u)?2:1,i>t)break;return[i,r]},n.prototype.getRowLength=function(n){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0),this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+t:t},n.prototype.getRowLineCount=function(n){return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1:1},n.prototype.getRowWrapIndent=function(n){if(this.$useWrapMode){var i=this.screenToDocumentPosition(n,Number.MAX_VALUE),t=this.$wrapData[i.row];return t.length&&t[0]<i.column?t.indent:0}return 0},n.prototype.getScreenLastRowColumn=function(n){var t=this.screenToDocumentPosition(n,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},n.prototype.getDocumentLastRowColumn=function(n,t){var i=this.documentToScreenRow(n,t);return this.getScreenLastRowColumn(i)},n.prototype.getDocumentLastRowColumnPosition=function(n,t){var i=this.documentToScreenRow(n,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},n.prototype.getRowSplitData=function(n){return this.$useWrapMode?this.$wrapData[n]:undefined},n.prototype.getScreenTabSize=function(n){return this.$tabSize-(n%this.$tabSize|0)},n.prototype.screenToDocumentRow=function(n,t){return this.screenToDocumentPosition(n,t).row},n.prototype.screenToDocumentColumn=function(n,t){return this.screenToDocumentPosition(n,t).column},n.prototype.screenToDocumentPosition=function(n,t,i){var b,w,s,f;if(n<0)return{row:0,column:0};var h,r=0,e=0,v,o=0,c=0,l=this.$screenRowCache,y=this.$getRowCacheIndex(l,n),p=l.length;if(p&&y>=0)var o=l[y],r=this.$docRowCache[y],b=n>l[p-1];else b=!p;for(var a=this.getLength()-1,u=this.getNextFoldLine(r),k=u?u.start.row:Infinity;o<=n;){if(c=this.getRowLength(r),o+c>n||r>=a)break;else o+=c,r++,r>k&&(r=u.end.row+1,u=this.getNextFoldLine(r,u),k=u?u.start.row:Infinity);b&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(u&&u.start.row<=r)h=this.getFoldDisplayLine(u),r=u.start.row;else{if(o+c<=n||r>a)return{row:a,column:this.getLine(a).length};h=this.getLine(r);u=null}return(w=0,s=Math.floor(n-o),this.$useWrapMode&&(f=this.$wrapData[r],f&&(v=f[s],s>0&&f.length&&(w=f.indent,e=f[s-1]||f[f.length-1],h=h.substring(e)))),i!==undefined&&this.$bidiHandler.isBidiRow(o+s,r,s)&&(t=this.$bidiHandler.offsetToCol(i)),e+=this.$getStringScreenWidth(h,t-w)[1],this.$useWrapMode&&e>=v&&(e=v-1),u)?u.idxToPosition(e):{row:r,column:e}},n.prototype.documentToScreenPosition=function(n,t){var a,b,r,l,u,w,o,s;a=typeof t=="undefined"?this.$clipPositionToDocument(n.row,n.column):this.$clipPositionToDocument(n,t);n=a.row;t=a.column;var f=0,v=null,h=null;h=this.getFoldAt(n,t,1);h&&(n=h.start.row,t=h.start.column);var e,i=0,c=this.$docRowCache,y=this.$getRowCacheIndex(c,n),p=c.length;if(p&&y>=0)var i=c[y],f=this.$screenRowCache[y],b=n>c[p-1];else b=!p;for(r=this.getNextFoldLine(i),l=r?r.start.row:Infinity;i<n;){if(i>=l){if(e=r.end.row+1,e>n)break;r=this.getNextFoldLine(e,r);l=r?r.start.row:Infinity}else e=i+1;f+=this.getRowLength(i);i=e;b&&(this.$docRowCache.push(i),this.$screenRowCache.push(f))}if(u="",r&&i>=l?(u=this.getFoldDisplayLine(r,n,t),v=r.start.row):(u=this.getLine(n).substring(0,t),v=n),w=0,this.$useWrapMode&&(o=this.$wrapData[v],o)){for(s=0;u.length>=o[s];)f++,s++;u=u.substring(o[s-1]||0,u.length);w=s>0?o.indent:0}return this.lineWidgets&&this.lineWidgets[i]&&this.lineWidgets[i].rowsAbove&&(f+=this.lineWidgets[i].rowsAbove),{row:f,column:w+this.$getStringScreenWidth(u)[0]}},n.prototype.documentToScreenColumn=function(n,t){return this.documentToScreenPosition(n,t).column},n.prototype.documentToScreenRow=function(n,t){return this.documentToScreenPosition(n,t).row},n.prototype.getScreenLength=function(){var i=0,n=null,u,t,f;if(this.$useWrapMode)for(var o=this.$wrapData.length,r=0,t=0,n=this.$foldData[t++],e=n?n.start.row:Infinity;r<o;)f=this.$wrapData[r],i+=f?f.length+1:1,r++,r>e&&(r=n.end.row+1,n=this.$foldData[t++],e=n?n.start.row:Infinity);else for(i=this.getLength(),u=this.$foldData,t=0;t<u.length;t++)n=u[t],i-=n.end.row-n.start.row;return this.lineWidgets&&(i+=this.$getWidgetScreenLength()),i},n.prototype.$setFontMetrics=function(n){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,r){if(i===0)return[0,0];i||(i=Infinity);r=r||0;for(var f,u=0;u<t.length;u++)if(f=t.charAt(u),r+=f==="\t"?this.getScreenTabSize(r):n.getCharacterWidth(f),r>i)break;return[r,u]})},n.prototype.getPrecedingCharacter=function(){var n=this.selection.getCursor(),t;return n.column===0?n.row===0?"":this.doc.getNewLineCharacter():(t=this.getLine(n.row),t[n.column-1])},n.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0);this.$stopWorker();this.removeAllListeners();this.doc&&this.doc.off("change",this.$onChange);this.selection.detach()},n}();i.$uid=0;i.prototype.$modes=u.$modes;i.prototype.getValue=i.prototype.toString;i.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}};i.prototype.$overwrite=!1;i.prototype.$mode=null;i.prototype.$modeId=null;i.prototype.$scrollTop=0;i.prototype.$scrollLeft=0;i.prototype.$wrapLimit=80;i.prototype.$useWrapMode=!1;i.prototype.$wrapLimitRange={min:null,max:null};i.prototype.lineWidgets=null;i.prototype.isFullWidth=s;w.implement(i.prototype,k);var l=1,a=2,f=3,o=4,v=9,e=10,y=11,p=12;n("./edit_session/folding").Folding.call(i.prototype);n("./edit_session/bracket_match").BracketMatch.call(i.prototype);u.defineOptions(i.prototype,"session",{wrap:{set:function(n){if(n&&n!="off"?n=="free"?n=!0:n=="printMargin"?n=-1:typeof n=="string"&&(n=parseInt(n,10)||!1):n=!1,this.$wrap!=n)if(this.$wrap=n,n){var t=typeof n=="number"?n:null;this.setWrapLimitRange(t,t);this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(n){n=n=="auto"?this.$mode.type!="text":n!="text";n!=this.$wrapAsCode&&(this.$wrapAsCode=n,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(n){this.$useWorker=n;this.$stopWorker();n&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(n){n=parseInt(n);n>0&&this.$tabSize!==n&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=n,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(n){this.setFoldStyle(n)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(n){this.doc.setNewLineMode(n)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(n){this.setMode(n)},get:function(){return this.$modeId},handlesSet:!0}});t.EditSession=i});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";function e(n,t){function f(n,i){i===void 0&&(i=!0);var r=u&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return r.test(n)||t.regExp?u&&t.$supportsUnicodeFlag?i?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var u=i.supportsLookbehind(),r=Array.from(n),e=r[0],o=r[r.length-1];return f(e)+n+f(o,!1)}var i=n("./lib/lang"),u=n("./lib/oop"),r=n("./range").Range,f=function(){function n(){this.$options={}}return n.prototype.set=function(n){return u.mixin(this.$options,n),this},n.prototype.getOptions=function(){return i.copyObject(this.$options)},n.prototype.setOptions=function(n){this.$options=n},n.prototype.find=function(n){var t=this.$options,u=this.$matchIterator(n,t),i;return u?(i=null,u.forEach(function(n,u,f,e){return(i=new r(n,u,f,e),u==e&&t.start&&t.start.start&&t.skipCurrent!=!1&&i.isEqual(t.start))?(i=null,!1):!0}),i):!1},n.prototype.findAll=function(n){var l=this.$options,s,p,a,e,u,y,t,v,k;if(!l.needle)return[];this.$assembleRegExp(l);var o=l.range,h=o?n.getLines(o.start.row,o.end.row):n.doc.getAllLines(),f=[],c=l.re;if(l.$isMultiLine){s=c.length;p=h.length-s;n:for(e=c.offset||0;e<=p;e++){for(t=0;t<s;t++)if(h[e+t].search(c[t])==-1)continue n;var w=h[e],d=h[e+s-1],b=w.length-w.match(c[0])[0].length,g=d.match(c[s-1])[0].length;a&&a.end.row===e&&a.end.column>b||(f.push(a=new r(e,b,e+s-1,g)),s>2&&(e=e+s-2))}}else for(u=0;u<h.length;u++)for(y=i.getMatchOffsets(h[u],c),t=0;t<y.length;t++)v=y[t],f.push(new r(u,v.offset,u,v.offset+v.length));if(o){for(var nt=o.start.column,tt=o.end.column,u=0,t=f.length-1;u<t&&f[u].start.column<nt&&f[u].start.row==0;)u++;for(k=o.end.row-o.start.row;u<t&&f[t].end.column>tt&&f[t].end.row==k;)t--;for(f=f.slice(u,t+1),u=0,t=f.length;u<t;u++)f[u].start.row+=o.start.row,f[u].end.row+=o.start.row}return f},n.prototype.replace=function(n,t){var r=this.$options,f=this.$assembleRegExp(r),e,i,u;if(r.$isMultiLine)return t;if(f){if(e=f.exec(n),!e||e[0].length!=n.length)return null;if(r.regExp||(t=t.replace(/\$/g,"$$$$")),t=n.replace(f,t),r.preserveCase){for(t=t.split(""),i=Math.min(n.length,n.length);i--;)u=n[i],t[i]=u&&u.toLowerCase()!=u?t[i].toUpperCase():t[i].toLowerCase();t=t.join("")}return t}},n.prototype.$assembleRegExp=function(n,t){var r,u,f;if(n.needle instanceof RegExp)return n.re=n.needle;if(r=n.needle,!n.needle)return n.re=!1;n.regExp||(r=i.escapeRegExp(r));u=n.caseSensitive?"gm":"gmi";try{new RegExp(r,"u");n.$supportsUnicodeFlag=!0;u+="u"}catch(o){n.$supportsUnicodeFlag=!1}if(n.wholeWord&&(r=e(r,n)),n.$isMultiLine=!t&&/[\n\r]/.test(r),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(r,u);try{f=new RegExp(r,u)}catch(o){f=!1}return n.re=f},n.prototype.$assembleMultilineRegExp=function(n,t){for(var r=n.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),u=[],i=0;i<r.length;i++)try{u.push(new RegExp(r[i],t))}catch(f){return!1}return u},n.prototype.$matchIterator=function(n,t){var r=this.$assembleRegExp(t),h,c,a,s,f;if(!r)return!1;var e=t.backwards==!0,v=t.skipCurrent!=!1,l=r.unicode,o=t.range,u=t.start;return u||(u=o?o[e?"end":"start"]:n.selection.getRange()),u.start&&(u=u[v!=e?"end":"start"]),h=o?o.start.row:0,c=o?o.end.row:n.getLength()-1,a=e?function(n){var i=u.row;if(!f(i,u.column,n)){for(i--;i>=h;i--)if(f(i,Number.MAX_VALUE,n))return;if(t.wrap!=!1)for(i=c,h=u.row;i>=h;i--)if(f(i,Number.MAX_VALUE,n))return}}:function(n){var i=u.row;if(!f(i,u.column,n)){for(i=i+1;i<=c;i++)if(f(i,0,n))return;if(t.wrap!=!1)for(i=h,c=u.row;i<=c;i++)if(f(i,0,n))return}},t.$isMultiLine?(s=r.length,f=function(t,i,u){var f=e?t-s+1:t,o,c,h,l;if(!(f<0)&&!(f+s>n.getLength())&&(o=n.getLine(f),c=o.search(r[0]),(e||!(c<i))&&c!==-1)){for(h=1;h<s;h++)if(o=n.getLine(f+h),o.search(r[h])==-1)return;if(l=o.match(r[s-1])[0].length,!e||!(l>i))return u(f,c,f+s-1,l)?!0:void 0}}):f=e?function(t,u,f){var a=n.getLine(t),h=[],o,c=0,s,v,e;for(r.lastIndex=0;o=r.exec(a);){if(e=o[0].length,c=o.index,!e){if(c>=a.length)break;r.lastIndex=c+=i.skipEmptyMatch(a,c,l)}if(o.index+e>u)break;h.push(o.index,e)}for(s=h.length-1;s>=0;s-=2)if(v=h[s-1],e=h[s],f(t,v,t,v+e))return!0}:function(t,u,f){var o=n.getLine(t),e,s,h;for(r.lastIndex=u;s=r.exec(o);){if(h=s[0].length,e=s.index,f(t,e,t,e+h))return!0;if(!h&&(r.lastIndex=e+=i.skipEmptyMatch(o,e,l),e>=o.length))return!1}},{forEach:a}},n}();t.Search=f});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function f(n){return typeof n=="object"&&n.bindKey&&n.bindKey.position||(n.isDefault?-100:0)}var o=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),i=n("../lib/keys"),s=n("../lib/useragent"),u=i.KEY_MODS,r=function(){function n(n,t){this.$init(n,t,!1)}return n.prototype.$init=function(n,t,i){this.platform=t||(s.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(n);this.$singleCommand=i},n.prototype.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n);this.commands[n.name]=n;n.bindKey&&this._buildKeyHash(n)},n.prototype.removeCommand=function(n,t){var e=n&&(typeof n=="string"?n:n.name),r,u,i,f;n=this.commands[e];t||delete this.commands[e];r=this.commandKeyBinding;for(u in r)i=r[u],i==n?delete r[u]:Array.isArray(i)&&(f=i.indexOf(n),f!=-1&&(i.splice(f,1),i.length==1&&(r[u]=i[0])))},n.prototype.bindKey=function(n,t,i){if(typeof n=="object"&&n&&(i==undefined&&(i=n.position),n=n[this.platform]),n){if(typeof t=="function")return this.addCommand({exec:t,bindKey:n,name:t.name||n});n.split("|").forEach(function(n){var r="",f,e,o;n.indexOf(" ")!=-1&&(f=n.split(/\s+/),n=f.pop(),f.forEach(function(n){var t=this.parseKeys(n),i=u[t.hashId]+t.key;r+=(r?" ":"")+i;this._addCommandToBinding(r,"chainKeys")},this),r+=" ");e=this.parseKeys(n);o=u[e.hashId]+e.key;this._addCommandToBinding(r+o,t,i)},this)}},n.prototype._addCommandToBinding=function(n,t,i){var r=this.commandKeyBinding,u,e,o,s;if(t)if(!r[n]||this.$singleCommand)r[n]=t;else{for(Array.isArray(r[n])?(u=r[n].indexOf(t))!=-1&&r[n].splice(u,1):r[n]=[r[n]],typeof i!="number"&&(i=f(t)),e=r[n],u=0;u<e.length;u++)if(o=e[u],s=f(o),s>i)break;e.splice(u,0,t)}else delete r[n]},n.prototype.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var i=n[t];if(i){if(typeof i=="string")return this.bindKey(i,t);(typeof i=="function"&&(i={exec:i}),typeof i=="object")&&(i.name||(i.name=t),this.addCommand(i))}},this)},n.prototype.removeCommands=function(n){Object.keys(n).forEach(function(t){this.removeCommand(n[t])},this)},n.prototype.bindKeys=function(n){Object.keys(n).forEach(function(t){this.bindKey(t,n[t])},this)},n.prototype._buildKeyHash=function(n){this.bindKey(n.bindKey,n)},n.prototype.parseKeys=function(n){var t=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(n){return n}),r=t.pop(),o=i[r],f,u,e;if(i.FUNCTION_KEYS[o])r=i.FUNCTION_KEYS[o].toLowerCase();else if(t.length){if(t.length==1&&t[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(f=0,u=t.length;u--;){if(e=i.KEY_MODS[t[u]],e==null)return typeof console!="undefined"&&console.error("invalid modifier "+t[u]+" in "+n),!1;f|=e}return{key:r,hashId:f}},n.prototype.findKeyCommand=function(n,t){var i=u[n]+t;return this.commandKeyBinding[i]},n.prototype.handleKeyboard=function(n,t,i,r){if(!(r<0)){var e=u[t]+i,f=this.commandKeyBinding[e];return(n.$keyChain&&(n.$keyChain+=" "+e,f=this.commandKeyBinding[n.$keyChain]||f),f&&(f=="chainKeys"||f[f.length-1]=="chainKeys"))?(n.$keyChain=n.$keyChain||e,{command:"null"}):(n.$keyChain&&(t&&t!=4||i.length!=1?(t==-1||r>0)&&(n.$keyChain=""):n.$keyChain=n.$keyChain.slice(0,-e.length-1)),{command:f})}},n.prototype.getStatusText=function(n,t){return t.$keyChain||""},n}(),e=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.$singleCommand=!0,r}return o(t,n),t}(r);e.call=function(n,t,i){r.prototype.$init.call(n,t,i,!0)};r.call=function(n,t,i){r.prototype.$init.call(n,t,i,!1)};t.HashHandler=e;t.MultiHashHandler=r});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,t){"use strict";var r=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),u=n("../lib/oop"),f=n("../keyboard/hash_handler").MultiHashHandler,e=n("../lib/event_emitter").EventEmitter,i=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.byName=r.commands,r.setDefaultHandler("exec",function(n){return n.args?n.command.exec(n.editor,n.args,n.event,!1):n.command.exec(n.editor,{},n.event,!0)}),r}return r(t,n),t.prototype.exec=function(n,t,i){var u,r;if(Array.isArray(n)){for(u=n.length;u--;)if(this.exec(n[u],t,i))return!0;return!1}return(typeof n=="string"&&(n=this.commands[n]),!this.canExecute(n,t))?!1:(r={editor:t,command:n,args:i},r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0)},t.prototype.canExecute=function(n,t){return(typeof n=="string"&&(n=this.commands[n]),!n)?!1:t&&t.$readOnly&&!n.readOnly?!1:this.$checkCommandState!=!1&&n.isAvailable&&!n.isAvailable(t)?!1:!0},t.prototype.toggleRecording=function(n){if(!this.$inReplay){if(n&&n._emit("changeStatus"),this.recording)return this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1;this.$addCommandToMacro||(this.$addCommandToMacro=function(n){this.macro.push([n.command,n.args])}.bind(this));this.oldMacro=this.macro;this.macro=[];this.on("exec",this.$addCommandToMacro);return this.recording=!0}},t.prototype.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0;this.macro.forEach(function(t){typeof t=="string"?this.exec(t,n):this.exec(t[0],n,t[1])},this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(n){return n.map(function(n){return typeof n[0]!="string"&&(n[0]=n[0].name),n[1]||(n=n[0]),n})},t}(f);u.implement(i.prototype,e);t.CommandManager=i});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,t){"use strict";function i(n,t){return{win:n,mac:t}}var e=n("../lib/lang"),u=n("../config"),f=n("../range").Range,r;for(t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:i("Ctrl-,","Command-,"),exec:function(n){u.loadModule("ace/ext/settings_menu",function(t){t.init(n);n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:i("Alt-E","F4"),exec:function(n){u.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(n){u.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:i("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:i(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:i("Ctrl-L","Command-L"),exec:function(n,t){typeof t!="number"||isNaN(t)||n.gotoLine(t);n.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:i("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:i("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:i("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll();n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:i("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:i("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:i("Ctrl-F","Command-F"),exec:function(n){u.loadModule("ace/ext/searchbox",function(t){t.Search(n)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:i("Up","Up|Ctrl-P"),exec:function(n,t){n.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:i("Down","Down|Ctrl-N"),exec:function(n,t){n.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:i("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:i("Left","Left|Ctrl-B"),exec:function(n,t){n.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:i("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:i("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:i("Right","Right|Ctrl-F"),exec:function(n,t){n.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:i(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:i(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:i("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:i("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:i("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:i("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(n){var i=n.$copyWithEmptySelection&&n.selection.isEmpty(),t=i?n.selection.getLineRange():n.selection.getRange();n._emit("cut",t);t.isEmpty()||n.session.remove(t);n.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(n,t){n.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:i("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:i("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(n){u.loadModule("ace/ext/searchbox",function(t){t.Search(n,!0)})}},{name:"undo",description:"Undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",description:"Redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:i("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:i("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:i("Shift-Delete",null),exec:function(n){if(n.selection.isEmpty())n.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(n){var t=n.selection.getRange();t.start.column=0;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(n){var t=n.selection.getRange();t.end.column=Number.MAX_VALUE;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:i("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(n,t){n.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(n,t){n.insert(e.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:i(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:i(null,null),exec:function(n){n.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var t=n.selection.getRange();t.start.column=t.end.column=0;t.end.row++;n.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:i("Ctrl+F3","F3"),exec:function(n){n.openLink()}},{name:"joinlines",description:"Join lines",bindKey:i(null,null),exec:function(n){for(var r,h=n.selection.isBackwards(),t=h?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),u=h?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),i=n.session.doc.getLine(t.row).length,l=n.session.doc.getTextRange(n.selection.getRange()),c=l.replace(/\n\s*/," ").length,o=n.session.doc.getLine(t.row),s=t.row+1;s<=u.row+1;s++)r=e.stringTrimLeft(e.stringTrimRight(n.session.doc.getLine(s))),r.length!==0&&(r=" "+r),o+=r;u.row+1<n.session.doc.getLength()-1&&(o+=n.session.doc.getNewLineCharacter());n.clearSelection();n.session.doc.replace(new f(t.row,0,u.row+2,0),o);c>0?(n.selection.moveCursorTo(t.row,t.column),n.selection.selectTo(t.row,t.column+c)):(i=n.session.doc.getLine(t.row).length>i?i+1:i,n.selection.moveCursorTo(t.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:i(null,null),exec:function(n){var u=n.session.doc.getLength()-1,e=n.session.doc.getLine(u).length,i=n.selection.rangeList.ranges,r=[],t;for(i.length<1&&(i=[n.selection.getRange()]),t=0;t<i.length;t++)t==i.length-1&&(i[t].end.row===u&&i[t].end.column===e||r.push(new f(i[t].end.row,i[t].end.column,u,e))),t===0?i[t].start.row===0&&i[t].start.column===0||r.push(new f(0,0,i[t].start.row,i[t].start.column)):r.push(new f(i[t-1].end.row,i[t-1].end.column,i[t].start.row,i[t].start.column));for(n.exitMultiSelectMode(),n.clearSelection(),t=0;t<r.length;t++)n.selection.addRange(r[t],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(n){n.selection.clearSelection();n.navigateLineEnd();n.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(n){n.selection.clearSelection();var t=n.getCursorPosition();n.selection.moveTo(t.row-1,Number.MAX_VALUE);n.insert("\n");t.row===0&&n.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(n){console.warn("This is an obsolete command. Please use `openCommandPalette` instead.");n.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:i("F1","F1"),exec:function(n){n.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:i(null,null),exec:function(n){n.prompt({$type:"modes"})},readOnly:!0}],r=1;r<9;r++)t.commands.push({name:"foldToLevel"+r,description:"Fold To Level "+r,level:r,exec:function(n){n.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})});ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("./lib/dom"),r=function(){function n(n){this.session=n;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}return n.prototype.getRowLength=function(n){var t;return t=this.lineWidgets?this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0:0,this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+t:1+t},n.prototype.$getWidgetScreenLength=function(){var n=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(n+=t.rowCount)}),n},n.prototype.$onChangeEditor=function(n){this.attach(n.editor)},n.prototype.attach=function(n){if((n&&n.widgetManager&&n.widgetManager!=this&&n.widgetManager.detach(),this.editor!=n)&&(this.detach(),this.editor=n,n)){n.widgetManager=this;n.renderer.on("beforeRender",this.measureWidgets);n.renderer.on("afterRender",this.renderWidgets)}},n.prototype.detach=function(){var n=this.editor,t;n&&(this.editor=null,n.widgetManager=null,n.renderer.off("beforeRender",this.measureWidgets),n.renderer.off("afterRender",this.renderWidgets),t=this.session.lineWidgets,t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))}))},n.prototype.updateOnFold=function(n,t){var i=t.lineWidgets,f;if(i&&n.action){var o=n.data,u=o.start.row,r=o.end.row,e=n.action=="add";for(f=u+1;f<r;f++)i[f]&&(i[f].hidden=e);i[r]&&(e?i[u]?i[r].hidden=e:i[u]=i[r]:(i[u]==i[r]&&(i[u]=undefined),i[r].hidden=e))}},n.prototype.updateOnChange=function(n){var i=this.session.lineWidgets,t,u,r,f;i&&(t=n.start.row,u=n.end.row-t,u===0||(n.action=="remove"?(r=i.splice(t+1,u),!i[t]&&r[r.length-1]&&(i[t]=r.pop()),r.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()):(f=new Array(u),i[t]&&i[t].column!=null&&n.start.column>i[t].column&&t++,f.unshift(t,0),i.splice.apply(i,f),this.$updateRows())))},n.prototype.$updateRows=function(){var t=this.session.lineWidgets,n;t&&(n=!0,t.forEach(function(t,i){if(t)for(n=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),n&&(this.session.lineWidgets=null))},n.prototype.$registerLineWidget=function(n){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[n.row];return t&&(n.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[n.row]=n,n},n.prototype.addLineWidget=function(n){var r,t,u;if(this.$registerLineWidget(n),n.session=this.session,!this.editor)return n;r=this.editor.renderer;n.html&&!n.el&&(n.el=i.createElement("div"),n.el.innerHTML=n.html);n.text&&!n.el&&(n.el=i.createElement("div"),n.el.textContent=n.text);n.el&&(i.addCssClass(n.el,"ace_lineWidgetContainer"),n.className&&i.addCssClass(n.el,n.className),n.el.style.position="absolute",n.el.style.zIndex="5",r.container.appendChild(n.el),n._inDocument=!0,n.coverGutter||(n.el.style.zIndex="3"),n.pixelHeight==null&&(n.pixelHeight=n.el.offsetHeight));n.rowCount==null&&(n.rowCount=n.pixelHeight/r.layerConfig.lineHeight);t=this.session.getFoldAt(n.row,0);n.$fold=t;t&&(u=this.session.lineWidgets,n.row!=t.end.row||u[t.start.row]?n.hidden=!0:u[t.start.row]=n);this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows();this.renderWidgets(null,r);this.onWidgetChanged(n);return n},n.prototype.removeLineWidget=function(n){if(n._inDocument=!1,n.session=null,n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el),n.editor&&n.editor.destroy)try{n.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[n.row];if(t==n){if(this.session.lineWidgets[n.row]=n.$oldWidget,n.$oldWidget)this.onWidgetChanged(n.$oldWidget)}else while(t){if(t.$oldWidget==n){t.$oldWidget=n.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows()},n.prototype.getWidgetsAtRow=function(n){for(var i=this.session.lineWidgets,t=i&&i[n],r=[];t;)r.push(t),t=t.$oldWidget;return r},n.prototype.onWidgetChanged=function(n){this.session._changedWidgets.push(n);this.editor&&this.editor.renderer.updateFull()},n.prototype.measureWidgets=function(n,t){var f=this.session._changedWidgets,o=t.layerConfig,u,e,i,r;if(f&&f.length){for(u=Infinity,e=0;e<f.length;e++)if((i=f[e],i&&i.el)&&i.session==this.session){if(!i._inDocument){if(this.session.lineWidgets[i.row]!=i)continue;i._inDocument=!0;t.container.appendChild(i.el)}i.h=i.el.offsetHeight;i.fixedWidth||(i.w=i.el.offsetWidth,i.screenWidth=Math.ceil(i.w/o.characterWidth));r=i.h/o.lineHeight;i.coverLine&&(r-=this.session.getRowLineCount(i.row),r<0&&(r=0));i.rowCount!=r&&(i.rowCount=r,i.row<u&&(u=i.row))}u!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}},n.prototype.renderWidgets=function(n,t){var r=t.layerConfig,e=this.session.lineWidgets,u,h,f,i,o,s;if(e){for(u=Math.min(this.firstRow,r.firstRow),h=Math.max(this.lastRow,r.lastRow,e.length);u>0&&!e[u];)u--;for(this.firstRow=r.firstRow,this.lastRow=r.lastRow,t.$cursorLayer.config=r,f=u;f<=h;f++)if(i=e[f],i&&i.el){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,t.container.appendChild(i.el));o=t.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;i.coverLine||(o+=r.lineHeight*this.session.getRowLineCount(i.row));i.el.style.top=o-r.offset+"px";s=i.coverGutter?0:t.gutterWidth;i.fixedWidth||(s-=t.scrollLeft);i.el.style.left=s+"px";i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=r.width+2*r.padding+"px");i.el.style.right=i.fixedWidth?t.scrollBar.getWidth()+"px":""}}},n}();t.LineWidgets=r});ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,t){"use strict";var i=n("../lib/keys"),u=n("../mouse/default_gutter_handler").GutterTooltip,f=function(){function n(n){this.editor=n;this.gutterLayer=n.renderer.$gutterLayer;this.element=n.renderer.$gutter;this.lines=n.renderer.$gutterLayer.$lines;this.activeRowIndex=null;this.activeLane=null;this.annotationTooltip=new u(this.editor)}return n.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this));this.element.addEventListener("focusout",this.$blurGutter.bind(this));this.editor.on("mousewheel",this.$blurGutter.bind(this))},n.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this));this.element.removeEventListener("focusout",this.$blurGutter.bind(this));this.editor.off("mousewheel",this.$blurGutter.bind(this))},n.prototype.$onGutterKeyDown=function(n){if(this.annotationTooltip.isOpen){n.preventDefault();n.keyCode===i.escape&&this.annotationTooltip.hideTooltip();return}if(n.target===this.element){if(n.keyCode!=i.enter)return;n.preventDefault();var t=this.editor.getCursorPosition().row;this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0);setTimeout(function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),n=this.$findNearestFoldWidget(i),t=this.$findNearestAnnotation(i);if(n!==null||t!==null){if(n===null&&t!==null){this.activeRowIndex=t;this.activeLane="annotation";this.$focusAnnotation(this.activeRowIndex);return}if(n!==null&&t===null){this.activeRowIndex=n;this.activeLane="fold";this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(t-i)<Math.abs(n-i)){this.activeRowIndex=t;this.activeLane="annotation";this.$focusAnnotation(this.activeRowIndex);return}this.activeRowIndex=n;this.activeLane="fold";this.$focusFoldWidget(this.activeRowIndex);return}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(n);setTimeout(function(){this.editor._signal("gutterkeydown",new r(n,this))}.bind(this),10)},n.prototype.$handleGutterKeyboardInteraction=function(n){var t;if(n.keyCode===i.tab){n.preventDefault();return}if(n.keyCode===i.escape){n.preventDefault();this.$blurGutter();this.element.focus();this.lane=null;return}if(n.keyCode===i.up){n.preventDefault();switch(this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}return}if(n.keyCode===i.down){n.preventDefault();switch(this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}return}if(n.keyCode===i.left){n.preventDefault();this.$switchLane("annotation");return}if(n.keyCode===i.right){n.preventDefault();this.$switchLane("fold");return}if(n.keyCode===i.enter||n.keyCode===i.space){n.preventDefault();switch(this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),n);setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var f=this.lines.cells[this.activeRowIndex].element.childNodes[2],r=f.getBoundingClientRect(),u=this.annotationTooltip.getElement().style;u.left=r.right+"px";u.top=r.bottom+"px";this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}return}},n.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip();return},n.prototype.$isFoldWidgetVisible=function(n){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),i=this.$getFoldWidget(n).style.display!=="none";return t&&i},n.prototype.$isAnnotationVisible=function(n){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),i=this.$getAnnotation(n).style.display!=="none";return t&&i},n.prototype.$getFoldWidget=function(n){var t=this.lines.get(n),i=t.element;return i.childNodes[1]},n.prototype.$getAnnotation=function(n){var t=this.lines.get(n),i=t.element;return i.childNodes[2]},n.prototype.$findNearestFoldWidget=function(n){if(this.$isFoldWidgetVisible(n))return n;for(var t=0;n-t>0||n+t<this.lines.getLength()-1;){if(t++,n-t>=0&&this.$isFoldWidgetVisible(n-t))return n-t;if(n+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(n+t))return n+t}return null},n.prototype.$findNearestAnnotation=function(n){if(this.$isAnnotationVisible(n))return n;for(var t=0;n-t>0||n+t<this.lines.getLength()-1;){if(t++,n-t>=0&&this.$isAnnotationVisible(n-t))return n-t;if(n+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(n+t))return n+t}return null},n.prototype.$focusFoldWidget=function(n){if(n!=null){var t=this.$getFoldWidget(n);t.classList.add(this.editor.renderer.keyboardFocusClassName);t.focus()}},n.prototype.$focusAnnotation=function(n){if(n!=null){var t=this.$getAnnotation(n);t.classList.add(this.editor.renderer.keyboardFocusClassName);t.focus()}},n.prototype.$blurFoldWidget=function(n){var t=this.$getFoldWidget(n);t.classList.remove(this.editor.renderer.keyboardFocusClassName);t.blur()},n.prototype.$blurAnnotation=function(n){var t=this.$getAnnotation(n);t.classList.remove(this.editor.renderer.keyboardFocusClassName);t.blur()},n.prototype.$moveFoldWidgetUp=function(){for(var n=this.activeRowIndex;n>0;)if(n--,this.$isFoldWidgetVisible(n)){this.$blurFoldWidget(this.activeRowIndex);this.activeRowIndex=n;this.$focusFoldWidget(this.activeRowIndex);return}return},n.prototype.$moveFoldWidgetDown=function(){for(var n=this.activeRowIndex;n<this.lines.getLength()-1;)if(n++,this.$isFoldWidgetVisible(n)){this.$blurFoldWidget(this.activeRowIndex);this.activeRowIndex=n;this.$focusFoldWidget(this.activeRowIndex);return}return},n.prototype.$moveAnnotationUp=function(){for(var n=this.activeRowIndex;n>0;)if(n--,this.$isAnnotationVisible(n)){this.$blurAnnotation(this.activeRowIndex);this.activeRowIndex=n;this.$focusAnnotation(this.activeRowIndex);return}return},n.prototype.$moveAnnotationDown=function(){for(var n=this.activeRowIndex;n<this.lines.getLength()-1;)if(n++,this.$isAnnotationVisible(n)){this.$blurAnnotation(this.activeRowIndex);this.activeRowIndex=n;this.$focusAnnotation(this.activeRowIndex);return}return},n.prototype.$switchLane=function(n){var t,i;switch(n){case"annotation":if(this.activeLane==="annotation")break;if(t=this.$findNearestAnnotation(this.activeRowIndex),t==null)break;this.activeLane="annotation";this.$blurFoldWidget(this.activeRowIndex);this.activeRowIndex=t;this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;if(i=this.$findNearestFoldWidget(this.activeRowIndex),i==null)break;this.activeLane="fold";this.$blurAnnotation(this.activeRowIndex);this.activeRowIndex=i;this.$focusFoldWidget(this.activeRowIndex)}return},n.prototype.$rowIndexToRow=function(n){var t=this.lines.get(n);return t?t.row:null},n.prototype.$rowToRowIndex=function(n){for(var i,t=0;t<this.lines.getLength();t++)if(i=this.lines.get(t),i.row==n)return t;return null},n}(),r;t.GutterKeyboardHandler=f;r=function(){function n(n,t){this.gutterKeyboardHandler=t;this.domEvent=n}return n.prototype.getKey=function(){return i.keyCodeToString(this.domEvent.keyCode)},n.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},n.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},n.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},n}();t.GutterKeyboardEvent=r});ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(n,t){"use strict";var v=this&&this.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");},h=n("./lib/oop"),f=n("./lib/dom"),u=n("./lib/lang"),c=n("./lib/useragent"),y=n("./keyboard/textinput").TextInput,p=n("./mouse/mouse_handler").MouseHandler,w=n("./mouse/fold_handler").FoldHandler,b=n("./keyboard/keybinding").KeyBinding,k=n("./edit_session").EditSession,d=n("./search").Search,i=n("./range").Range,g=n("./lib/event_emitter").EventEmitter,nt=n("./commands/command_manager").CommandManager,tt=n("./commands/default_commands").commands,e=n("./config"),l=n("./token_iterator").TokenIterator,it=n("./line_widgets").LineWidgets,rt=n("./keyboard/gutter_handler").GutterKeyboardHandler,s=n("./config").nls,a=n("./clipboard"),ut=n("./lib/keys"),r=function(){function n(t,i,r){this.session;this.$toDestroy=[];var f=t.getContainerElement();this.container=f;this.renderer=t;this.id="editor"+ ++n.$uid;this.commands=new nt(c.isMac?"mac":"win",tt);typeof document=="object"&&(this.textInput=new y(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new p(this),new w(this));this.keyBinding=new b(this);this.$search=(new d).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=u.delayedCall(function(){this._signal("input",{});this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(n,t){t._$emitInputEvent.schedule(31)});this.setSession(i||r&&r.session||new k(""));e.resetOptions(this);r&&this.setOptions(r);e._signal("editor",this)}return n.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=u.delayedCall(this.endOperation.bind(this,!0));this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel);this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel);this.curOp.selectionChanged=!0}.bind(this),!0)},n.prototype.startOperation=function(n){if(this.curOp){if(!n||this.curOp.command)return;this.prevOp=this.curOp}n||(this.previousCommand=null,n={});this.$opResetTimer.schedule();this.curOp=this.session.curOp={command:n.command||{},args:n.args,scrollTop:this.renderer.scrollTop};this.curOp.selectionBefore=this.selection.toJSON()},n.prototype.endOperation=function(n){var i,t,r,u,f;if(this.curOp&&this.session){if(n&&n.returnValue===!1||!this.session)return this.curOp=null;if(n==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;if(this._signal("beforeEndOperation"),!this.curOp)return;if(i=this.curOp.command,t=i&&i.scrollIntoView,t){switch(t){case"center-animate":t="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":r=this.selection.getRange();u=this.renderer.layerConfig;(r.start.row>=u.lastRow||r.end.row<=u.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}t=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}f=this.selection.toJSON();this.curOp.selectionAfter=f;this.$lastSel=this.selection.toJSON();this.session.getUndoManager().addSelection(f);this.prevOp=this.curOp;this.curOp=null}},n.prototype.$historyTracker=function(n){var u;if(this.$mergeUndoDeltas){var i=this.prevOp,r=this.$mergeableCommands,t=i.command&&n.command.name==i.command.name;n.command.name=="insertstring"?(u=n.args,this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),t=t&&this.mergeNextCommand&&(!/\s/.test(u)||/\s/.test(i.args)),this.mergeNextCommand=!0):t=t&&r.indexOf(n.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(t=!1);t?this.session.mergeUndoDeltas=!0:r.indexOf(n.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},n.prototype.setKeyboardHandler=function(n,t){if(n&&typeof n=="string"&&n!="ace"){this.$keybindingId=n;var i=this;e.loadModule(["keybinding",n],function(r){i.$keybindingId==n&&i.keyBinding.setKeyboardHandler(r&&r.handler);t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(n),t&&t()},n.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},n.prototype.setSession=function(n){var t,i;if(this.session!=n){if(this.curOp&&this.endOperation(),this.curOp={},t=this.session,t&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),i=this.session.getSelection(),i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),this.session=n,n){this.$onDocumentChange=this.onDocumentChange.bind(this);n.on("change",this.$onDocumentChange);this.renderer.setSession(n);this.$onChangeMode=this.onChangeMode.bind(this);n.on("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);n.on("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer);n.on("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);n.on("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);n.on("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);n.on("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.on("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.on("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.on("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.on("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.on("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);this.session.on("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.on("changeScrollLeft",this.$onScrollLeftChange);this.selection=n.getSelection();this.selection.on("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.on("changeSelection",this.$onSelectionChange);this.onChangeMode();this.onCursorChange();this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull()}else this.selection=null,this.renderer.setSession(n);this._signal("changeSession",{session:n,oldSession:t});this.curOp=null;t&&t._signal("changeEditor",{oldEditor:this});n&&n._signal("changeEditor",{editor:this});n&&!n.destroyed&&n.bgTokenizer.scheduleStart()}},n.prototype.getSession=function(){return this.session},n.prototype.setValue=function(n,t){return this.session.doc.setValue(n),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),n},n.prototype.getValue=function(){return this.session.getValue()},n.prototype.getSelection=function(){return this.selection},n.prototype.resize=function(n){this.renderer.onResize(n)},n.prototype.setTheme=function(n,t){this.renderer.setTheme(n,t)},n.prototype.getTheme=function(){return this.renderer.getTheme()},n.prototype.setStyle=function(n){this.renderer.setStyle(n)},n.prototype.unsetStyle=function(n){this.renderer.unsetStyle(n)},n.prototype.getFontSize=function(){return this.getOption("fontSize")||f.computedStyle(this.container).fontSize},n.prototype.setFontSize=function(n){this.setOption("fontSize",n)},n.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var n=this;this.$highlightPending=!0;setTimeout(function(){var r,h,o,u,s;if(n.$highlightPending=!1,r=n.session,r&&!r.destroyed){r.$bracketHighlight&&(r.$bracketHighlight.markerIds.forEach(function(n){r.removeMarker(n)}),r.$bracketHighlight=null);var f=n.getCursorPosition(),e=n.getKeyboardHandler(),c=e&&e.$getDirectionForHighlight&&e.$getDirectionForHighlight(n),t=r.getMatchingBracketRanges(f,c);if(t||(h=new l(r,f.row,f.column),o=h.getCurrentToken(),o&&/\b(?:tag-open|tag-name)/.test(o.type)&&(u=r.getMatchingTags(f),u&&(t=[u.openTagName.isEmpty()?u.openTag:u.openTagName,u.closeTagName.isEmpty()?u.closeTag:u.closeTagName]))),!t&&r.$mode.getMatching&&(t=r.$mode.getMatching(n.session)),!t){n.getHighlightIndentGuides()&&n.renderer.$textLayer.$highlightIndentGuide();return}s="ace_bracket";Array.isArray(t)?t.length==1&&(s="ace_error_bracket"):t=[t];t.length==2&&(i.comparePoints(t[0].end,t[1].start)==0?t=[i.fromPoints(t[0].start,t[1].end)]:i.comparePoints(t[0].start,t[1].end)==0&&(t=[i.fromPoints(t[1].start,t[0].end)]));r.$bracketHighlight={ranges:t,markerIds:t.map(function(n){return r.addMarker(n,s,"text")})};n.getHighlightIndentGuides()&&n.renderer.$textLayer.$highlightIndentGuide()}},50)}},n.prototype.focus=function(){this.textInput.focus()},n.prototype.isFocused=function(){return this.textInput.isFocused()},n.prototype.blur=function(){this.textInput.blur()},n.prototype.onFocus=function(n){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",n))},n.prototype.onBlur=function(n){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",n))},n.prototype.$cursorChange=function(){this.renderer.updateCursor();this.$highlightBrackets();this.$updateHighlightActiveLine()},n.prototype.onDocumentChange=function(n){var t=this.session.$useWrapMode,i=n.start.row==n.end.row?n.end.row:Infinity;this.renderer.updateLines(n.start.row,i,t);this._signal("change",n);this.$cursorChange()},n.prototype.onTokenizerUpdate=function(n){var t=n.data;this.renderer.updateLines(t.first,t.last)},n.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},n.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},n.prototype.onCursorChange=function(){this.$cursorChange();this._signal("changeSelection")},n.prototype.$updateHighlightActiveLine=function(){var t=this.getSession(),n,r;this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(n=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(n=!1),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(n=!1));t.$highlightLineMarker&&!n?(t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null):!t.$highlightLineMarker&&n?(r=new i(n.row,n.column,n.row,Infinity),r.id=t.addMarker(r,"ace_active-line","screenLine"),t.$highlightLineMarker=r):n&&(t.$highlightLineMarker.start.row=n.row,t.$highlightLineMarker.end.row=n.row,t.$highlightLineMarker.start.column=n.column,t._signal("changeBackMarker"))},n.prototype.onSelectionChange=function(){var n=this.session,t,i,r;n.$selectionMarker&&n.removeMarker(n.$selectionMarker);n.$selectionMarker=null;this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),i=this.getSelectionStyle(),n.$selectionMarker=n.addMarker(t,"ace_selection",i));r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r);this._signal("changeSelection")},n.prototype.$getSelectionHighLightRegexp=function(){var o=this.session,n=this.getSelectionRange(),i,e;if(!n.isEmpty()&&!n.isMultiLine()){var r=n.start.column,u=n.end.column,f=o.getLine(n.start.row),t=f.substring(r,u);if(!(t.length>5e3)&&/[\w\d]/.test(t))return(i=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:t}),e=f.substring(r-1,u+1),!i.test(e))?void 0:i}},n.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},n.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},n.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},n.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},n.prototype.onChangeMode=function(n){this.renderer.updateText();this._emit("changeMode",n)},n.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},n.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},n.prototype.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()},n.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},n.prototype.getCopyText=function(){var r=this.getSelectedText(),e=this.session.doc.getNewLineCharacter(),f=!1,t,n,u,i;if(!r&&this.$copyWithEmptySelection)for(f=!0,t=this.selection.getAllRanges(),n=0;n<t.length;n++)(u=t[n],n&&t[n-1].start.row==u.start.row)||(r+=this.session.getLine(u.start.row)+e);return i={text:r},this._signal("copy",i),a.lineMode=f?i.text:!1,i.text},n.prototype.onCopy=function(){this.commands.exec("copy",this)},n.prototype.onCut=function(){this.commands.exec("cut",this)},n.prototype.onPaste=function(n,t){var i={text:n,event:t};this.commands.exec("paste",this,i)},n.prototype.$handlePaste=function(n){var u,f;typeof n=="string"&&(n={text:n});this._signal("paste",n);var t=n.text,o=t===a.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)o?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(o)this.selection.rangeList.ranges.forEach(function(n){r.insert({row:n.start.row,column:0},t)});else{var i=t.split(/\r\n|\r|\n/),e=this.selection.rangeList.ranges,s=i.length==2&&(!i[0]||!i[1]);if(i.length!=e.length||s)return this.commands.exec("insertstring",this,t);for(u=e.length;u--;)f=e[u],f.isEmpty()||r.remove(f),r.insert(f.start,i[u])}},n.prototype.execCommand=function(n,t){return this.commands.exec(n,this,t)},n.prototype.insert=function(n,t){var f=this.session,s=f.getMode(),r=this.getCursorPosition(),u,e,o,c,a;this.getBehavioursEnabled()&&!t&&(u=s.transformAction(f.getState(r.row),"insertion",this,f,n),u&&(n!==u.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),n=u.text));n=="\t"&&(n=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&n.indexOf("\n")==-1&&(e=i.fromPoints(r,r),e.end.column+=n.length,this.session.remove(e)):(e=this.getSelectionRange(),r=this.session.remove(e),this.clearSelection());(n=="\n"||n=="\r\n")&&(o=f.getLine(r.row),r.column>o.search(/\S|$/)&&(c=o.substr(r.column).search(/\S|$/),f.doc.removeInLine(r.row,r.column,r.column+c)));this.clearSelection();var l=r.column,h=f.getState(r.row),o=f.getLine(r.row),v=s.checkOutdent(h,o,n);f.insert(r,n);u&&u.selection&&(u.selection.length==2?this.selection.setSelectionRange(new i(r.row,l+u.selection[0],r.row,l+u.selection[1])):this.selection.setSelectionRange(new i(r.row+u.selection[0],u.selection[1],r.row+u.selection[2],u.selection[3])));this.$enableAutoIndent&&(f.getDocument().isNewLine(n)&&(a=s.getNextLineIndent(h,o.slice(0,r.column),f.getTabString()),f.insert({row:r.row+1,column:0},a)),v&&s.autoOutdent(h,f,r.row))},n.prototype.autoIndent=function(){for(var c,l,n,a,f,v,t=this.session,e=t.getMode(),o=this.selection.isEmpty()?[new i(0,0,t.doc.getLength()-1,0)]:this.selection.getAllRanges(),s="",h="",r="",y=t.getTabString(),u=0;u<o.length;u++)for(c=o[u].start.row,l=o[u].end.row,n=c;n<=l;n++)n>0&&(s=t.getState(n-1),h=t.getLine(n-1),r=e.getNextLineIndent(s,h,y)),a=t.getLine(n),f=e.$getIndent(a),r!==f&&(f.length>0&&(v=new i(n,0,n,f.length),t.remove(v)),r.length>0&&t.insert({row:n,column:0},r)),e.autoOutdent(s,t,n)},n.prototype.onTextInput=function(n,t){if(!t)return this.keyBinding.onTextInput(n);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,n,t);this.selection.rangeCount?this.forEachSelection(i):i();this.endOperation()},n.prototype.applyComposition=function(n,t){var i;(t.extendLeft||t.extendRight)&&(i=this.selection.getRange(),i.start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),n||i.isEmpty()||this.remove());(n||!this.selection.isEmpty())&&this.insert(n,!0);(t.restoreStart||t.restoreEnd)&&(i=this.selection.getRange(),i.start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},n.prototype.onCommandKey=function(n,t,i){return this.keyBinding.onCommandKey(n,t,i)},n.prototype.setOverwrite=function(n){this.session.setOverwrite(n)},n.prototype.getOverwrite=function(){return this.session.getOverwrite()},n.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},n.prototype.setScrollSpeed=function(n){this.setOption("scrollSpeed",n)},n.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},n.prototype.setDragDelay=function(n){this.setOption("dragDelay",n)},n.prototype.getDragDelay=function(){return this.getOption("dragDelay")},n.prototype.setSelectionStyle=function(n){this.setOption("selectionStyle",n)},n.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},n.prototype.setHighlightActiveLine=function(n){this.setOption("highlightActiveLine",n)},n.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},n.prototype.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)},n.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},n.prototype.setHighlightSelectedWord=function(n){this.setOption("highlightSelectedWord",n)},n.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},n.prototype.setAnimatedScroll=function(n){this.renderer.setAnimatedScroll(n)},n.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},n.prototype.setShowInvisibles=function(n){this.renderer.setShowInvisibles(n)},n.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},n.prototype.setDisplayIndentGuides=function(n){this.renderer.setDisplayIndentGuides(n)},n.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},n.prototype.setHighlightIndentGuides=function(n){this.renderer.setHighlightIndentGuides(n)},n.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},n.prototype.setShowPrintMargin=function(n){this.renderer.setShowPrintMargin(n)},n.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},n.prototype.setPrintMarginColumn=function(n){this.renderer.setPrintMarginColumn(n)},n.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},n.prototype.setReadOnly=function(n){this.setOption("readOnly",n)},n.prototype.getReadOnly=function(){return this.getOption("readOnly")},n.prototype.setBehavioursEnabled=function(n){this.setOption("behavioursEnabled",n)},n.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},n.prototype.setWrapBehavioursEnabled=function(n){this.setOption("wrapBehavioursEnabled",n)},n.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},n.prototype.setShowFoldWidgets=function(n){this.setOption("showFoldWidgets",n)},n.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},n.prototype.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)},n.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},n.prototype.remove=function(n){var t,r,u;if(this.selection.isEmpty()&&(n=="left"?this.selection.selectLeft():this.selection.selectRight()),t=this.getSelectionRange(),this.getBehavioursEnabled()){var i=this.session,e=i.getState(t.start.row),f=i.getMode().transformAction(e,"deletion",this,i,t);t.end.column===0&&(r=i.getTextRange(t),r[r.length-1]=="\n"&&(u=i.getLine(t.end.row),/^\s+$/.test(u)&&(t.end.column=u.length)));f&&(t=f)}this.session.remove(t);this.clearSelection()},n.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()},n.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()},n.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.selection.isEmpty()&&this.selection.selectLeft();this.session.remove(this.getSelectionRange());this.clearSelection()},n.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var n=this.getSelectionRange();n.start.column==n.end.column&&n.start.row==n.end.row&&(n.end.column=0,n.end.row++);this.session.remove(n);this.clearSelection()},n.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var n=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(n)},n.prototype.setGhostText=function(n,t){this.session.widgetManager||(this.session.widgetManager=new it(this.session),this.session.widgetManager.attach(this));this.renderer.setGhostText(n,t)},n.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},n.prototype.transposeLetters=function(){var t,n,r,f,u;this.selection.isEmpty()&&(t=this.getCursorPosition(),n=t.column,n!==0)&&(r=this.session.getLine(t.row),n<r.length?(f=r.charAt(n)+r.charAt(n-1),u=new i(t.row,n-1,t.row,n+1)):(f=r.charAt(n-1)+r.charAt(n-2),u=new i(t.row,n-2,t.row,n)),this.session.replace(u,f),this.session.selection.moveToPosition(u.end))},n.prototype.toLowerCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toLowerCase());this.selection.setSelectionRange(i)},n.prototype.toUpperCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toUpperCase());this.selection.setSelectionRange(i)},n.prototype.indent=function(){var t=this.session,n=this.getSelectionRange(),o,i,e,r;if(n.start.row<n.end.row){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}if(n.start.column<n.end.column&&(o=t.getTextRange(n),!/^\s+$/.test(o))){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}var c=t.getLine(n.start.row),s=n.start,f=t.getTabSize(),h=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())r=f-h%f,e=u.stringRepeat(" ",r);else{for(r=h%f;c[n.start.column-1]==" "&&r;)n.start.column--,r--;this.selection.setSelectionRange(n);e="\t"}return this.insert(e)},n.prototype.blockIndent=function(){var n=this.$getSelectedRows();this.session.indentRows(n.first,n.last,"\t")},n.prototype.blockOutdent=function(){var n=this.session.getSelection();this.session.outdentRows(n.getRange())},n.prototype.sortLines=function(){for(var r,e,t=this.$getSelectedRows(),u=this.session,f=[],n=t.first;n<=t.last;n++)f.push(u.getLine(n));for(f.sort(function(n,t){return n.toLowerCase()<t.toLowerCase()?-1:n.toLowerCase()>t.toLowerCase()?1:0}),r=new i(0,0,0,0),n=t.first;n<=t.last;n++)e=u.getLine(n),r.start.row=n,r.end.row=n,r.end.column=e.length,u.replace(r,f[n-t.first])},n.prototype.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),n=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,n.first,n.last)},n.prototype.toggleBlockComment=function(){var n=this.getCursorPosition(),t=this.session.getState(n.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,n)},n.prototype.getNumberAt=function(n,t){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g,u,i;for(r.lastIndex=0,u=this.session.getLine(n);r.lastIndex<t;)if(i=r.exec(u),i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length};return null},n.prototype.modifyNumber=function(n){var u=this.selection.getCursor().row,r=this.selection.getCursor().column,l=new i(u,r-1,u,r),h=this.session.getTextRange(l),t,s,c;if(!isNaN(parseFloat(h))&&isFinite(h)){if(t=this.getNumberAt(u,r),t){var e=t.value.indexOf(".")>=0?t.start+t.value.indexOf(".")+1:t.end,o=t.start+t.value.length-e,f=parseFloat(t.value);f*=Math.pow(10,o);n*=e!==t.end&&r<e?Math.pow(10,t.end-r-1):Math.pow(10,t.end-r);f+=n;f/=Math.pow(10,o);s=f.toFixed(o);c=new i(u,t.start,u,t.end);this.session.replace(c,s);this.moveCursorTo(u,Math.max(t.start+1,r+s.length-t.value.length))}}else this.toggleWord()},n.prototype.toggleWord=function(){var y=this.selection.getCursor().row,w=this.selection.getCursor().column,c,l,o,i,t,a,v,p;this.selection.selectWord();var n=this.getSelectedText(),s=this.selection.getWordRange().start.column,b=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),r=w-s-1;r<0&&(r=0);var f=0,e=0,h=this;for(n.match(/[A-Za-z0-9_]+/)&&b.forEach(function(t){e=f+t.length;r>=f&&r<=e&&(n=t,h.selection.clearSelection(),h.moveCursorTo(y,f+s),h.selection.selectTo(y,e+s));f=e}),c=this.$toggleWordPairs,o=0;o<c.length;o++)for(i=c[o],t=0;t<=1;t++)a=+!t,v=n.match(new RegExp("^\\s?_?("+u.escapeRegExp(i[t])+")\\s?$","i")),v&&(p=n.match(new RegExp("([_]|^|\\s)("+u.escapeRegExp(v[1])+")($|\\s)","g")),p&&(l=n.replace(new RegExp(u.escapeRegExp(i[t]),"i"),function(n){var t=i[a];return n.toUpperCase()==n?t=t.toUpperCase():n.charAt(0).toUpperCase()==n.charAt(0)&&(t=t.substr(0,0)+i[a].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(l),l=""))},n.prototype.findLinkAt=function(n,t){var s,h,l=this.session.getLine(n),a=l.split(/((?:https?|ftp):\/\/[\S]+)/),u=t,f,e,c,r,i,o;u<0&&(u=0);f=0;e=0;try{for(r=v(a),i=r.next();!i.done;i=r.next()){if(o=i.value,e=f+o.length,u>=f&&u<=e&&o.match(/((?:https?|ftp):\/\/[\S]+)/)){c=o.replace(/[\s:.,'";}\]]+$/,"");break}f=e}}catch(y){s={error:y}}finally{try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(s)throw s.error;}}return c},n.prototype.openLink=function(){var t=this.selection.getCursor(),n=this.findLinkAt(t.row,t.column);return n&&window.open(n,"_blank"),n!=null},n.prototype.removeLines=function(){var n=this.$getSelectedRows();this.session.removeFullLines(n.first,n.last);this.clearSelection()},n.prototype.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),f=t.isBackwards(),r,u,e;n.isEmpty()?(r=n.start.row,i.duplicateLines(r,r)):(u=f?n.start:n.end,e=i.insert(u,i.getTextRange(n)),n.start=u,n.end=e,t.setSelectionRange(n,f))},n.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},n.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},n.prototype.moveText=function(n,t,i){return this.session.moveText(n,t,i)},n.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},n.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},n.prototype.$moveLines=function(n,t){var f,l,r=this.selection,h,u,i,o,y,s,c;if(!r.inMultiSelectMode||this.inVirtualSelectionMode)h=r.toOrientedRange(),f=this.$getSelectedRows(h),l=this.session.$moveLines(f.first,f.last,t?0:n),t&&n==-1&&(l=0),h.moveBy(l,0),r.fromOrientedRange(h);else{u=r.rangeList.ranges;r.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var e=0,a=0,v=u.length;for(i=0;i<v;i++){for(o=i,u[i].moveBy(e,0),f=this.$getSelectedRows(u[i]),y=f.first,s=f.last;++i<v;){if(a&&u[i].moveBy(a,0),c=this.$getSelectedRows(u[i]),t&&c.first!=s)break;else if(!t&&c.first>s+1)break;s=c.last}for(i--,e=this.session.$moveLines(y,s,t?0:n),t&&n==-1&&(o=i+1);o<=i;)u[o].moveBy(e,0),o++;t||(e=0);a+=e}r.fromOrientedRange(r.ranges[0]);r.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}},n.prototype.$getSelectedRows=function(n){return n=(n||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(n.start.row),last:this.session.getRowFoldEnd(n.end.row)}},n.prototype.onCompositionStart=function(n){this.renderer.showComposition(n)},n.prototype.onCompositionUpdate=function(n){this.renderer.setCompositionText(n)},n.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},n.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},n.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},n.prototype.isRowVisible=function(n){return n>=this.getFirstVisibleRow()&&n<=this.getLastVisibleRow()},n.prototype.isRowFullyVisible=function(n){return n>=this.renderer.getFirstFullyVisibleRow()&&n<=this.renderer.getLastFullyVisibleRow()},n.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},n.prototype.$moveByPage=function(n,t){var i=this.renderer,r=this.renderer.layerConfig,u=n*Math.floor(r.height/r.lineHeight),f;t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(u,0)}):t===!1&&(this.selection.moveCursorBy(u,0),this.selection.clearSelection());f=i.scrollTop;i.scrollBy(0,u*r.lineHeight);t!=null&&i.scrollCursorIntoView(null,.5);i.animateScrolling(f)},n.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},n.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},n.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},n.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},n.prototype.scrollPageDown=function(){this.$moveByPage(1)},n.prototype.scrollPageUp=function(){this.$moveByPage(-1)},n.prototype.scrollToRow=function(n){this.renderer.scrollToRow(n)},n.prototype.scrollToLine=function(n,t,i,r){this.renderer.scrollToLine(n,t,i,r)},n.prototype.centerSelection=function(){var n=this.getSelectionRange(),t={row:Math.floor(n.start.row+(n.end.row-n.start.row)/2),column:Math.floor(n.start.column+(n.end.column-n.start.column)/2)};this.renderer.alignCursor(t,.5)},n.prototype.getCursorPosition=function(){return this.selection.getCursor()},n.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},n.prototype.getSelectionRange=function(){return this.selection.getRange()},n.prototype.selectAll=function(){this.selection.selectAll()},n.prototype.clearSelection=function(){this.selection.clearSelection()},n.prototype.moveCursorTo=function(n,t){this.selection.moveCursorTo(n,t)},n.prototype.moveCursorToPosition=function(n){this.selection.moveCursorToPosition(n)},n.prototype.jumpToMatching=function(n,t){var e=this.getCursorPosition(),o=new l(this.session,e.row,e.column),c=o.getCurrentToken(),w=0,r,u,f,a;if(c&&c.type.indexOf("tag-name")!==-1&&(c=o.stepBackward()),r=c||o.stepForward(),r){var y,p=!1,s={},h=e.column-r.start,v,b={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;h<r.value.length&&!p;h++)if(b[r.value[h]]){v=b[r.value[h]]+"."+r.type.replace("rparen","lparen");isNaN(s[v])&&(s[v]=0);switch(r.value[h]){case"(":case"[":case"{":s[v]++;break;case")":case"]":case"}":s[v]--;s[v]===-1&&(y="bracket",p=!0)}}}else r.type.indexOf("tag-name")!==-1&&(isNaN(s[r.value])&&(s[r.value]=0),c.value==="<"&&w>1?s[r.value]++:c.value==="<\/"&&s[r.value]--,s[r.value]===-1&&(y="tag",p=!0));p||(c=r,w++,r=o.stepForward(),h=0)}while(r&&!p);if(y){if(y==="bracket")u=this.session.getBracketRange(e),u||(u=new i(o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h-1,o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h-1),f=u.start,(t||f.row===e.row&&Math.abs(f.column-e.column)<2)&&(u=this.session.getBracketRange(f)));else if(y==="tag"){if(!r||r.type.indexOf("tag-name")===-1)return;u=new i(o.getCurrentTokenRow(),o.getCurrentTokenColumn()-2,o.getCurrentTokenRow(),o.getCurrentTokenColumn()-2);u.compare(e.row,e.column)===0&&(a=this.session.getMatchingTags(e),a&&(a.openTag.contains(e.row,e.column)?(u=a.closeTag,f=u.start):(u=a.openTag,f=a.closeTag.start.row===e.row&&a.closeTag.start.column===e.column?u.end:u.start)));f=f||u.start}f=u&&u.cursor||f;f&&(n?u&&t?this.selection.setRange(u):u&&u.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},n.prototype.gotoLine=function(n,t,i){this.selection.clearSelection();this.session.unfold({row:n-1,column:t||0});this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(n-1,t||0);this.isRowFullyVisible(n-1)||this.scrollToLine(n-1,!0,i)},n.prototype.navigateTo=function(n,t){this.selection.moveTo(n,t)},n.prototype.navigateUp=function(n){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(-n||-1,0)},n.prototype.navigateDown=function(n){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(n||1,0)},n.prototype.navigateLeft=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},n.prototype.navigateRight=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},n.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()},n.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()},n.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()},n.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()},n.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()},n.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()},n.prototype.replace=function(n,t){t&&this.$search.set(t);var i=this.$search.find(this.session),r=0;return i?(this.$tryReplace(i,n)&&(r=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),r):r},n.prototype.replaceAll=function(n,t){var i,r,f,u;if(t&&this.$search.set(t),i=this.$search.findAll(this.session),r=0,!i.length)return r;for(f=this.getSelectionRange(),this.selection.moveTo(0,0),u=i.length-1;u>=0;--u)this.$tryReplace(i[u],n)&&r++;return this.selection.setSelectionRange(f),r},n.prototype.$tryReplace=function(n,t){var i=this.session.getTextRange(n);return t=this.$search.replace(i,t),t!==null?(n.end=this.session.replace(n,t),n):null},n.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},n.prototype.find=function(n,t,i){var r,u;if(t||(t={}),typeof n=="string"||n instanceof RegExp?t.needle=n:typeof n=="object"&&h.mixin(t,n),r=this.selection.getRange(),t.needle==null&&(n=this.session.getTextRange(r)||this.$search.$options.needle,n||(r=this.session.getWordRange(r.start.row,r.start.column),n=this.session.getTextRange(r)),this.$search.set({needle:n})),this.$search.set(t),t.start||this.$search.set({start:r}),u=this.$search.find(this.session),t.preventScroll)return u;if(u)return this.revealRange(u,i),u;t.backwards?r.start=r.end:r.end=r.start;this.selection.setRange(r)},n.prototype.findNext=function(n,t){this.find({skipCurrent:!0,backwards:!1},n,t)},n.prototype.findPrevious=function(n,t){this.find(n,{skipCurrent:!0,backwards:!0},t)},n.prototype.revealRange=function(n,t){this.session.unfold(n);this.selection.setSelectionRange(n);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(n.start,n.end,.5);t!==!1&&this.renderer.animateScrolling(i)},n.prototype.undo=function(){this.session.getUndoManager().undo(this.session);this.renderer.scrollCursorIntoView(null,.5)},n.prototype.redo=function(){this.session.getUndoManager().redo(this.session);this.renderer.scrollCursorIntoView(null,.5)},n.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(n){n.destroy()}),this.$toDestroy=null);this.$mouseHandler&&this.$mouseHandler.destroy();this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy();this._$emitInputEvent&&this._$emitInputEvent.cancel();this.removeAllListeners()},n.prototype.setAutoScrollEditorIntoView=function(n){var u,r,t,i;if(n){r=this;t=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));i=this.$scrollAnchor;i.style.cssText="position:absolute";this.container.insertBefore(i,this.container.firstChild);var f=this.on("changeSelection",function(){t=!0}),e=this.renderer.on("beforeRender",function(){t&&(u=r.renderer.container.getBoundingClientRect())}),o=this.renderer.on("afterRender",function(){if(t&&u&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var e=r.renderer,n=e.$cursorLayer.$pixelPos,f=e.layerConfig,o=n.top-f.offset;t=n.top>=0&&o+u.top<0?!0:n.top<f.height&&n.top+u.top+f.lineHeight>window.innerHeight?!1:null;t!=null&&(i.style.top=o+"px",i.style.left=n.left+"px",i.style.height=f.lineHeight+"px",i.scrollIntoView(t));t=u=null}});this.setAutoScrollEditorIntoView=function(n){n||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",o),this.renderer.off("beforeRender",e))}}},n.prototype.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",n=this.renderer.$cursorLayer;n&&(n.setSmoothBlinking(/smooth/.test(t)),n.isBlinking=!this.$readOnly&&t!="wide",f.setCssClass(n.element,"ace_slim-cursors",/slim/.test(t)))},n.prototype.prompt=function(n,t,i){var r=this;e.loadModule("ace/ext/prompt",function(u){u.prompt(r,n,t,i)})},n}(),o;r.$uid=0;r.prototype.curOp=null;r.prototype.prevOp={};r.prototype.$mergeableCommands=["backspace","del","insertstring"];r.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]];h.implement(r.prototype,g);e.defineOptions(r.prototype,"editor",{selectionStyle:{set:function(n){this.onSelectionChange();this._signal("changeSelectionStyle",{data:n})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(n){this.textInput.setReadOnly(n);this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(n){this.textInput.setCopyWithEmptySelection(n)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(n){this.setAutoScrollEditorIntoView(n)}},keyboardHandler:{set:function(n){this.setKeyboardHandler(n)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(n){this.session.setValue(n)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(n){this.setSession(n)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(n){this.renderer.$gutterLayer.setShowLineNumbers(n);this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);n&&this.$relativeLineNumbers?o.attach(this):o.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(n){this.$showLineNumbers&&n?o.attach(this):o.detach(this)}},placeholder:{set:function(){if(!this.$updatePlaceholder){this.$updatePlaceholder=function(){var t=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0),n;if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),f.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(t||this.renderer.placeholderNode)!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder);f.addCssClass(this.container,"ace_hasPlaceholder");n=f.createElement("div");n.className="ace_placeholder";n.textContent=this.$placeholder||"";this.renderer.placeholderNode=n;this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this);this.on("input",this.$updatePlaceholder)}this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(n){var i={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(n){n.blur();n.renderer.scroller.focus()},readOnly:!0},r=function(n){if(n.target==this.renderer.scroller&&n.keyCode===ut.enter){n.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0);this.focus()}},t;n?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(c.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",s("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",s("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",r.bind(this)),this.commands.addCommand(i),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",s("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",s("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new rt(this)),t.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",r.bind(this)),this.commands.removeCommand(i),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(n){this.$textInputAriaLabel=n},initialValue:""},enableMobileMenu:{set:function(n){this.$enableMobileMenu=n},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});o={getText:function(n,t){return(Math.abs(n.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(n,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(n,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(n){n.renderer.$gutterLayer.$renderer=this;n.on("changeSelection",this.update);this.update(null,n)},detach:function(n){n.renderer.$gutterLayer.$renderer==this&&(n.renderer.$gutterLayer.$renderer=null);n.off("changeSelection",this.update);this.update(null,n)}};t.Editor=r});ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(){function n(n,t){this.element=n;this.canvasHeight=t||5e5;this.element.style.height=this.canvasHeight*2+"px";this.cells=[];this.cellCache=[];this.$offsetCoefficient=0}return n.prototype.moveContainer=function(n){i.translate(this.element,0,-(n.firstRowScreen*n.lineHeight%this.canvasHeight)-n.offset*this.$offsetCoefficient)},n.prototype.pageChanged=function(n,t){return Math.floor(n.firstRowScreen*n.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},n.prototype.computeLineTop=function(n,t,i){var r=t.firstRowScreen*t.lineHeight,u=Math.floor(r/this.canvasHeight),f=i.documentToScreenRow(n,0)*t.lineHeight;return f-u*this.canvasHeight},n.prototype.computeLineHeight=function(n,t,i){return t.lineHeight*i.getRowLineCount(n)},n.prototype.getLength=function(){return this.cells.length},n.prototype.get=function(n){return this.cells[n]},n.prototype.shift=function(){this.$cacheCell(this.cells.shift())},n.prototype.pop=function(){this.$cacheCell(this.cells.pop())},n.prototype.push=function(n){var r,t;if(Array.isArray(n)){for(this.cells.push.apply(this.cells,n),r=i.createFragment(this.element),t=0;t<n.length;t++)r.appendChild(n[t].element);this.element.appendChild(r)}else this.cells.push(n),this.element.appendChild(n.element)},n.prototype.unshift=function(n){var t,r;if(Array.isArray(n)){for(this.cells.unshift.apply(this.cells,n),t=i.createFragment(this.element),r=0;r<n.length;r++)t.appendChild(n[r].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(n),this.element.insertAdjacentElement("afterbegin",n.element)},n.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},n.prototype.$cacheCell=function(n){n&&(n.element.remove(),this.cellCache.push(n))},n.prototype.createCell=function(n,t,r,u){var f=this.cellCache.pop(),e;return f||(e=i.createElement("div"),u&&u(e),this.element.appendChild(e),f={element:e,text:"",row:n}),f.row=n,f},n}();t.Lines=r});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,t){"use strict";function f(n){var f=document.createTextNode(""),r,t,u;return n.appendChild(f),r=i.createElement("span"),n.appendChild(r),t=i.createElement("span"),n.appendChild(t),u=i.createElement("span"),t.appendChild(u),n}var i=n("../lib/dom"),e=n("../lib/oop"),o=n("../lib/lang"),s=n("../lib/event_emitter").EventEmitter,h=n("./lines").Lines,r=n("../config").nls,u=function(){function n(n){this.element=i.createElement("div");this.element.className="ace_layer ace_gutter-layer";n.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$lines=new h(this.element);this.$lines.$offsetCoefficient=1}return n.prototype.setSession=function(n){if(this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n)n.on("change",this.$updateAnnotations)},n.prototype.addGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(n,t)},n.prototype.removeGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(n,t)},n.prototype.setAnnotations=function(n){var f,s;for(this.$annotations=[],f=0;f<n.length;f++){var i=n[f],h=i.row,t=this.$annotations[h];t||(t=this.$annotations[h]={text:[],type:[],displayText:[]});var u=i.text,e=i.text,r=i.type;u=u?o.escapeHTML(u):i.html||"";e=e?e:i.html||"";t.text.indexOf(u)===-1&&(t.text.push(u),t.type.push(r),t.displayText.push(e));s=i.className;s?t.className=s:r==="error"?t.className=" ace_error":r!=="security"||/\bace_error\b/.test(t.className)?r!=="warning"||/\bace_(error|security)\b/.test(t.className)?r!=="info"||t.className?r!=="hint"||t.className||(t.className=" ace_hint"):t.className=" ace_info":t.className=" ace_warning":t.className=" ace_security"}},n.prototype.$updateAnnotations=function(n){var t,i,r;this.$annotations.length&&(t=n.start.row,i=n.end.row-t,i===0||(n.action=="remove"?this.$annotations.splice(t,i+1,null):(r=new Array(i+1),r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r))))},n.prototype.update=function(n){this.config=n;var u=this.session,e=n.firstRow,o=Math.min(n.lastRow+n.gutterOffset,u.getLength()-1);this.oldLastRow=o;this.config=n;this.$lines.moveContainer(n);this.$updateCursorRow();for(var t=u.getNextFoldLine(e),s=t?t.start.row:Infinity,r=null,h=-1,i=e;;){if(i>s&&(i=t.end.row+1,t=u.getNextFoldLine(i,t),s=t?t.start.row:Infinity),i>o){while(this.$lines.getLength()>h+1)this.$lines.pop();break}r=this.$lines.get(++h);r?r.row=i:(r=this.$lines.createCell(i,n,this.session,f),this.$lines.push(r));this.$renderCell(r,n,t,i);i++}this._signal("afterRender");this.$updateGutterWidth(n)},n.prototype.$updateGutterWidth=function(n){var i=this.session,f=i.gutterRenderer||this.$renderer,e=i.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"",t,u;(this.$fixedWidth||i.$useWrapMode)&&(r=i.getLength()+e-1);t=f?f.getWidth(i,r,n):r.toString().length*n.characterWidth;u=this.$padding||this.$computePadding();t+=u.left+u.right;t===this.gutterWidth||isNaN(t)||(this.gutterWidth=t,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",t))},n.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},n.prototype.updateLineHighlight=function(){var r,i,n,t,u;if(this.$highlightGutterLine&&(r=this.session.selection.cursor.row,this.$cursorRow=r,!this.$cursorCell||this.$cursorCell.row!=r))for(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),i=this.$lines.cells,this.$cursorCell=null,n=0;n<i.length;n++)if(t=i[n],t.row>=this.$cursorRow){if(t.row>this.$cursorRow)if(u=this.session.getFoldLine(this.$cursorRow),n>0&&u&&u.start.row==i[n-1].row)t=i[n-1];else break;t.element.className="ace_gutter-active-line "+t.element.className;this.$cursorCell=t;break}},n.prototype.scrollLines=function(n){var t=this.config,i,r,u;if((this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(t,n))||(this.$lines.moveContainer(n),i=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),r=this.oldLastRow,this.oldLastRow=i,!t||r<n.firstRow)||i<t.firstRow)return this.update(n);if(t.firstRow<n.firstRow)for(u=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);u>0;u--)this.$lines.shift();if(r>i)for(u=this.session.getFoldedRowCount(i+1,r);u>0;u--)this.$lines.pop();n.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,t.firstRow-1));i>r&&this.$lines.push(this.$renderLines(n,r+1,i));this.updateLineHighlight();this._signal("afterRender");this.$updateGutterWidth(n)},n.prototype.$renderLines=function(n,t,i){for(var o=[],r=t,u=this.session.getNextFoldLine(r),s=u?u.start.row:Infinity,e;;){if(r>s&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),s=u?u.start.row:Infinity),r>i)break;e=this.$lines.createCell(r,n,this.session,f);this.$renderCell(e,n,u,r);o.push(e);r++}return o},n.prototype.$renderCell=function(n,t,u,f){var y=n.element,h=this.session,rt=y.childNodes[0],e=y.childNodes[1],o=y.childNodes[2],p=o.firstChild,st=h.$firstLineNumber,ut=h.$breakpoints,ft=h.$decorations,et=h.gutterRenderer||this.$renderer,nt=this.$showFoldWidgets&&h.foldWidgets,tt=u?u.start.row:Number.MAX_VALUE,b=t.lineHeight+"px",a=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",ot=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",s=(et?et.getText(h,f):f+st).toString(),w,k,it,l,d,v,g,c;if(this.$highlightGutterLine&&(f==this.$cursorRow||u&&f<this.$cursorRow&&f>=tt&&this.$cursorRow<=u.end.row)&&(a+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),ut[f]&&(a+=ut[f]),ft[f]&&(a+=ft[f]),this.$annotations[f]&&f!==tt&&(a+=this.$annotations[f].className),nt&&(w=nt[f],w==null&&(w=nt[f]=h.getFoldWidget(f))),w){if(k="ace_fold-widget ace_"+w,it=w=="start"&&f==tt&&f<u.end.row,it){for(k+=" ace_closed",l="",d=!1,v=f+1;v<=u.end.row;v++)if(this.$annotations[v]){if(this.$annotations[v].className===" ace_error"){d=!0;l=" ace_error_fold";break}this.$annotations[v].className===" ace_security"?(d=!0,l=" ace_security_fold"):this.$annotations[v].className===" ace_warning"&&l!==" ace_security_fold"&&(d=!0,l=" ace_warning_fold")}a+=l}else k+=" ace_open";e.className!=k&&(e.className=k);i.setStyle(e.style,"height",b);i.setStyle(e.style,"display","inline-block");e.setAttribute("role","button");e.setAttribute("tabindex","-1");g=h.getFoldWidgetRange(f);g?e.setAttribute("aria-label",r("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):u?e.setAttribute("aria-label",r("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[u.start.row+1,u.end.row+1])):e.setAttribute("aria-label",r("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[f+1]));it?(e.setAttribute("aria-expanded","false"),e.setAttribute("title",r("gutter.code-folding.closed.title","Unfold code"))):(e.setAttribute("aria-expanded","true"),e.setAttribute("title",r("gutter.code-folding.open.title","Fold code")))}else e&&(i.setStyle(e.style,"display","none"),e.setAttribute("tabindex","0"),e.removeAttribute("role"),e.removeAttribute("aria-label"));if(d&&this.$showFoldedAnnotations){o.className="ace_gutter_annotation";p.className=ot;p.className+=l;i.setStyle(p.style,"height",b);i.setStyle(o.style,"display","block");i.setStyle(o.style,"height",b);switch(l){case" ace_error_fold":c=r("gutter.annotation.aria-label.error","Error, read annotations row $0",[s]);break;case" ace_security_fold":c=r("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[s]);break;case" ace_warning_fold":c=r("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[s])}o.setAttribute("aria-label",c);o.setAttribute("tabindex","-1");o.setAttribute("role","button")}else if(this.$annotations[f]){o.className="ace_gutter_annotation";p.className=ot;this.$useSvgGutterIcons?p.className+=this.$annotations[f].className:y.classList.add(this.$annotations[f].className.replace(" ",""));i.setStyle(p.style,"height",b);i.setStyle(o.style,"display","block");i.setStyle(o.style,"height",b);switch(this.$annotations[f].className){case" ace_error":c=r("gutter.annotation.aria-label.error","Error, read annotations row $0",[s]);break;case" ace_security":c=r("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[s]);break;case" ace_warning":c=r("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[s]);break;case" ace_info":c=r("gutter.annotation.aria-label.info","Info, read annotations row $0",[s]);break;case" ace_hint":c=r("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[s])}o.setAttribute("aria-label",c);o.setAttribute("tabindex","-1");o.setAttribute("role","button")}else i.setStyle(o.style,"display","none"),o.removeAttribute("aria-label"),o.removeAttribute("role"),o.setAttribute("tabindex","0");return s!==rt.data&&(rt.data=s),y.className!=a&&(y.className=a),i.setStyle(n.element.style,"height",this.$lines.computeLineHeight(f,t,h)+"px"),i.setStyle(n.element.style,"top",this.$lines.computeLineTop(f,t,h)+"px"),n.text=s,o.style.display==="none"&&e.style.display==="none"?n.element.setAttribute("aria-hidden",!0):n.element.setAttribute("aria-hidden",!1),n},n.prototype.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},n.prototype.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},n.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},n.prototype.setShowFoldWidgets=function(n){n?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=n;this.$padding=null},n.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},n.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},n.prototype.getRegion=function(n){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return n.x<t.left+i.left?"markers":this.$showFoldWidgets&&n.x>i.right-t.right?"foldWidgets":void 0},n}();u.prototype.$fixedWidth=!1;u.prototype.$highlightGutterLine=!0;u.prototype.$renderer="";u.prototype.$showLineNumbers=!0;u.prototype.$showFoldWidgets=!0;e.implement(u.prototype,s);t.Gutter=u});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,t){"use strict";function f(n,t,i,r){return(n?1:0)|(t?2:0)|(i?4:0)|(r?8:0)}var r=n("../range").Range,u=n("../lib/dom"),i=function(){function n(n){this.element=u.createElement("div");this.element.className="ace_layer ace_marker-layer";n.appendChild(this.element)}return n.prototype.setPadding=function(n){this.$padding=n},n.prototype.setSession=function(n){this.session=n},n.prototype.setMarkers=function(n){this.markers=n},n.prototype.elt=function(n,t){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1);i.style.cssText=t;i.className=n},n.prototype.update=function(n){var r,u,t,i,f,e;if(n){this.config=n;this.i=0;for(u in this.markers){if(t=this.markers[u],!t.range){t.update(r,this,this.session,n);continue}(i=t.range.clipRows(n.firstRow,n.lastRow),i.isEmpty())||(i=i.toScreenRange(this.session),t.renderer?(f=this.$getTop(i.start.row,n),e=this.$padding+i.start.column*n.characterWidth,t.renderer(r,i,e,f,n)):t.type=="fullLine"?this.drawFullLineMarker(r,i,t.clazz,n):t.type=="screenLine"?this.drawScreenLineMarker(r,i,t.clazz,n):i.isMultiLine()?t.type=="text"?this.drawTextMarker(r,i,t.clazz,n):this.drawMultiLineMarker(r,i,t.clazz,n):this.drawSingleLineMarker(r,i,t.clazz+" ace_start ace_br15",n))}if(this.i!=-1)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)}},n.prototype.$getTop=function(n,t){return(n-t.firstRowScreen)*t.lineHeight},n.prototype.drawTextMarker=function(n,t,i,u,e){for(var v=this.session,s=t.start.row,h=t.end.row,o=s,y=0,c=0,a=v.getScreenLastRowColumn(o),l=new r(o,t.start.column,o,c);o<=h;o++)l.start.row=l.end.row=o,l.start.column=o==s?t.start.column:v.getRowWrapIndent(o),l.end.column=a,y=c,c=a,a=o+1<h?v.getScreenLastRowColumn(o+1):o==h?0:t.end.column,this.drawSingleLineMarker(n,l,i+(o==s?" ace_start":"")+" ace_br"+f(o==s||o==s+1&&t.start.column,y<c,c>a,o==h),u,o==h?0:1,e)},n.prototype.drawMultiLineMarker=function(n,t,i,r,u){var e=this.$padding,o=r.lineHeight,s=this.$getTop(t.start.row,r),l=e+t.start.column*r.characterWidth,f,c,h;(u=u||"",this.session.$bidiHandler.isBidiRow(t.start.row)?(f=t.clone(),f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(n,f,i+" ace_br1 ace_start",r,null,u)):this.elt(i+" ace_br1 ace_start","height:"+o+"px;right:"+e+"px;top:"+s+"px;left:"+l+"px;"+(u||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?(f=t.clone(),f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(n,f,i+" ace_br12",r,null,u)):(s=this.$getTop(t.end.row,r),c=t.end.column*r.characterWidth,this.elt(i+" ace_br12","height:"+o+"px;width:"+c+"px;top:"+s+"px;left:"+e+"px;"+(u||""))),o=(t.end.row-t.start.row-1)*r.lineHeight,o<=0)||(s=this.$getTop(t.start.row+1,r),h=(t.start.column?1:0)|(t.end.column?0:8),this.elt(i+(h?" ace_br"+h:""),"height:"+o+"px;right:"+e+"px;top:"+s+"px;left:"+e+"px;"+(u||"")))},n.prototype.drawSingleLineMarker=function(n,t,i,r,u,f){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(n,t,i,r,u,f);var e=r.lineHeight,o=(t.end.column+(u||0)-t.start.column)*r.characterWidth,s=this.$getTop(t.start.row,r),h=this.$padding+t.start.column*r.characterWidth;this.elt(i,"height:"+e+"px;width:"+o+"px;top:"+s+"px;left:"+h+"px;"+(f||""))},n.prototype.drawBidiSingleLineMarker=function(n,t,i,r,u,f){var e=r.lineHeight,o=this.$getTop(t.start.row,r),s=this.$padding,h=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);h.forEach(function(n){this.elt(i,"height:"+e+"px;width:"+(n.width+(u||0))+"px;top:"+o+"px;left:"+(s+n.left)+"px;"+(f||""))},this)},n.prototype.drawFullLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;t.start.row!=t.end.row&&(e+=this.$getTop(t.end.row,r)-f);this.elt(i,"height:"+e+"px;top:"+f+"px;left:0;right:0;"+(u||""))},n.prototype.drawScreenLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;this.elt(i,"height:"+e+"px;top:"+f+"px;left:0;right:0;"+(u||""))},n}();i.prototype.$padding=0;t.Marker=i});ace.define("ace/layer/text_util",["require","exports","module"],function(n,t){var i=new Set(["text","rparen","lparen"]);t.isTextToken=function(n){return i.has(n)}});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,t){"use strict";var f=n("../lib/oop"),u=n("../lib/dom"),r=n("../lib/lang"),e=n("./lines").Lines,o=n("../lib/event_emitter").EventEmitter,s=n("../config").nls,h=n("./text_util").isTextToken,i=function(){function n(n){this.dom=u;this.element=this.dom.createElement("div");this.element.className="ace_layer ace_text-layer";n.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this);this.$lines=new e(this.element)}return n.prototype.$updateEolChar=function(){var n=this.session.doc,i=n.getNewLineCharacter()=="\n"&&n.getNewLineMode()!="windows",t=i?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},n.prototype.setPadding=function(n){this.$padding=n;this.element.style.margin="0 "+n+"px"},n.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},n.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},n.prototype.$setFontMetrics=function(n){this.$fontMetrics=n;this.$fontMetrics.on("changeCharacterSize",function(n){this._signal("changeCharacterSize",n)}.bind(this));this.$pollSizeChanges()},n.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},n.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},n.prototype.setSession=function(n){this.session=n;n&&this.$computeTabString()},n.prototype.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,typeof n=="string"?(this.showSpaces=/tab/i.test(n),this.showTabs=/space/i.test(n),this.showEOL=/eol/i.test(n)):this.showSpaces=this.showTabs=this.showEOL=n,this.$computeTabString(),!0)},n.prototype.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)},n.prototype.setHighlightIndentGuides=function(n){return this.$highlightIndentGuides===n?!1:(this.$highlightIndentGuides=n,n)},n.prototype.$computeTabString=function(){var u=this.session.getTabSize(),i,t,n;for(this.tabSize=u,i=this.$tabStrings=[0],t=1;t<u+1;t++)this.showTabs?(n=this.dom.createElement("span"),n.className="ace_invisible ace_invisible_tab",n.textContent=r.stringRepeat(this.TAB_CHAR,t),i.push(n)):i.push(this.dom.createTextNode(r.stringRepeat(" ",t),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var f="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",e=this.showSpaces?r.stringRepeat(this.SPACE_CHAR,this.tabSize):r.stringRepeat(" ",this.tabSize),s=this.showTabs?" ace_invisible ace_invisible_tab":"",h=this.showTabs?r.stringRepeat(this.TAB_CHAR,this.tabSize):e,n=this.dom.createElement("span");n.className=f+o;n.textContent=e;this.$tabStrings[" "]=n;n=this.dom.createElement("span");n.className=f+s;n.textContent=h;this.$tabStrings["\t"]=n}},n.prototype.updateLines=function(n,t,i){var r,u,f,c,l;if(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)return this.update(n);this.config=n;var e=Math.max(t,n.firstRow),a=Math.min(i,n.lastRow),v=this.element.childNodes,o=0;for(r=n.firstRow;r<e;r++){if(u=this.session.getFoldLine(r),u)if(u.containsRow(e)){e=u.start.row;break}else r=u.end.row;o++}for(var s=!1,r=e,u=this.session.getNextFoldLine(r),h=u?u.start.row:Infinity;;){if(r>h&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),h=u?u.start.row:Infinity),r>a)break;f=v[o++];f&&(this.dom.removeChildren(f),this.$renderLine(f,r,r==h?u:!1),s&&(f.style.top=this.$lines.computeLineTop(r,n,this.session)+"px"),c=n.lineHeight*this.session.getRowLength(r)+"px",f.style.height!=c&&(s=!0,f.style.height=c));r++}if(s)while(o<this.$lines.cells.length)l=this.$lines.cells[o++],l.element.style.top=this.$lines.computeLineTop(l.row,n,this.session)+"px"},n.prototype.scrollLines=function(n){var t=this.config,r,u,i;if((this.config=n,this.$lines.pageChanged(t,n))||(this.$lines.moveContainer(n),r=n.lastRow,u=t?t.lastRow:-1,!t||u<n.firstRow)||r<t.firstRow||!t||t.lastRow<n.firstRow||n.lastRow<t.firstRow)return this.update(n);if(t.firstRow<n.firstRow)for(i=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>n.lastRow)for(i=this.session.getFoldedRowCount(n.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();n.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(n,n.firstRow,t.firstRow-1));n.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(n,t.lastRow+1,n.lastRow));this.$highlightIndentGuide()},n.prototype.$renderLinesFragment=function(n,t,i){for(var h=[],r=t,f=this.session.getNextFoldLine(r),o=f?f.start.row:Infinity,s,e;;){if(r>o&&(r=f.end.row+1,f=this.session.getNextFoldLine(r,f),o=f?f.start.row:Infinity),r>i)break;s=this.$lines.createCell(r,n,this.session);e=s.element;this.dom.removeChildren(e);u.setStyle(e.style,"height",this.$lines.computeLineHeight(r,n,this.session)+"px");u.setStyle(e.style,"top",this.$lines.computeLineTop(r,n,this.session)+"px");this.$renderLine(e,r,r==o?f:!1);e.className=this.$useLineGroups()?"ace_line_group":"ace_line";h.push(s);r++}return h},n.prototype.update=function(n){this.$lines.moveContainer(n);this.config=n;for(var i=n.firstRow,r=n.lastRow,t=this.$lines;t.getLength();)t.pop();t.push(this.$renderLinesFragment(n,i,r))},n.prototype.$renderToken=function(n,t,i,u){for(var e=this,d=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),o,l=0,v,y,k,f;o=d.exec(u);){var g=o[1],a=o[2],p=o[3],w=o[4],b=o[5];(e.showSpaces||!a)&&(v=l!=o.index?u.slice(l,o.index):"",l=o.index+o[0].length,v&&c.appendChild(this.dom.createTextNode(v,this.element)),g?(y=e.session.getScreenTabSize(t+o.index),c.appendChild(e.$tabStrings[y].cloneNode(!0)),t+=y-1):a?e.showSpaces?(f=this.dom.createElement("span"),f.className="ace_invisible ace_invisible_space",f.textContent=r.stringRepeat(e.SPACE_CHAR,a.length),c.appendChild(f)):c.appendChild(this.dom.createTextNode(a,this.element)):p?(f=this.dom.createElement("span"),f.className="ace_invisible ace_invisible_space ace_invalid",f.textContent=r.stringRepeat(e.SPACE_CHAR,p.length),c.appendChild(f)):w?(t+=1,f=this.dom.createElement("span"),f.style.width=e.config.characterWidth*2+"px",f.className=e.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",f.textContent=e.showSpaces?e.SPACE_CHAR:w,c.appendChild(f)):b&&(t+=1,f=this.dom.createElement("span"),f.style.width=e.config.characterWidth*2+"px",f.className="ace_cjk",f.textContent=b,c.appendChild(f)))}return c.appendChild(this.dom.createTextNode(l?u.slice(l):u,this.element)),h(i.type)?n.appendChild(c):(k="ace_"+i.type.replace(/\./g," ace_"),f=this.dom.createElement("span"),i.type=="fold"&&(f.style.width=i.value.length*this.config.characterWidth+"px",f.setAttribute("title",s("inline-fold.closed.title","Unfold code"))),f.className=k,f.appendChild(c),n.appendChild(f)),t+u.length},n.prototype.renderIndentGuide=function(n,t,i){var r=t.search(this.$indentGuideRe),f,u;if(r<=0||r>=i)return t;if(t[0]==" "){for(r-=r%this.tabSize,f=r/this.tabSize,u=0;u<f;u++)n.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if(t[0]=="\t"){for(u=0;u<r;u++)n.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},n.prototype.$highlightIndentGuide=function(){var i,e,r,n,u,o;if(this.$highlightIndentGuides&&this.displayIndentGuides&&(this.$highlightIndentGuideMarker={indentLevel:undefined,start:undefined,end:undefined,dir:undefined},i=this.session.doc.$lines,i)){var t=this.session.selection.getCursor(),f=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,s=Math.floor(f/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:s,start:t.row},e=this.session.$bracketHighlight,e)for(r=this.session.$bracketHighlight.ranges,n=0;n<r.length;n++)if(t.row!==r[n].start.row){this.$highlightIndentGuideMarker.end=r[n].start.row;this.$highlightIndentGuideMarker.dir=t.row>r[n].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&i[t.row]!==""&&t.column===i[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,n=t.row+1;n<i.length;n++)if(u=i[n],o=/^\s*/.exec(u)[0].length,u!==""&&(this.$highlightIndentGuideMarker.end=n,o<=f))break;this.$renderHighlightIndentGuide()}},n.prototype.$clearActiveIndentGuide=function(){for(var u,n,t,r=this.$lines.cells,i=0;i<r.length;i++)if(u=r[i],n=u.element.childNodes,n.length>0)for(t=0;t<n.length;t++)if(n[t].classList&&n[t].classList.contains("ace_indent-guide-active")){n[t].classList.remove("ace_indent-guide-active");break}},n.prototype.$setIndentGuideActive=function(n,t){var u=this.session.doc.getLine(n.row),r,i;u!==""&&(r=n.element.childNodes,r&&(i=r[t-1],i&&i.classList&&i.classList.contains("ace_indent-guide")&&i.classList.add("ace_indent-guide-active")))},n.prototype.$renderHighlightIndentGuide=function(){var i,r,n,t;if(this.$lines&&(i=this.$lines.cells,this.$clearActiveIndentGuide(),r=this.$highlightIndentGuideMarker.indentLevel,r!==0))if(this.$highlightIndentGuideMarker.dir===1){for(n=0;n<i.length;n++)if(t=i[n],this.$highlightIndentGuideMarker.end&&t.row>=this.$highlightIndentGuideMarker.start+1){if(t.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(t,r)}}else for(n=i.length-1;n>=0;n--)if(t=i[n],this.$highlightIndentGuideMarker.end&&t.row<this.$highlightIndentGuideMarker.start){if(t.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(t,r)}},n.prototype.$createLineElement=function(){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},n.prototype.$renderWrappedLine=function(n,t,i){var f=0,l=0,s=i[0],o=0,e=this.$createLineElement(),h,c,u;for(n.appendChild(e),h=0;h<t.length;h++){if(c=t[h],u=c.value,h==0&&this.displayIndentGuides){if(f=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;f-=u.length}if(f+u.length<s)o=this.$renderToken(e,o,c,u),f+=u.length;else{while(f+u.length>=s)o=this.$renderToken(e,o,c,u.substring(0,s-f)),u=u.substring(s-f),f=s,e=this.$createLineElement(),n.appendChild(e),e.appendChild(this.dom.createTextNode(r.stringRepeat("",i.indent),this.element)),l++,o=0,s=i[l]||Number.MAX_VALUE;u.length!=0&&(f+=u.length,o=this.$renderToken(e,o,c,u))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(e,o,null,"",!0)},n.prototype.$renderSimpleLine=function(n,t){for(var f,i,r=0,u=0;u<t.length;u++)if(f=t[u],i=f.value,u!=0||!this.displayIndentGuides||(i=this.renderIndentGuide(n,i),i)){if(r+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(n,r,f,i);r=this.$renderToken(n,r,f,i)}},n.prototype.$renderOverflowMessage=function(n,t,i,r,u){i&&this.$renderToken(n,t,i,r.slice(0,this.MAX_LINE_LENGTH-t));var f=this.dom.createElement("span");f.className="ace_inline_button ace_keyword ace_toggle_wrap";f.textContent=u?"<hide>":"<click to see more...>";n.appendChild(f)},n.prototype.$renderLine=function(n,t,i){var u,f,r,e;i||i==!1||(i=this.session.getFoldLine(t));u=i?this.$getFoldLineTokens(t,i):this.session.getTokens(t);r=n;u.length?(f=this.session.getRowSplitData(t),f&&f.length?(this.$renderWrappedLine(n,u,f),r=n.lastChild):(r=n,this.$useLineGroups()&&(r=this.$createLineElement(),n.appendChild(r)),this.$renderSimpleLine(r,u))):this.$useLineGroups()&&(r=this.$createLineElement(),n.appendChild(r));this.showEOL&&r&&(i&&(t=i.end.row),e=this.dom.createElement("span"),e.className="ace_invisible ace_invisible_eol",e.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(e))},n.prototype.$getFoldLineTokens=function(n,t){function f(n,t,r){for(var u=0,e=0,f;e+n[u].value.length<t;)if(e+=n[u].value.length,u++,u==n.length)return;for(e!=t&&(f=n[u].value.substring(t-e),f.length>r-t&&(f=f.substring(0,r-t)),i.push({type:n[u].type,value:f}),e=t+f.length,u+=1);e<r&&u<n.length;)f=n[u].value,f.length+e>r?i.push({type:n[u].type,value:f.substring(0,r-e)}):i.push(n[u]),e+=f.length,u+=1}var u=this.session,i=[],r=u.getTokens(n);return t.walk(function(n,t,e,o,s){n!=null?i.push({type:"fold",value:n}):(s&&(r=u.getTokens(t)),r.length&&f(r,o,e))},t.end.row,this.session.getLine(t.end.row).length),i},n.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},n}();i.prototype.EOF_CHAR="";i.prototype.EOL_CHAR_LF="";i.prototype.EOL_CHAR_CRLF="";i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF;i.prototype.TAB_CHAR="";i.prototype.SPACE_CHAR="";i.prototype.$padding=0;i.prototype.MAX_LINE_LENGTH=1e4;i.prototype.showInvisibles=!1;i.prototype.showSpaces=!1;i.prototype.showTabs=!1;i.prototype.showEOL=!1;i.prototype.displayIndentGuides=!0;i.prototype.$highlightIndentGuides=!0;i.prototype.$tabStrings=[];i.prototype.destroy={};i.prototype.onChangeTabSize=i.prototype.$computeTabString;f.implement(i.prototype,o);t.Text=i});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(){function n(n){this.element=i.createElement("div");this.element.className="ace_layer ace_cursor-layer";n.appendChild(this.element);this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1e3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();i.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=this.$updateOpacity.bind(this)}return n.prototype.$updateOpacity=function(n){for(var t=this.cursors,r=t.length;r--;)i.setStyle(t[r].style,"opacity",n?"":"0")},n.prototype.$startCssAnimation=function(){for(var n=this.cursors,t=n.length;t--;)n[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0;setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},n.prototype.$stopCssAnimation=function(){this.$isAnimating=!1;i.removeCssClass(this.element,"ace_animate-blinking")},n.prototype.setPadding=function(n){this.$padding=n},n.prototype.setSession=function(n){this.session=n},n.prototype.setBlinking=function(n){n!=this.isBlinking&&(this.isBlinking=n,this.restartTimer())},n.prototype.setBlinkInterval=function(n){n!=this.blinkInterval&&(this.blinkInterval=n,this.restartTimer())},n.prototype.setSmoothBlinking=function(n){n!=this.smoothBlinking&&(this.smoothBlinking=n,i.setCssClass(this.element,"ace_smooth-blinking",n),this.$updateCursors(!0),this.restartTimer())},n.prototype.addCursor=function(){var n=i.createElement("div");return n.className="ace_cursor",this.element.appendChild(n),this.cursors.push(n),n},n.prototype.removeCursor=function(){if(this.cursors.length>1){var n=this.cursors.pop();return n.parentNode.removeChild(n),n}},n.prototype.hideCursor=function(){this.isVisible=!1;i.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()},n.prototype.showCursor=function(){this.isVisible=!0;i.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()},n.prototype.restartTimer=function(){var n=this.$updateCursors,t;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),n(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)));i.HAS_CSS_ANIMATION?this.$startCssAnimation():(t=function(){this.timeoutId=setTimeout(function(){n(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){n(!0);t()},this.blinkInterval),t())},n.prototype.getPixelPosition=function(n,t){if(!this.config||!this.session)return{left:0,top:0};n||(n=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(n),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),u=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:u}},n.prototype.isCursorInView=function(n,t){return n.top>=0&&n.top<t.maxHeight},n.prototype.update=function(n){var u,s,t,e,f,h;this.config=n;var r=this.session.$selectionMarkers,u=0,o=0;for((r===undefined||r.length===0)&&(r=[{cursor:null}]),u=0,s=r.length;u<s;u++)(t=this.getPixelPosition(r[u].cursor,!0),(t.top>n.height+n.offset||t.top<0)&&u>1)||(e=this.cursors[o++]||this.addCursor(),f=e.style,this.drawCursor?this.drawCursor(e,t,n,r[u],this.session):this.isCursorInView(t,n)?(i.setStyle(f,"display","block"),i.translate(e,t.left,t.top),i.setStyle(f,"width",Math.round(n.characterWidth)+"px"),i.setStyle(f,"height",n.lineHeight+"px")):i.setStyle(f,"display","none"));while(this.cursors.length>o)this.removeCursor();h=this.session.getOverwrite();this.$setOverwrite(h);this.$pixelPos=t;this.restartTimer()},n.prototype.$setOverwrite=function(n){n!=this.overwrite&&(this.overwrite=n,n?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},n.prototype.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)},n}();r.prototype.$padding=0;r.prototype.drawCursor=null;t.Cursor=r});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var s=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),h=n("./lib/oop"),r=n("./lib/dom"),u=n("./lib/event"),c=n("./lib/event_emitter").EventEmitter,f=32768,e=function(){function n(n,t){this.element=r.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+t;this.inner=r.createElement("div");this.inner.className="ace_scrollbar-inner";this.inner.textContent="";this.element.appendChild(this.inner);n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;u.addListener(this.element,"scroll",this.onScroll.bind(this));u.addListener(this.element,"mousedown",u.preventDefault)}return n.prototype.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1},n}(),i,o;h.implement(e.prototype,c);i=function(n){function t(t,i){var u=n.call(this,t,"-v")||this;return u.scrollTop=0,u.scrollHeight=0,i.$scrollbarWidth=u.width=r.scrollbarWidth(t.ownerDocument),u.inner.style.width=u.element.style.width=(u.width||15)+5+"px",u.$minWidth=0,u}return s(t,n),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var n=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-n)/(this.coeff-n)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(n){this.element.style.height=n+"px"},t.prototype.setScrollHeight=function(n){this.scrollHeight=n;n>f?(this.coeff=f/n,n=f):this.coeff!=1&&(this.coeff=1);this.inner.style.height=n+"px"},t.prototype.setScrollTop=function(n){this.scrollTop!=n&&(this.skipEvent=!0,this.scrollTop=n,this.element.scrollTop=n*this.coeff)},t}(e);i.prototype.setInnerHeight=i.prototype.setScrollHeight;o=function(n){function t(t,i){var r=n.call(this,t,"-h")||this;return r.scrollLeft=0,r.height=i.$scrollbarWidth,r.inner.style.height=r.element.style.height=(r.height||15)+5+"px",r}return s(t,n),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(n){this.element.style.width=n+"px"},t.prototype.setInnerWidth=function(n){this.inner.style.width=n+"px"},t.prototype.setScrollWidth=function(n){this.inner.style.width=n+"px"},t.prototype.setScrollLeft=function(n){this.scrollLeft!=n&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=n)},t}(e);t.ScrollBar=i;t.ScrollBarV=i;t.ScrollBarH=o;t.VScrollBar=i;t.HScrollBar=o});ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var o=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=n("./lib/oop"),e=n("./lib/dom"),i=n("./lib/event"),h=n("./lib/event_emitter").EventEmitter,f,r,u;e.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);f=function(){function n(n,t){this.element=e.createElement("div");this.element.className="ace_sb"+t;this.inner=e.createElement("div");this.inner.className="";this.element.appendChild(this.inner);this.VScrollWidth=12;this.HScrollHeight=12;n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;i.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return n.prototype.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1},n}();s.implement(f.prototype,h);r=function(n){function t(t,i){var r=n.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,r.parent=t,r.width=r.VScrollWidth,r.renderer=i,r.inner.style.width=r.element.style.width=(r.width||15)+"px",r.$minWidth=0,r}return o(t,n),t.prototype.onMouseDown=function(n,t){var f,e;if(n==="mousedown"&&i.getButton(t)===0&&t.detail!==2){if(t.target===this.inner){var r=this,u=t.clientY,o=function(n){u=n.clientY},s=function(){clearInterval(f)},h=t.clientY,c=this.thumbTop,l=function(){if(u!==undefined){var n=r.scrollTopFromThumbTop(c+u-h);n!==r.scrollTop&&r._emit("scroll",{data:n})}};return i.capture(this.inner,o,s),f=setInterval(l,20),i.preventDefault(t)}return e=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2,this._emit("scroll",{data:this.scrollTopFromThumbTop(e)}),i.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(n){var t=n*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return t=t>>0,t<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(n){this.height=Math.max(0,n);this.slideHeight=this.height;this.viewHeight=this.height;this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(n,t){(this.pageHeight!==n||t)&&(this.pageHeight=n,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(n){this.scrollTop=n;n<0&&(n=0);this.thumbTop=n*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight);this.inner.style.top=this.thumbTop+"px"},t}(f);r.prototype.setInnerHeight=r.prototype.setScrollHeight;u=function(n){function t(t,i){var r=n.call(this,t,"-h")||this;return r.scrollLeft=0,r.scrollWidth=0,r.height=r.HScrollHeight,r.inner.style.height=r.element.style.height=(r.height||12)+"px",r.renderer=i,r}return o(t,n),t.prototype.onMouseDown=function(n,t){var f,e;if(n==="mousedown"&&i.getButton(t)===0&&t.detail!==2){if(t.target===this.inner){var r=this,u=t.clientX,o=function(n){u=n.clientX},s=function(){clearInterval(f)},h=t.clientX,c=this.thumbLeft,l=function(){if(u!==undefined){var n=r.scrollLeftFromThumbLeft(c+u-h);n!==r.scrollLeft&&r._emit("scroll",{data:n})}};return i.capture(this.inner,o,s),f=setInterval(l,20),i.preventDefault(t)}return e=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2,this._emit("scroll",{data:this.scrollLeftFromThumbLeft(e)}),i.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(n){var t=n*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return t=t>>0,t<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(n){this.width=Math.max(0,n);this.element.style.width=this.width+"px";this.slideWidth=this.width;this.viewWidth=this.width;this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(n,t){(this.pageWidth!==n||t)&&(this.pageWidth=n,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(n){this.scrollLeft=n;n<0&&(n=0);this.thumbLeft=n*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth);this.inner.style.left=this.thumbLeft+"px"},t}(f);u.prototype.setInnerWidth=u.prototype.setScrollWidth;t.ScrollBar=r;t.ScrollBarV=r;t.ScrollBarH=u;t.VScrollBar=r;t.HScrollBar=u});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,t){"use strict";var i=n("./lib/event"),r=function(){function n(n,t){this.onRender=n;this.pending=!1;this.changes=0;this.$recursionLimit=2;this.window=t||window;var r=this;this._flush=function(){r.pending=!1;var n=r.changes;if(n){i.blockIdle(100);r.changes=0;r.onRender(n)}if(r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}}return n.prototype.schedule=function(n){this.changes=this.changes|n;this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},n.prototype.clear=function(){var n=this.changes;return this.changes=0,n},n}();t.RenderLoop=r});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){var s=n("../lib/oop"),r=n("../lib/dom"),e=n("../lib/lang"),o=n("../lib/event"),h=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,u=512,l=typeof ResizeObserver=="function",i=200,f=function(){function n(n){this.el=r.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=r.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=r.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);n.appendChild(this.el);this.$measureNode.textContent=e.stringRepeat("X",u);this.$characterSize={width:0,height:0};l?this.$addObserver():this.checkForSizeChanges()}return n.prototype.$setMeasureNodeStyles=function(n,t){n.width=n.height="auto";n.left=n.top="0px";n.visibility="hidden";n.position="absolute";n.whiteSpace="pre";h.isIE<8?n["font-family"]="inherit":n.font="inherit";n.overflow=t?"hidden":"visible"},n.prototype.checkForSizeChanges=function(n){if(n===undefined&&(n=this.$measureSizes()),n&&(this.$characterSize.width!==n.width||this.$characterSize.height!==n.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=n;this.charSizes=Object.create(null);this.allowBoldFonts=t&&t.width===n.width&&t.height===n.height;this._emit("changeCharacterSize",{data:n})}},n.prototype.$addObserver=function(){var n=this;this.$observer=new window.ResizeObserver(function(){n.checkForSizeChanges()});this.$observer.observe(this.$measureNode)},n.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var n=this;return this.$pollSizeChangesTimer=o.onIdle(function t(){n.checkForSizeChanges();o.onIdle(t,500)},500)},n.prototype.setPolling=function(n){n?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},n.prototype.$measureSizes=function(n){var t={height:(n||this.$measureNode).clientHeight,width:(n||this.$measureNode).clientWidth/u};return t.width===0||t.height===0?null:t},n.prototype.$measureCharWidth=function(n){this.$main.textContent=e.stringRepeat(n,u);var t=this.$main.getBoundingClientRect();return t.width/u},n.prototype.getCharacterWidth=function(n){var t=this.charSizes[n];return t===undefined&&(t=this.charSizes[n]=this.$measureCharWidth(n)/this.$characterSize.width),t},n.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$observer&&this.$observer.disconnect();this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},n.prototype.$getZoom=function(n){return!n||!n.parentElement?1:(Number(window.getComputedStyle(n).zoom)||1)*this.$getZoom(n.parentElement)},n.prototype.$initTransformMeasureNodes=function(){var n=function(n,t){return["div",{style:"position: absolute;top:"+n+"px;left:"+t+"px;"}]};this.els=r.buildDom([n(0,0),n(i,0),n(0,i),n(i,i)],this.el)},n.prototype.transformCoordinates=function(n,t){function p(n,t,i){var r=n[1]*t[0]-n[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/r,(+n[1]*i[0]-n[0]*i[1])/r]}function u(n,t){return[n[0]-t[0],n[1]-t[1]]}function o(n,t){return[n[0]+t[0],n[1]+t[1]]}function r(n,t){return[n*t[0],n*t[1]]}function s(n){var t=n.getBoundingClientRect();return[t.left,t.top]}var y,c,k;n&&(y=this.$getZoom(this.el),n=r(1/y,n));this.els||this.$initTransformMeasureNodes();var e=s(this.els[0]),l=s(this.els[1]),a=s(this.els[2]),v=s(this.els[3]),f=p(u(v,l),u(v,a),u(o(l,a),o(v,e))),w=r(1+f[0],u(l,e)),b=r(1+f[1],u(a,e));if(t){var h=t,d=f[0]*h[0]/i+f[1]*h[1]/i+1,g=o(r(h[0],w),r(h[1],b));return o(r(1/d/i,g),e)}return c=u(n,e),k=p(u(w,r(f[0],c)),u(b,r(f[1],c)),c),r(i,k)},n}();f.prototype.$characterSize={width:0,height:0};s.implement(f.prototype,c);t.FontMetrics=f});ace.define("ace/css/editor-css",["require","exports","module"],function(n,t,i){i.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    forced-color-adjust: none;\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_security {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n.ace_icon_svg.ace_hint {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");\n    background-color: silver;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_security_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    position: relative;\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n    z-index: 1;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}\n\n.ace_ghost_text_container > div {\n    white-space: pre;\n}\n\n.ghost_text_line_wrapped::after {\n    content: "";\n    position: absolute;\n}\n\n.ace_lineWidgetContainer.ace_ghost_text {\n    margin: 0px 4px\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}\n\n.ace_hidden_token {\n    display: none;\n}'});ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("../lib/dom"),u=n("../lib/oop"),f=n("../lib/event_emitter").EventEmitter,i=function(){function n(n,t){this.canvas=r.createElement("canvas");this.renderer=t;this.pixelRatio=1;this.maxHeight=t.layerConfig.maxHeight;this.lineHeight=t.layerConfig.lineHeight;this.canvasHeight=n.parent.scrollHeight;this.heightRatio=this.canvasHeight/this.maxHeight;this.canvasWidth=n.width;this.minDecorationHeight=2*this.pixelRatio|0;this.halfMinDecorationHeight=this.minDecorationHeight/2|0;this.canvas.width=this.canvasWidth;this.canvas.height=this.canvasHeight;this.canvas.style.top="0px";this.canvas.style.right="0px";this.canvas.style.zIndex="7px";this.canvas.style.position="absolute";this.colors={};this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"};this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"};n.element.appendChild(this.canvas)}return n.prototype.$updateDecorators=function(n){function p(n,t){return n.priority<t.priority?-1:n.priority>t.priority?1:0}var y=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light,a,r,t,v,c,u,i,h,f,l;if(n&&(this.maxHeight=n.maxHeight,this.lineHeight=n.lineHeight,this.canvasHeight=n.height,a=(n.lastRow+1)*this.lineHeight,this.heightRatio=a<this.canvasHeight?1:this.canvasHeight/this.maxHeight),r=this.canvas.getContext("2d"),t=this.renderer.session.$annotations,r.clearRect(0,0,this.canvas.width,this.canvas.height),t)for(v={info:1,warning:2,error:3},t.forEach(function(n){n.priority=v[n.type]||null}),t=t.sort(p),c=this.renderer.session.$foldData,u=0;u<t.length;u++){var e=t[u].row,f=this.compensateFoldRows(e,c),l=Math.round((e-f)*this.lineHeight*this.heightRatio),o=Math.round((e-f)*this.lineHeight*this.heightRatio),s=Math.round(((e-f)*this.lineHeight+this.lineHeight)*this.heightRatio),w=s-o;w<this.minDecorationHeight&&(i=(o+s)/2|0,i<this.halfMinDecorationHeight?i=this.halfMinDecorationHeight:i+this.halfMinDecorationHeight>this.canvasHeight&&(i=this.canvasHeight-this.halfMinDecorationHeight),o=Math.round(i-this.halfMinDecorationHeight),s=Math.round(i+this.halfMinDecorationHeight));r.fillStyle=y[t[u].type]||null;r.fillRect(0,l,this.canvasWidth,s-o)}h=this.renderer.session.selection.getCursor();h&&(f=this.compensateFoldRows(h.row,c),l=Math.round((h.row-f)*this.lineHeight*this.heightRatio),r.fillStyle="rgba(0, 0, 0, 0.5)",r.fillRect(0,l,this.canvasWidth,2))},n.prototype.compensateFoldRows=function(n,t){var r=0,i;if(t&&t.length>0)for(i=0;i<t.length;i++)n>t[i].start.row&&n<t[i].end.row?r+=n-t[i].start.row:n>=t[i].end.row&&(r+=t[i].end.row-t[i].start.row);return r},n}();u.implement(i.prototype,f);t.Decorator=i});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,t){"use strict";var c=n("./lib/oop"),i=n("./lib/dom"),l=n("./lib/lang"),u=n("./config"),a=n("./layer/gutter").Gutter,e=n("./layer/marker").Marker,v=n("./layer/text").Text,y=n("./layer/cursor").Cursor,o=n("./scrollbar").HScrollBar,s=n("./scrollbar").VScrollBar,p=n("./scrollbar_custom").HScrollBar,w=n("./scrollbar_custom").VScrollBar,b=n("./renderloop").RenderLoop,k=n("./layer/font_metrics").FontMetrics,d=n("./lib/event_emitter").EventEmitter,h=n("./css/editor-css"),g=n("./layer/decorators").Decorator,f=n("./lib/useragent"),nt=n("./layer/text_util").isTextToken,r;i.importCssString(h,"ace_editor.css",!1);r=function(){function n(n,t){var r=this,h;this.container=n||i.createElement("div");i.addCssClass(this.container,"ace_editor");i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi");this.setTheme(t);u.get("useStrictCSP")==null&&u.set("useStrictCSP",!1);this.$gutter=i.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden","true");this.scroller=i.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=i.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new a(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new e(this.content);h=this.$textLayer=new v(this.content);this.canvas=h.element;this.$markerFront=new e(this.content);this.$cursorLayer=new y(this.content);this.$horizScroll=!1;this.$vScroll=!1;this.scrollBar=this.scrollBarV=new s(this.container,this);this.scrollBarH=new o(this.container,this);this.scrollBarV.on("scroll",function(n){r.$scrollAnimation||r.session.setScrollTop(n.data-r.scrollMargin.top)});this.scrollBarH.on("scroll",function(n){r.$scrollAnimation||r.session.setScrollLeft(n.data-r.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new k(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.on("changeCharacterSize",function(n){r.updateCharacterSize();r.onResize(!0,r.gutterWidth,r.$size.width,r.$size.height);r._signal("changeCharacterSize",n)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$keepTextAreaAtCursor=!f.isIOS;this.$loop=new b(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);this.$addResizeObserver();u.resetOptions(this);u._signal("renderer",this)}return n.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin();i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},n.prototype.setSession=function(n){if(this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=n,n&&this.scrollMargin.top&&n.getScrollTop()<=0&&n.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(n),this.$markerBack.setSession(n),this.$markerFront.setSession(n),this.$gutterLayer.setSession(n),this.$textLayer.setSession(n),n){this.$loop.schedule(this.CHANGE_FULL);this.session.$setFontMetrics(this.$fontMetrics);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this);this.onChangeNewLineMode();this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)}},n.prototype.updateLines=function(n,t,i){if(t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>n&&(this.$changedLines.firstRow=n),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:n,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow)if(i)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},n.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},n.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()},n.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},n.prototype.updateFull=function(n){n?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},n.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},n.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},n.prototype.onResize=function(n,t,i,r){var u,f;if(!(this.resizing>2)){if(this.resizing>0?this.resizing++:this.resizing=n?1:0,u=this.container,r||(r=u.clientHeight||u.scrollHeight),!r&&this.$maxLines&&this.lineHeight>1&&(u.style.height&&u.style.height!="0px"||(u.style.height="1px",r=u.clientHeight||u.scrollHeight)),i||(i=u.clientWidth||u.scrollWidth),f=this.$updateCachedSize(n,t,i,r),this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!i&&!r)return this.resizing=0;n&&(this.$gutterLayer.$padding=null);n?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},n.prototype.$updateCachedSize=function(n,t,r,u){var o;u-=this.$extraHeight||0;var e=0,f=this.$size,s={width:f.width,height:f.height,scrollerHeight:f.scrollerHeight,scrollerWidth:f.scrollerWidth};return u&&(n||f.height!=u)&&(f.height=u,e|=this.CHANGE_SIZE,f.scrollerHeight=f.height,this.$horizScroll&&(f.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(f.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",e=e|this.CHANGE_SCROLL),r&&(n||f.width!=r)&&(e|=this.CHANGE_SIZE,f.width=r,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),f.scrollerWidth=Math.max(0,r-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px"),o=this.scrollBarV.getWidth()+"px",i.setStyle(this.scrollBarH.element.style,"right",o),i.setStyle(this.scroller.style,"right",o),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(f.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||n)&&(e|=this.CHANGE_FULL)),f.$dirty=!r||!u,e&&this._signal("resize",s),e},n.prototype.onGutterResize=function(n){var t=this.$showGutter?n:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},n.prototype.adjustWrapLimit=function(){var n=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(n/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},n.prototype.setAnimatedScroll=function(n){this.setOption("animatedScroll",n)},n.prototype.getAnimatedScroll=function(){return this.$animatedScroll},n.prototype.setShowInvisibles=function(n){this.setOption("showInvisibles",n);this.session.$bidiHandler.setShowInvisibles(n)},n.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},n.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},n.prototype.setDisplayIndentGuides=function(n){this.setOption("displayIndentGuides",n)},n.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},n.prototype.setHighlightIndentGuides=function(n){this.setOption("highlightIndentGuides",n)},n.prototype.setShowPrintMargin=function(n){this.setOption("showPrintMargin",n)},n.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},n.prototype.setPrintMarginColumn=function(n){this.setOption("printMarginColumn",n)},n.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},n.prototype.getShowGutter=function(){return this.getOption("showGutter")},n.prototype.setShowGutter=function(n){return this.setOption("showGutter",n)},n.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},n.prototype.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)},n.prototype.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)},n.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},n.prototype.$updatePrintMargin=function(){var n,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||(n=i.createElement("div"),n.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",n.appendChild(this.$printMarginEl),this.content.insertBefore(n,this.content.firstChild)),t=this.$printMarginEl.style,t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit())},n.prototype.getContainerElement=function(){return this.container},n.prototype.getMouseEventTarget=function(){return this.scroller},n.prototype.getTextAreaContainer=function(){return this.container},n.prototype.$moveTextAreaToCursor=function(){var s,n,u,o,r,c,l;if(!this.$isMousePressed){if(s=this.textarea.style,n=this.$composition,!this.$keepTextAreaAtCursor&&!n){i.translate(this.textarea,-100,0);return}if(u=this.$cursorLayer.$pixelPos,u){n&&n.markerRange&&(u=this.$cursorLayer.getPixelPosition(n.markerRange.start,!0));var h=this.layerConfig,t=u.top,e=u.left;if(t-=h.offset,o=n&&n.useTextareaForIME||f.isMobile?this.lineHeight:1,t<0||t>h.height-o){i.translate(this.textarea,0,0);return}r=1;c=this.$size.height-o;n?n.useTextareaForIME?(l=this.textarea.value,r=this.characterWidth*this.session.$getStringScreenWidth(l)[0]):t+=this.lineHeight+2:t+=this.lineHeight;e-=this.scrollLeft;e>this.$size.scrollerWidth-r&&(e=this.$size.scrollerWidth-r);e+=this.gutterWidth+this.margin.left;i.setStyle(s,"height",o+"px");i.setStyle(s,"width",r+"px");i.translate(this.textarea,Math.min(e,this.$size.scrollerWidth-r),Math.min(t,c))}}},n.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},n.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},n.prototype.getLastFullyVisibleRow=function(){var n=this.layerConfig,t=n.lastRow,i=this.session.documentToScreenRow(t,0)*n.lineHeight;return i-this.session.getScrollTop()>n.height-n.lineHeight?t-1:t},n.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},n.prototype.setPadding=function(n){this.$padding=n;this.$textLayer.setPadding(n);this.$cursorLayer.setPadding(n);this.$markerFront.setPadding(n);this.$markerBack.setPadding(n);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()},n.prototype.setScrollMargin=function(n,t,i,r){var u=this.scrollMargin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;u.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-u.top);this.updateFull()},n.prototype.setMargin=function(n,t,i,r){var u=this.margin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height);this.updateFull()},n.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},n.prototype.setHScrollBarAlwaysVisible=function(n){this.setOption("hScrollBarAlwaysVisible",n)},n.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},n.prototype.setVScrollBarAlwaysVisible=function(n){this.setOption("vScrollBarAlwaysVisible",n)},n.prototype.$updateScrollBarV=function(){var n=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(n-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>n-t&&(n=this.scrollTop+t,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(n+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},n.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},n.prototype.freeze=function(){this.$frozen=!0},n.prototype.unfreeze=function(){this.$frozen=!1},n.prototype.$renderChanges=function(n,t){var r,u,f,e;if(this.$changes&&(n|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!n&&!t){this.$changes|=n;return}if(this.$size.$dirty){this.$changes|=n;return this.onResize(!0)}if(this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",n),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),r=this.layerConfig,(n&this.CHANGE_FULL||n&this.CHANGE_SIZE||n&this.CHANGE_TEXT||n&this.CHANGE_LINES||n&this.CHANGE_SCROLL||n&this.CHANGE_H_SCROLL)&&(n|=this.$computeLayerConfig()|this.$loop.clear(),r.firstRow!=this.layerConfig.firstRow&&r.firstRowScreen==this.layerConfig.firstRowScreen&&(u=this.scrollTop+(r.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight,u>0&&(this.scrollTop=u,n=n|this.CHANGE_SCROLL|this.$computeLayerConfig()|this.$loop.clear())),r=this.layerConfig,this.$updateScrollBarV(),n&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-r.offset),f=r.width+2*this.$padding+"px",e=r.minHeight+"px",i.setStyle(this.content.style,"width",f),i.setStyle(this.content.style,"height",e)),n&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-r.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),n&this.CHANGE_FULL){this.$changedLines=null;this.$textLayer.update(r);this.$showGutter&&this.$gutterLayer.update(r);this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r);this.$markerBack.update(r);this.$markerFront.update(r);this.$cursorLayer.update(r);this.$moveTextAreaToCursor();this._signal("afterRender",n);return}if(n&this.CHANGE_SCROLL){this.$changedLines=null;n&this.CHANGE_TEXT||n&this.CHANGE_LINES?this.$textLayer.update(r):this.$textLayer.scrollLines(r);this.$showGutter&&(n&this.CHANGE_GUTTER||n&this.CHANGE_LINES?this.$gutterLayer.update(r):this.$gutterLayer.scrollLines(r));this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r);this.$markerBack.update(r);this.$markerFront.update(r);this.$cursorLayer.update(r);this.$moveTextAreaToCursor();this._signal("afterRender",n);return}n&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):n&this.CHANGE_LINES?((this.$updateLines()||n&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):n&this.CHANGE_TEXT||n&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):n&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r));n&this.CHANGE_CURSOR&&(this.$cursorLayer.update(r),this.$moveTextAreaToCursor());n&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(r);n&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(r);this._signal("afterRender",n)},n.prototype.$autosize=function(){var i=this.session.getScreenLength()*this.lineHeight,r=this.$maxLines*this.lineHeight,n=Math.min(r,Math.max((this.$minLines||1)*this.lineHeight,i))+this.scrollMargin.v+(this.$extraHeight||0),u,t,f;this.$horizScroll&&(n+=this.scrollBarH.getHeight());this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);u=n<=2*this.lineHeight;t=!u&&i>r;(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||t!=this.$vScroll)&&(t!=this.$vScroll&&(this.$vScroll=t,this.scrollBarV.setVisible(t)),f=this.container.clientWidth,this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,f,n),this.desiredHeight=n,this._signal("autosize"))},n.prototype.$computeLayerConfig=function(){var i=this.session,n=this.$size,k=n.height<=2*this.lineHeight,nt=this.session.getScreenLength(),e=nt*this.lineHeight,r=this.$getLongestLine(),v=!k&&(this.$hScrollBarAlwaysVisible||n.scrollerWidth-r-2*this.$padding<0),y=this.$horizScroll!==v,d,o,p,u,s,h,b,a;y&&(this.$horizScroll=v,this.scrollBarH.setVisible(v));d=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();o=n.scrollerHeight+this.lineHeight;p=!this.$maxLines&&this.$scrollPastEnd?(n.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=p;u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,e-n.scrollerHeight+u.bottom)));this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-n.scrollerWidth+u.right)));s=!k&&(this.$vScrollBarAlwaysVisible||n.scrollerHeight-e+p<0||this.scrollTop>u.top);h=d!==s;h&&(this.$vScroll=s,this.scrollBarV.setVisible(s));var c=this.scrollTop%this.lineHeight,tt=Math.ceil(o/this.lineHeight)-1,t=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),l=t+tt,w,g,f=this.lineHeight;return t=i.screenToDocumentRow(t,0),b=i.getFoldLine(t),b&&(t=b.start.row),w=i.documentToScreenRow(t,0),g=i.getRowLength(t)*f,l=Math.min(i.screenToDocumentRow(l,0),i.getLength()-1),o=n.scrollerHeight+i.getRowLength(l)*f+g,c=this.scrollTop-w*f,a=0,(this.layerConfig.width!=r||y)&&(a=this.CHANGE_H_SCROLL),(y||h)&&(a|=this.$updateCachedSize(!0,this.gutterWidth,n.width,n.height),this._signal("scrollbarVisibilityChanged"),h&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:t,firstRowScreen:w,lastRow:l,lineHeight:f,characterWidth:this.characterWidth,minHeight:o,maxHeight:e,offset:c,gutterOffset:f?Math.max(0,Math.ceil((c+n.height-n.scrollerHeight)/f)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),a},n.prototype.$updateLines=function(){var i,t,n;if(this.$changedLines&&(i=this.$changedLines.firstRow,t=this.$changedLines.lastRow,this.$changedLines=null,n=this.layerConfig,!(i>n.lastRow+1))&&!(t<n.firstRow)){if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n);this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,i,t),!0}},n.prototype.$getLongestLine=function(){var n=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(n+=1),this.$textLayer&&n>this.$textLayer.MAX_LINE_LENGTH&&(n=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(n*this.characterWidth))},n.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)},n.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)},n.prototype.addGutterDecoration=function(n,t){this.$gutterLayer.addGutterDecoration(n,t)},n.prototype.removeGutterDecoration=function(n,t){this.$gutterLayer.removeGutterDecoration(n,t)},n.prototype.updateBreakpoints=function(n){this._rows=n;this.$loop.schedule(this.CHANGE_GUTTER)},n.prototype.setAnnotations=function(n){this.$gutterLayer.setAnnotations(n);this.$loop.schedule(this.CHANGE_GUTTER)},n.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},n.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},n.prototype.showCursor=function(){this.$cursorLayer.showCursor()},n.prototype.scrollSelectionIntoView=function(n,t,i){this.scrollCursorIntoView(n,i);this.scrollCursorIntoView(t,i)},n.prototype.scrollCursorIntoView=function(n,t,i){var f,e,o;if(this.$size.scrollerHeight!==0){var h=this.$cursorLayer.getPixelPosition(n),u=h.left,r=h.top,c=i&&i.top||0,s=i&&i.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);f=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;f+c>r?(t&&f+c>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),r===0&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):f+this.$size.scrollerHeight-s<r+this.lineHeight&&(t&&f+this.$size.scrollerHeight-s<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+s-this.$size.scrollerHeight));e=this.scrollLeft;o=2*this.layerConfig.characterWidth;u-o<e?(u-=o,u<this.$padding+o&&(u=-this.scrollMargin.left),this.session.setScrollLeft(u)):(u+=o,e+this.$size.scrollerWidth<u+this.characterWidth?this.session.setScrollLeft(Math.round(u+this.characterWidth-this.$size.scrollerWidth)):e<=this.$padding&&u-e<this.characterWidth&&this.session.setScrollLeft(0))}},n.prototype.getScrollTop=function(){return this.session.getScrollTop()},n.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},n.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},n.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},n.prototype.scrollToRow=function(n){this.session.setScrollTop(n*this.lineHeight)},n.prototype.alignCursor=function(n,t){typeof n=="number"&&(n={row:n,column:0});var r=this.$cursorLayer.getPixelPosition(n),u=this.$size.scrollerHeight-this.lineHeight,i=r.top-u*(t||0);return this.session.setScrollTop(i),i},n.prototype.$calcSteps=function(n,t){for(var i=0,u=this.STEPS,r=[],f=function(n,t,i){return i*(Math.pow(n-1,3)+1)+t},i=0;i<u;++i)r.push(f(i/this.STEPS,n,t-n));return r},n.prototype.scrollToLine=function(n,t,i,r){var e=this.$cursorLayer.getPixelPosition({row:n,column:0}),u=e.top,f;t&&(u-=this.$size.scrollerHeight/2);f=this.scrollTop;this.session.setScrollTop(u);i!==!1&&this.animateScrolling(f,r)},n.prototype.animateScrolling=function(n,t){function e(){i.$timer=clearInterval(i.$timer);i.$scrollAnimation=null;i.$stopAnimation=!1;t&&t()}var r=this.scrollTop,i,f,u;this.$animatedScroll&&(i=this,n!=r)&&(this.$scrollAnimation&&(f=this.$scrollAnimation.steps,f.length&&(n=f[0],n==r))||(u=i.$calcSteps(n,r),this.$scrollAnimation={from:n,to:r,steps:u},clearInterval(this.$timer),i.session.setScrollTop(u.shift()),i.session.$scrollTop=r,this.$timer=setInterval(function(){if(i.$stopAnimation){e();return}if(!i.session)return clearInterval(i.$timer);u.length?(i.session.setScrollTop(u.shift()),i.session.$scrollTop=r):r!=null?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):e()},10)))},n.prototype.scrollToY=function(n){this.scrollTop!==n&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=n)},n.prototype.scrollToX=function(n){this.scrollLeft!==n&&(this.scrollLeft=n);this.$loop.schedule(this.CHANGE_H_SCROLL)},n.prototype.scrollTo=function(n,t){this.session.setScrollTop(t);this.session.setScrollLeft(n)},n.prototype.scrollBy=function(n,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t);n&&this.session.setScrollLeft(this.session.getScrollLeft()+n)},n.prototype.isScrollableBy=function(n,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:n<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:n>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},n.prototype.pixelToScreenCoordinates=function(n,t){var i,r;this.$hasCssTransforms?(i={top:0,left:0},r=this.$fontMetrics.transformCoordinates([n,t]),n=r[1]-this.gutterWidth-this.margin.left,t=r[0]):i=this.scroller.getBoundingClientRect();var f=n+this.scrollLeft-i.left-this.$padding,u=f/this.characterWidth,o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),e=this.$blockCursor?Math.floor(u):Math.round(u);return{row:o,column:e,side:u-e>0?1:-1,offsetX:f}},n.prototype.screenToTextCoordinates=function(n,t){var i,r;this.$hasCssTransforms?(i={top:0,left:0},r=this.$fontMetrics.transformCoordinates([n,t]),n=r[1]-this.gutterWidth-this.margin.left,t=r[0]):i=this.scroller.getBoundingClientRect();var u=n+this.scrollLeft-i.left-this.$padding,f=u/this.characterWidth,e=this.$blockCursor?Math.floor(f):Math.round(f),o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(o,Math.max(e,0),u)},n.prototype.textToScreenCoordinates=function(n,t){var r=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(n,t),u=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),f=i.row*this.lineHeight;return{pageX:r.left+u-this.scrollLeft,pageY:r.top+f-this.scrollTop}},n.prototype.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},n.prototype.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},n.prototype.showComposition=function(n){this.$composition=n;n.cssText||(n.cssText=this.textarea.style.cssText);n.useTextareaForIME==undefined&&(n.useTextareaForIME=this.$useTextareaForIME);this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):n.markerId=this.session.addMarker(n.markerRange,"ace_composition_marker","text")},n.prototype.setCompositionText=function(n){var t=this.session.selection.cursor;this.addToken(n,"composition_placeholder",t.row,t.column);this.$moveTextAreaToCursor()},n.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId);i.removeCssClass(this.textarea,"ace_composition");this.textarea.style.cssText=this.$composition.cssText;var n=this.session.selection.cursor;this.removeExtraToken(n.row,n.column);this.$composition=null;this.$cursorLayer.element.style.display=""}},n.prototype.setGhostText=function(n,t){var e=this.session.selection.cursor,r=t||{row:e.row,column:e.column},u,f,o,s;if(this.removeGhostText(),u=this.$calculateWrappedTextChunks(n,r),this.addToken(u[0].text,"ghost_text",r.row,r.column),this.$ghostText={text:n,position:{row:r.row,column:r.column}},f=i.createElement("div"),u.length>1){o=this.hideTokensAfterPosition(r.row,r.column);u.slice(1).forEach(function(n){var t=i.createElement("div"),r=i.createElement("span");r.className="ace_ghost_text";n.wrapped&&(t.className="ghost_text_line_wrapped");n.text.length===0&&(n.text=" ");r.appendChild(i.createTextNode(n.text));t.appendChild(r);f.appendChild(t);s=t});o.forEach(function(n){var t=i.createElement("span");nt(n.type)||(t.className="ace_"+n.type.replace(/\./g," ace_"));t.appendChild(i.createTextNode(n.value));s.appendChild(t)});this.$ghostTextWidget={el:f,row:r.row,column:r.column,className:"ace_ghost_text_container"};this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var l=this.$cursorLayer.getPixelPosition(r,!0),a=this.container,h=a.getBoundingClientRect().height,c=u.length*this.lineHeight,v=c<h-l.top;if(v)return;c<h?this.scrollBy(0,(u.length-1)*this.lineHeight):this.scrollToRow(r.row)}},n.prototype.$calculateWrappedTextChunks=function(n,t){var l=this.$size.scrollerWidth-this.$padding*2,e=Math.floor(l/this.characterWidth)-2,r,o,i,h,u,s,f,c;for(e=e<=0?60:e,r=n.split(/\r?\n/),o=[],i=0;i<r.length;i++)if(h=this.session.$getDisplayTokens(r[i],t.column),u=this.session.$computeWrapSplits(h,e,this.session.$tabSize),u.length>0)for(s=0,u.push(r[i].length),f=0;f<u.length;f++)c=r[i].slice(s,u[f]),o.push({text:c,wrapped:!0}),s=u[f];else o.push({text:r[i],wrapped:!1});return o},n.prototype.removeGhostText=function(){if(this.$ghostText){var n=this.$ghostText.position;this.removeExtraToken(n.row,n.column);this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null);this.$ghostText=null}},n.prototype.addToken=function(n,t,i,r){var h=this.session,s,f,o,e,u;if(h.bgTokenizer.lines[i]=null,s={type:t,value:n},f=h.getTokens(i),r!=null&&f.length){for(o=0,e=0;e<f.length;e++)if(u=f[e],o+=u.value.length,r<=o){var c=u.value.length-(o-r),l=u.value.slice(0,c),a=u.value.slice(c);f.splice(e,1,{type:u.type,value:l},s,{type:u.type,value:a});break}}else f.push(s);this.updateLines(i,i)},n.prototype.hideTokensAfterPosition=function(n,t){for(var i,u=this.session.getTokens(n),f=0,e=!1,o=[],r=0;r<u.length;r++)if(i=u[r],f+=i.value.length,i.type!=="ghost_text"){if(e){o.push({type:i.type,value:i.value});i.type="hidden_token";continue}f===t&&(e=!0)}return this.updateLines(n,n),o},n.prototype.removeExtraToken=function(n){this.session.bgTokenizer.lines[n]=null;this.updateLines(n,n)},n.prototype.setTheme=function(n,t){function o(u){if(r.$themeId!=n)return t&&t();if(!u||!u.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");u.$id&&(r.$themeId=u.$id);i.importCssString(u.cssText,u.cssClass,r.container);r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var e="padding"in u?u.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&e!=r.$padding&&r.setPadding(e);r.$theme=u.cssClass;r.theme=u;i.addCssClass(r.container,u.cssClass);i.setCssClass(r.container,"ace_dark",u.isDark);r.$size&&(r.$size.width=0,r.$updateSizeAsync());r._dispatchEvent("themeLoaded",{theme:u});t&&t();f.isSafari&&r.scroller&&(r.scroller.style.background="red",r.scroller.style.background="")}var r=this,e;this.$themeId=n;r._dispatchEvent("themeChange",{theme:n});n&&typeof n!="string"?o(n):(e=n||this.$options.theme.initialValue,u.loadModule(["theme",e],o))},n.prototype.getTheme=function(){return this.$themeId},n.prototype.setStyle=function(n,t){i.setCssClass(this.container,n,t!==!1)},n.prototype.unsetStyle=function(n){i.removeCssClass(this.container,n)},n.prototype.setCursorStyle=function(n){i.setStyle(this.scroller.style,"cursor",n)},n.prototype.setMouseCursor=function(n){i.setStyle(this.scroller.style,"cursor",n)},n.prototype.attachToShadowRoot=function(){i.importCssString(h,"ace_editor.css",this.container)},n.prototype.destroy=function(){this.freeze();this.$fontMetrics.destroy();this.$cursorLayer.destroy();this.removeAllListeners();this.container.textContent="";this.setOption("useResizeObserver",!1)},n.prototype.$updateCustomScrollbar=function(n){var t=this;this.$horizScroll=this.$vScroll=null;this.scrollBarV.element.remove();this.scrollBarH.element.remove();this.$scrollDecorator&&delete this.$scrollDecorator;n===!0?(this.scrollBarV=new w(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollTop(n.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollLeft(n.data-t.scrollMargin.left)}),this.$scrollDecorator=new g(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new s(this.container,this),this.scrollBarH=new o(this.container,this),this.scrollBarV.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollTop(n.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollLeft(n.data-t.scrollMargin.left)}))},n.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var n=this;this.$resizeTimer=l.delayedCall(function(){n.destroyed||n.onResize()},50);this.$resizeObserver=new window.ResizeObserver(function(t){var i=t[0].contentRect.width,r=t[0].contentRect.height;Math.abs(n.$size.width-i)>1||Math.abs(n.$size.height-r)>1?n.$resizeTimer.delay():n.$resizeTimer.cancel()});this.$resizeObserver.observe(this.container)}},n}();r.prototype.CHANGE_CURSOR=1;r.prototype.CHANGE_MARKER=2;r.prototype.CHANGE_GUTTER=4;r.prototype.CHANGE_SCROLL=8;r.prototype.CHANGE_LINES=16;r.prototype.CHANGE_TEXT=32;r.prototype.CHANGE_SIZE=64;r.prototype.CHANGE_MARKER_BACK=128;r.prototype.CHANGE_MARKER_FRONT=256;r.prototype.CHANGE_FULL=512;r.prototype.CHANGE_H_SCROLL=1024;r.prototype.$changes=0;r.prototype.$padding=null;r.prototype.$frozen=!1;r.prototype.STEPS=8;c.implement(r.prototype,d);u.defineOptions(r.prototype,"renderer",{useResizeObserver:{set:function(n){!n&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):n&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(n){this.$textLayer.setShowInvisibles(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(n){typeof n=="number"&&(this.$printMarginColumn=n);this.$showPrintMargin=!!n;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(n){this.$gutter.style.display=n?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(n){this.$gutterLayer.$useSvgGutterIcons=n},initialValue:!1},showFoldedAnnotations:{set:function(n){this.$gutterLayer.$showFoldedAnnotations=n},initialValue:!1},fadeFoldWidgets:{set:function(n){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",n)},initialValue:!1},showFoldWidgets:{set:function(n){this.$gutterLayer.setShowFoldWidgets(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(n){this.$textLayer.setDisplayIndentGuides(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(n){this.$textLayer.setHighlightIndentGuides(n)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(n){this.$gutterLayer.setHighlightGutterLine(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(n){typeof n=="number"&&(n=n+"px");this.container.style.fontSize=n;this.updateFontSize()},initialValue:12},fontFamily:{set:function(n){this.container.style.fontFamily=n;this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0);this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(n){(n=+n||0,this.$scrollPastEnd!=n)&&(this.$scrollPastEnd=n,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(n){this.$gutterLayer.$fixedWidth=!!n;this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(n){this.$updateCustomScrollbar(n)},initialValue:!1},theme:{set:function(n){this.setTheme(n)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!f.isMobile&&!f.isIE}});t.VirtualRenderer=r});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,t){"use strict";function h(n){var i="importScripts('"+u.qualifyURL(n)+"');",r,t;try{return new Blob([i],{type:"application/javascript"})}catch(f){return r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new r,t.append(i),t.getBlob("application/javascript")}}function e(n){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(i.get("loadWorkerFromBlob")){var t=h(n),r=window.URL||window.webkitURL,u=r.createObjectURL(t);return new Worker(u)}return new Worker(n)}var s=n("../lib/oop"),u=n("../lib/net"),f=n("../lib/event_emitter").EventEmitter,i=n("../config"),r=function(n){n.postMessage||(n=this.$createWorkerFromOldConfig.apply(this,arguments));this.$worker=n;this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage},o;(function(){s.implement(this,f);this.$createWorkerFromOldConfig=function(t,r,u,f,o){var s,h;return n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),i.get("packaged")||!n.toUrl?f=f||i.moduleUrl(r,"worker"):(s=this.$normalizePath,f=f||s(n.toUrl("ace/worker/worker.js",null,"_")),h={},t.forEach(function(t){h[t]=s(n.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=e(f),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:h,module:r,classname:u}),this.$worker};this.onMessage=function(n){var t=n.data,i;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}};this.reportError=function(n){window.console&&console.error&&console.error(n)};this.$normalizePath=function(n){return u.qualifyURL(n)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker.onerror=function(n){n.preventDefault()};this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(n,t){this.$worker.postMessage({command:n,args:t})};this.call=function(n,t,i){if(i){var r=this.callbackId++;this.callbacks[r]=i;t.push(r)}this.send(n,t)};this.emit=function(n,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code});this.$worker&&this.$worker.postMessage({event:n,data:{data:t.data}})}catch(i){console.error(i.stack)}};this.attachToDocument=function(n){this.$doc&&this.terminate();this.$doc=n;this.call("setValue",[n.getValue()]);n.on("change",this.changeListener,!0)};this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)};this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(r.prototype);o=function(n,t,u){var o=null,l=!1,e=Object.create(f),s=[],c=new r({messageBuffer:s,terminate:function(){},postMessage:function(n){(s.push(n),o)&&(l?setTimeout(h):h())}}),h;return c.setEmitSync=function(n){l=n},h=function(){var n=s.shift();n.command?o[n.command].apply(o,n.args):n.event&&e._signal(n.event,n.data)},e.postMessage=function(n){c.onMessage({data:n})},e.callback=function(n,t){this.postMessage({type:"call",id:t,data:n})},e.emit=function(n,t){this.postMessage({type:"event",name:n,data:t})},i.loadModule(["worker",t],function(n){for(o=new n[u](e);s.length;)h()}),c};t.UIWorkerClient=o;t.WorkerClient=r;t.createWorker=e});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,t){"use strict";var i=n("./range").Range,u=n("./lib/event_emitter").EventEmitter,f=n("./lib/oop"),r=function(){function n(n,t,i,r,u,f){var o=this,e;this.length=t;this.session=n;this.doc=n.getDocument();this.mainClass=u;this.othersClass=f;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate,!0);this.$others=r;this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})};this.$pos=i;e=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=e.length;this.setup();n.selection.on("changeCursor",this.$onCursorChange)}return n.prototype.setup=function(){var u=this,r=this.doc,t=this.session,n;this.selectionBefore=t.selection.toJSON();t.selection.inMultiSelectMode&&t.selection.toSingleRange();this.pos=r.createAnchor(this.$pos.row,this.$pos.column);n=this.pos;n.$insertRight=!0;n.detach();n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(n){var t=r.createAnchor(n.row,n.column);t.$insertRight=!0;t.detach();u.others.push(t)});t.setUndoSelect(!1)},n.prototype.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0;this.others.forEach(function(r){r.markerId=t.addMarker(new i(r.row,r.column,r.row,r.column+n.length),n.othersClass,null,!1)})}},n.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}},n.prototype.onUpdate=function(n){var t,r,f,u;if(this.$updating)return this.updateAnchors(n);if((t=n,t.start.row===t.end.row)&&t.start.row===this.pos.row){this.$updating=!0;var e=n.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(n),o&&(this.length+=e),o&&!this.session.$fromUndo)if(n.action==="insert")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.insertMergedLines(u,n.lines);else if(n.action==="remove")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.remove(new i(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}},n.prototype.updateAnchors=function(n){this.pos.onChange(n);for(var t=this.others.length;t--;)this.others[t].onChange(n);this.updateMarkers()},n.prototype.updateMarkers=function(){var n;if(!this.$updating){var u=this,t=this.session,r=function(n,r){t.removeMarker(n.markerId);n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+u.length),r,null,!1)};for(r(this.pos,this.mainClass),n=this.others.length;n--;)r(this.others[n],this.othersClass)}},n.prototype.onCursorChange=function(n){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}},n.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.off("change",this.$onUpdate);this.session.selection.off("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null},n.prototype.cancel=function(){var n,i,t;if(this.$undoStackDepth!==-1){for(n=this.session.getUndoManager(),i=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,t=0;t<i;t++)n.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},n}();f.implement(r.prototype,u);t.PlaceHolder=r});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){function i(n,t){return n.row==t.row&&n.column==t.column}function f(n){var c=n.domEvent,h=c.altKey,l=c.shiftKey,k=c.ctrlKey,a=n.getAccelKey(),p=n.getButton(),o,b,y,e,it,ut,ft,et;if(k&&r.isMac&&(p=c.button),n.editor.inMultiSelectMode&&p==2){n.editor.textInput.onContextMenu(n.domEvent);return}if(!k&&!h&&!a){p===0&&n.editor.inMultiSelectMode&&n.editor.exitMultiSelectMode();return}if(p===0){var t=n.editor,f=t.selection,v=t.inMultiSelectMode,d=n.getDocumentPosition(),ot=f.getCursor(),st=n.inSelection()||f.isEmpty()&&i(d,ot),g=n.x,nt=n.y,ht=function(n){g=n.clientX;nt=n.clientY},rt=t.session,tt=t.renderer.pixelToScreenCoordinates(g,nt),w=tt,s;if(t.$mouseHandler.$enableJumpToDef)k&&h||a&&h?s=l?"block":"add":h&&t.$blockSelectEnabled&&(s="block");else if(a&&!h){if(s="add",!v&&l)return}else h&&t.$blockSelectEnabled&&(s="block");if(s&&r.isMac&&c.ctrlKey&&t.$mouseHandler.cancelContextMenu(),s=="add"){if(!v&&st)return;v||(o=f.toOrientedRange(),t.addSelectionMarker(o));b=f.rangeList.rangeAtPoint(d);t.inVirtualSelectionMode=!0;l&&(b=null,o=f.ranges[0]||o,t.removeSelectionMarker(o));t.once("mouseup",function(){var n=f.toOrientedRange();b&&n.isEmpty()&&i(b.cursor,n.cursor)?f.substractPoint(n.cursor):(l?f.substractPoint(o.cursor):o&&(t.removeSelectionMarker(o),f.addRange(o)),f.addRange(n));t.inVirtualSelectionMode=!1})}else if(s=="block")return n.stop(),t.inVirtualSelectionMode=!0,e=[],it=function(){var n=t.renderer.pixelToScreenCoordinates(g,nt),r=rt.screenToDocumentPosition(n.row,n.column,n.offsetX);i(w,n)&&i(r,f.lead)||(w=n,t.selection.moveToPosition(r),t.renderer.scrollCursorIntoView(),t.removeSelectionMarkers(e),e=f.rectangularRangeBlock(w,tt),t.$mouseHandler.$clickSelection&&e.length==1&&e[0].isEmpty()&&(e[0]=t.$mouseHandler.$clickSelection.clone()),e.forEach(t.addSelectionMarker,t),t.updateSelectionMarkers())},v&&!a?f.toSingleRange():!v&&a&&(y=f.toOrientedRange(),t.addSelectionMarker(y)),l?tt=rt.documentToScreenPosition(f.lead):f.moveToPosition(d),w={row:-1,column:-1},ut=function(){it();clearInterval(et);t.removeSelectionMarkers(e);e.length||(e=[f.toOrientedRange()]);y&&(t.removeSelectionMarker(y),f.toSingleRange(y));for(var n=0;n<e.length;n++)f.addRange(e[n]);t.inVirtualSelectionMode=!1;t.$mouseHandler.$clickSelection=null},ft=it,u.capture(t.container,ht,ut),et=setInterval(function(){ft()},20),n.preventDefault()}}var u=n("../lib/event"),r=n("../lib/useragent");t.onMouseDown=f});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,t){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(n){n.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(n){n.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(n){n.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(n){n.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(n){n.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(n){n.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(n){n.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(n){n.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(n){n.multiSelect.rangeCount>1?n.multiSelect.joinSelections():n.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(n){n.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(n){n.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(n){n.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(n){n.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(n){return n&&n.inMultiSelectMode}}];var i=n("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,t){function y(n,t,i){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=i==-1,u.find(n)}function p(n,t){return n.row==t.row&&n.column==t.column}function a(n){if(!n.$multiselectOnSessionChange){n.$onAddRange=n.$onAddRange.bind(n);n.$onRemoveRange=n.$onRemoveRange.bind(n);n.$onMultiSelect=n.$onMultiSelect.bind(n);n.$onSingleSelect=n.$onSingleSelect.bind(n);n.$multiselectOnSessionChange=t.onSessionChange.bind(n);n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n);n.$multiselectOnSessionChange(n);n.on("changeSession",n.$multiselectOnSessionChange);n.on("mousedown",f);n.commands.addCommands(r.defaultCommands);w(n)}}function w(n){function r(){t&&(n.renderer.setMouseCursor(""),t=!1)}if(n.textInput){var i=n.textInput.getElement(),t=!1;e.addListener(i,"keydown",function(i){var u=i.keyCode==18&&!(i.ctrlKey||i.shiftKey||i.metaKey);n.$blockSelectEnabled&&u?t||(n.renderer.setMouseCursor("crosshair"),t=!0):t&&r()},n);e.addListener(i,"keyup",r,n);e.addListener(i,"blur",r,n)}}var v=n("./range_list").RangeList,i=n("./range").Range,s=n("./selection").Selection,f=n("./mouse/multi_select_handler").onMouseDown,e=n("./lib/event"),h=n("./lib/lang"),r=n("./commands/multi_select_commands"),c,u,l,o;t.commands=r.defaultCommands.concat(r.multiSelectCommands);c=n("./search").Search;u=new c;l=n("./edit_session").EditSession,function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}.call(l.prototype),function(){this.ranges=null;this.rangeList=null;this.addRange=function(n,t){var i,r;if(n){if(!this.inMultiSelectMode&&this.rangeCount===0){if(i=this.toOrientedRange(),this.rangeList.add(i),this.rangeList.add(n),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(i);this.$onAddRange(i)}return n.cursor||(n.cursor=n.end),r=this.rangeList.add(n),this.$onAddRange(n),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){var t=this.rangeList.substractPoint(n);if(t)return this.$onRemoveRange(t),t[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length&&this.$onRemoveRange(n)};this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){var t,i,r;for(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),n.push(t),this.rangeCount=0),i=n.length;i--;)r=this.ranges.indexOf(n[i]),this.ranges.splice(r,1);this._signal("removeRange",{ranges:n});this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));t=t||this.ranges[0];t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new v,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],n=[],t=0;t<e.length;t++){var u=e[t],r=u.start.row,f=u.end.row;if(r===f)n.push(u.clone());else{for(n.push(new i(r,u.start.column,r,this.session.getLine(r).length));++r<f;)n.push(this.getLineRange(r,!0));n.push(new i(f,0,f,u.end.column))}t!=0||this.isBackwards()||(n=n.reverse())}for(this.toSingleRange(),t=n.length;t--;)this.addRange(n[t])};this.joinSelections=function(){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)};this.toggleBlockSelection=function(){if(this.rangeCount>1){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)}else{var u=this.session.documentToScreenPosition(this.cursor),f=this.session.documentToScreenPosition(this.anchor),e=this.rectangularRangeBlock(u,f);e.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(n,t,r){var u=[],w=n.column<t.column,v,e,c,y,s,f,o,l,h;if(w)var a=n.column,b=t.column,k=n.offsetX,d=t.offsetX;else var a=t.column,b=n.column,k=t.offsetX,d=n.offsetX;for(v=n.row<t.row,v?(e=n.row,c=t.row):(e=t.row,c=n.row),a<0&&(a=0),e<0&&(e=0),e==c&&(r=!0),s=e;s<=c;s++){if(f=i.fromPoints(this.session.screenToDocumentPosition(s,a,k),this.session.screenToDocumentPosition(s,b,d)),f.isEmpty()){if(y&&p(f.end,y))break;y=f.end}f.cursor=w?f.start:f.end;u.push(f)}if(v&&u.reverse(),!r){for(o=u.length-1;u[o].isEmpty()&&o>0;)o--;if(o>0)for(l=0;u[l].isEmpty();)l++;for(h=o;h>=l;h--)u[h].isEmpty()&&u.splice(h,1)}return u}}.call(s.prototype);o=n("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var t=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",t),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){if(n.marker){this.session.removeMarker(n.marker);var t=this.session.$selectionMarkers.indexOf(n);t!=-1&&this.session.$selectionMarkers.splice(t,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length}};this.removeSelectionMarkers=function(n){for(var t,r,i=this.session.$selectionMarkers,u=n.length;u--;)(t=n[u],t.marker)&&(this.session.removeMarker(t.marker),r=i.indexOf(t),r!=-1&&i.splice(r,1));this.session.selectionMarkerCount=i.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var i=n.command,t=n.editor,r;if(t.multiSelect)return i.multiSelectAction?i.multiSelectAction=="forEach"?r=t.forEachSelection(i,n.args):i.multiSelectAction=="forEachLine"?r=t.forEachSelection(i,n.args,!0):i.multiSelectAction=="single"?(t.exitMultiSelectMode(),r=i.exec(t,n.args||{})):r=i.multiSelectAction(t,n.args||{}):(r=i.exec(t,n.args||{}),t.multiSelect.addRange(t.multiSelect.toOrientedRange()),t.multiSelect.mergeOverlappingRanges()),r};this.forEachSelection=function(n,t,i){var a,e,u,l,o;if(!this.inVirtualSelectionMode){var v=i&&i.keepOrder,y=i==!0||i&&i.$byLines,h=this.session,r=this.selection,p=r.rangeList,f=(v?r:p).ranges,c;if(!f.length)return n.exec?n.exec(this,t||{}):n(this,t||{});for(a=r._eventRegistry,r._eventRegistry={},e=new s(h),this.inVirtualSelectionMode=!0,u=f.length;u--;){if(y)while(u>0&&f[u].start.row==f[u-1].end.row)u--;e.fromOrientedRange(f[u]);e.index=u;this.selection=h.selection=e;l=n.exec?n.exec(this,t||{}):n(this,t||{});c||l===undefined||(c=l);e.toOrientedRange(f[u])}return e.detach(),this.selection=h.selection=r,this.inVirtualSelectionMode=!1,r._eventRegistry=a,r.mergeOverlappingRanges(),r.ranges[0]&&r.fromOrientedRange(r.ranges[0]),o=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),o&&o.from==o.to&&this.renderer.animateScrolling(o.from),c}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="",r,t,i,u;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(r=this.multiSelect.rangeList.ranges,t=[],i=0;i<r.length;i++)t.push(this.session.getTextRange(r[i]));u=this.session.getDocument().getNewLineCharacter();n=t.join(u);n.length==(t.length-1)*u.length&&(n="")}else this.selection.isEmpty()||(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,t){var i,r;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){if(i=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;r=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}};this.findAll=function(n,t,i){var u,r,f,e;if(t=t||{},t.needle=n||t.needle,t.needle==undefined&&(u=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(u)),this.$search.set(t),r=this.$search.findAll(this.session),!r.length)return 0;for(f=this.multiSelect,i||f.toSingleRange(r[0]),e=r.length;e--;)f.addRange(r[e],!0);return u&&f.rangeList.rangeAtPoint(u.start)&&f.addRange(u,!0),r.length};this.selectMoreLines=function(n,t){var r=this.selection.toOrientedRange(),c=r.cursor==r.end,f=this.session.documentToScreenPosition(r.cursor),e,s,o,u,h;this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);e=this.session.screenToDocumentPosition(f.row+n,f.column);r.isEmpty()?o=e:(s=this.session.documentToScreenPosition(c?r.end:r.start),o=this.session.screenToDocumentPosition(s.row+n,s.column));c?(u=i.fromPoints(e,o),u.cursor=u.start):(u=i.fromPoints(o,e),u.cursor=u.end);u.desiredColumn=f.column;this.selection.inMultiSelectMode?t&&(h=r.cursor):this.selection.addRange(r);this.selection.addRange(u);h&&this.selection.substractPoint(h)};this.transposeSelections=function(n){for(var f,r,t,s,e=this.session,o=e.multiSelect,u=o.ranges,i=u.length;i--;)t=u[i],t.isEmpty()&&(f=e.getWordRange(t.start.row,t.start.column),t.start.row=f.start.row,t.start.column=f.start.column,t.end.row=f.end.row,t.end.column=f.end.column);for(o.mergeOverlappingRanges(),r=[],i=u.length;i--;)t=u[i],r.unshift(e.getTextRange(t));for(n<0?r.unshift(r.pop()):r.push(r.shift()),i=u.length;i--;)t=u[i],s=t.clone(),e.replace(t,r[i]),t.start.row=s.start.row,t.start.column=s.start.column;o.fromOrientedRange(o.ranges[0])};this.selectMore=function(n,t,i){var f=this.session,o=f.multiSelect,r=o.toOrientedRange(),e,u;r.isEmpty()&&(r=f.getWordRange(r.start.row,r.start.column),r.cursor=n==-1?r.start:r.end,this.multiSelect.addRange(r),i)||(e=f.getTextRange(r),u=y(f,e,n),u&&(u.cursor=n==-1?u.start:u.end,this.session.unfold(u),this.multiSelect.addRange(u),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor))};this.alignCursors=function(){var e=this.session,l=e.multiSelect,t=l.ranges,y=-1,p=t.filter(function(n){if(n.cursor.row==y)return!0;y=n.cursor.row}),o,s,u;if(t.length&&p.length!=t.length-1){p.forEach(function(n){l.substractPoint(n.cursor)});var c=0,v=Infinity,w=t.map(function(n){var i=n.cursor,r=e.getLine(i.row),t=r.substr(i.column).search(/\S/g);return t==-1&&(t=0),i.column>c&&(c=i.column),t<v&&(v=t),t});t.forEach(function(n,t){var r=n.cursor,u=c-r.column,f=w[t]-v;u>f?e.insert(r,h.stringRepeat(" ",u-f)):e.remove(new i(r.row,r.column,r.row,r.column-u+f));n.start.column=n.end.column=c;n.start.row=n.end.row=r.row;n.cursor=n.end});l.fromOrientedRange(t[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{var f=this.selection.getRange(),n=f.start.row,r=f.end.row,a=n==r;if(a){o=this.session.getLength();do s=this.session.getLine(r);while(/[=:]/.test(s)&&++r<o);do s=this.session.getLine(n);while(/[=:]/.test(s)&&--n>0);n<0&&(n=0);r>=o&&(r=o-1)}u=this.session.removeFullLines(n,r);u=this.$reAlignText(u,a);this.session.insert({row:n,column:0},u.join("\n")+"\n");a||(f.start.column=0,f.end.column=u[u.length-1].length);this.selection.setRange(f)}};this.$reAlignText=function(n,t){function f(n){return h.stringRepeat(" ",n)}function s(n){return n[2]?f(i)+n[2]+f(u-n[2].length+r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function c(n){return n[2]?f(i+u-n[2].length)+n[2]+f(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function l(n){return n[2]?f(i)+n[2]+f(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}var e=!0,o=!0,i,u,r;return n.map(function(n){var t=n.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?i==null?(i=t[1].length,u=t[2].length,r=t[3].length,t):(i+u+r!=t[1].length+t[2].length+t[3].length&&(o=!1),i!=t[1].length&&(e=!1),i>t[1].length&&(i=t[1].length),u<t[2].length&&(u=t[2].length),r>t[3].length&&(r=t[3].length),t):[n]}).map(t?s:e?o?c:s:l)}}.call(o.prototype);t.onSessionChange=function(n){var t=n.session,i;if(t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect,i=n.oldSession,i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t){t.multiSelect.on("addRange",this.$onAddRange);t.multiSelect.on("removeRange",this.$onRemoveRange);t.multiSelect.on("multiSelect",this.$onMultiSelect);t.multiSelect.on("singleSelect",this.$onSingleSelect);t.multiSelect.lead.on("change",this.$checkMultiselectChange);t.multiSelect.anchor.on("change",this.$checkMultiselectChange)}t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};t.MultiSelect=a;n("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(n){if(a(this),n)this.on("mousedown",f);else this.off("mousedown",f)},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(n,t,i){var r=n.getLine(i);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""};this.getFoldWidgetRange=function(){return null};this.indentationBlock=function(n,t,r){var o=/\S/,s=n.getLine(t),h=s.search(o),f,e,l;if(h!=-1){for(var a=r||s.length,v=n.getLength(),c=t,u=t;++t<v;)if(f=n.getLine(t).search(o),f!=-1){if(f<=h&&(e=n.getTokenAt(t,0),!e||e.type!=="string"))break;u=t}if(u>c)return l=n.getLine(u).length,new i(c,a,u,l)}};this.openingBracketBlock=function(n,t,r,u,f){var s={row:r,column:u+1},e=n.$findClosingBracket(t,s,f),o;if(e)return o=n.foldWidgets[e.row],o==null&&(o=n.getFoldWidget(e.row)),o=="start"&&e.row>s.row&&(e.row--,e.column=n.getLine(e.row).length),i.fromPoints(s,e)};this.closingBracketBlock=function(n,t,r,u){var f={row:r,column:u},e=n.$findOpeningBracket(t,f);if(e)return e.column++,f.column--,i.fromPoints(e,f)}}).call(r.prototype)});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(n,t){"use strict";function e(n,t,i){for(var u=0,f=n.length-1,r,e;u<=f;)if(r=u+f>>1,e=i(t,n[r]),e>0)u=r+1;else if(e<0)f=r-1;else return r;return-(u+1)}function o(n,t,i){var o=n.getAnnotations().sort(r.comparePoints),f,u,s;if(o.length&&(f=e(o,{row:t,column:-1},r.comparePoints),f<0&&(f=-f-1),f>=o.length?f=i>0?0:o.length-1:f===0&&i<0&&(f=o.length-1),u=o[f],u&&i)){if(u.row===t){do u=o[f+=i];while(u&&u.row===t);if(!u)return o.slice()}s=[];t=u.row;do s[i<0?"unshift":"push"](u),u=o[f+=i];while(u&&u.row==t);return s.length&&s}}var u=n("../line_widgets").LineWidgets,i=n("../lib/dom"),r=n("../range").Range,f=n("../config").nls;t.showErrorMarker=function(n,t){var s=n.session,y,h,c,b,p;s.widgetManager||(s.widgetManager=new u(s),s.widgetManager.attach(n));var e=n.getCursorPosition(),a=e.row,v=s.widgetManager.getWidgetsAtRow(a).filter(function(n){return n.type=="errorMarker"})[0];if(v?v.destroy():a-=t,y=o(s,a,t),y)c=y[0],e.column=(c.pos&&typeof c.column!="number"?c.pos.sc:c.column)||0,e.row=c.row,h=n.renderer.$gutterLayer.$annotations[e.row];else{if(v)return;h={displayText:[f("error-marker.good-state","Looks good!")],className:"ace_ok"}}n.session.unfold(e.row);n.selection.moveToPosition(e);var r={row:e.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},l=r.el.appendChild(i.createElement("div")),w=r.el.appendChild(i.createElement("div"));w.className="error_widget_arrow "+h.className;b=n.renderer.$cursorLayer.getPixelPosition(e).left;w.style.left=b+n.renderer.gutterWidth-5+"px";r.el.className="error_widget_wrapper";l.className="error_widget "+h.className;h.displayText.forEach(function(n,t){l.appendChild(i.createTextNode(n));t<h.displayText.length-1&&l.appendChild(i.createElement("br"))});l.appendChild(i.createElement("div"));p=function(n,t,i){if(t===0&&(i==="esc"||i==="return"))return r.destroy(),{command:"null"}};r.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(p),s.widgetManager.removeLineWidget(r),n.off("changeSelection",r.destroy),n.off("changeSession",r.destroy),n.off("mouseup",r.destroy),n.off("change",r.destroy))};n.keyBinding.addKeyboardHandler(p);n.on("changeSelection",r.destroy);n.on("changeSession",r.destroy);n.on("mouseup",r.destroy);n.on("change",r.destroy);n.session.widgetManager.addLineWidget(r);r.el.onmousedown=n.focus.bind(n);n.renderer.scrollCursorIntoView(null,.5,{bottom:r.el.offsetHeight})};i.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)});ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,t){"use strict";n("./loader_build")(t);var e=n("./lib/dom"),o=n("./range").Range,i=n("./editor").Editor,r=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,f=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client");n("./keyboard/hash_handler");n("./placeholder");n("./multi_select");n("./mode/folding/fold_mode");n("./theme/textmate");n("./ext/error_marker");t.config=n("./config");t.edit=function(n,r){var h,s,o;if(typeof n=="string"&&(h=n,n=document.getElementById(h),!n))throw new Error("ace.edit can't find div #"+h);if(n&&n.env&&n.env.editor instanceof i)return n.env.editor;s="";n&&/input|textarea/i.test(n.tagName)?(o=n,s=o.value,n=e.createElement("pre"),o.parentNode.replaceChild(n,o)):n&&(s=n.textContent,n.innerHTML="");var l=t.createEditSession(s),u=new i(new f(n),l,r),c={document:l,editor:u,onResize:u.resize.bind(u,null)};o&&(c.textarea=o);u.on("destroy",function(){c.editor.container.env=null});return u.container.env=u.env=c,u};t.createEditSession=function(n,t){var i=new r(n,t);return i.setUndoManager(new u),i};t.Range=o;t.Editor=i;t.EditSession=r;t.UndoManager=u;t.VirtualRenderer=f;t.version=t.config.version}),function(){ace.require(["ace/ace"],function(n){var t,i;n&&(n.config.init(!0),n.define=ace.define);t=function(){return this}();t||typeof window=="undefined"||(t=window);t||typeof self=="undefined"||(t=self);t.ace||(t.ace=n);for(i in n)n.hasOwnProperty(i)&&(t.ace[i]=n[i]);t.ace["default"]=t.ace;typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=t.ace)})}();ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,t){"use strict";function i(n){var t=(new Date).toLocaleString("en-us",n);return t.length==1?"0"+t:t}var v=n("./lib/dom"),y=n("./lib/oop"),p=n("./lib/event_emitter").EventEmitter,h=n("./lib/lang"),c=n("./range").Range,w=n("./range_list").RangeList,b=n("./keyboard/hash_handler").HashHandler,k=n("./tokenizer").Tokenizer,l=n("./clipboard"),u={CURRENT_WORD:function(n){return n.session.getTextRange(n.session.getWordRange())},SELECTION:function(n,t,i){var r=n.session.getTextRange();return i?r.replace(/\n\r?([ \t]*\S)/g,"\n"+i+"$1"):r},CURRENT_LINE:function(n){return n.session.getLine(n.getCursorPosition().row)},PREV_LINE:function(n){return n.session.getLine(n.getCursorPosition().row-1)},LINE_INDEX:function(n){return n.getCursorPosition().row},LINE_NUMBER:function(n){return n.getCursorPosition().row+1},SOFT_TABS:function(n){return n.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(n){return n.session.getTabSize()},CLIPBOARD:function(){return l.getText&&l.getText()},FILENAME:function(n){return/[^/\\]*$/.exec(this.FILEPATH(n))[0]},FILENAME_BASE:function(n){return/[^/\\]*$/.exec(this.FILEPATH(n))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(n){return this.FILEPATH(n).replace(/[^/\\]*$/,"")},FILEPATH:function(){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(n){var t=n.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(n){var t=n.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(n){var t=n.session.$mode||{};return t.lineCommentStart||""},CURRENT_YEAR:i.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:i.bind(null,{year:"2-digit"}),CURRENT_MONTH:i.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:i.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:i.bind(null,{month:"short"}),CURRENT_DATE:i.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:i.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:i.bind(null,{weekday:"short"}),CURRENT_HOUR:i.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:i.bind(null,{minute:"2-digit"}),CURRENT_SECOND:i.bind(null,{second:"2-digit"})},f,e,r,o,s,a;u.SELECTED_TEXT=u.SELECTION;f=function(){function n(){this.snippetMap={};this.snippetNameMap={};this.variables=u}return n.prototype.getTokenizer=function(){return n.$tokenizer||this.createTokenizer()},n.prototype.createTokenizer=function(){function t(n){return(n=n.substr(1),/^\d+$/.test(n))?[{tabstopId:parseInt(n,10)}]:[{text:n}]}function i(n){return"(?:[^\\\\"+n+"]|\\\\.)"}var r={regex:"/("+i("/")+"+)/",onMatch:function(n,t,i){var r=i[0];return r.fmtString=!0,r.guard=n.slice(1,-1),r.flag="",""},next:"formatString"};return n.$tokenizer=new k({start:[{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return r=="}"&&i.length?n=r:"`$\\".indexOf(r)!=-1&&(n=r),[n]}},{regex:/}/,onMatch:function(n,t,i){return[i.length?i.shift():n]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(n,i,r){var u=t(n.substr(1));return r.unshift(u[0]),u},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+i("\\|")+"*\\|",onMatch:function(n,t,i){var r=n.slice(1,-1).replace(/\\[,|\\]|,/g,function(n){return n.length==2?n[1]:"\x00"}).split("\x00").map(function(n){return{value:n}});return i[0].choices=r,[r[0]]},next:"start"},r,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(n,t,i){return i.length&&i[0].expectElse?(i[0].expectElse=!1,i[0].ifEnd={elseEnd:i[0]},[i[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return r=="}"&&i.length?n=r:"`$\\".indexOf(r)!=-1?n=r:r=="n"?n="\n":r=="t"?n="\t":"ulULE".indexOf(r)!=-1&&(n={changeCase:r,local:r>"a"}),[n]}},{regex:"/\\w*}",onMatch:function(n,t,i){var r=i.shift();return r&&(r.flag=n.slice(1,-1)),this.next=r&&r.tabstopId?"start":"",[r||n]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(n){return[{text:n.slice(1)}]}},{regex:/\${\w+/,onMatch:function(n,t,i){var r={text:n.slice(2)};return i.unshift(r),[r]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(n,t,i){var r=i.shift();return this.next=r&&r.tabstopId?"start":"",[r||n]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(n,t,i){var r=i[0];return r.formatFunction=n.slice(2,-1),[i.shift()]},next:"formatString"},r,{regex:/:[\?\-+]?/,onMatch:function(n,t,i){n[1]=="+"&&(i[0].ifEnd=i[0]);n[1]=="?"&&(i[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),n.$tokenizer},n.prototype.tokenizeTmSnippet=function(n,t){return this.getTokenizer().getLineTokens(n,t).tokens.map(function(n){return n.value||n})},n.prototype.getVariableValue=function(n,t,i){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return typeof r=="function"&&(r=this.variables[t](n,t,i)),r==null?"":r},n.prototype.tmStrFormat=function(n,t,i){var f,r;if(!t.fmt)return n;f=t.flag||"";r=t.guard;r=new RegExp(r,f.replace(/[^gim]/g,""));var e=typeof t.fmt=="string"?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,u=this;return n.replace(r,function(){var s=u.variables.__,n,o,t,r,f;for(u.variables.__=[].slice.call(arguments),n=u.resolveVariables(e,i),o="E",t=0;t<n.length;t++)r=n[t],typeof r=="object"?(n[t]="",r.changeCase&&r.local?(f=n[t+1],f&&typeof f=="string"&&(n[t]=r.changeCase=="u"?f[0].toUpperCase():f[0].toLowerCase(),n[t+1]=f.substr(1))):r.changeCase&&(o=r.changeCase)):o=="U"?n[t]=r.toUpperCase():o=="L"&&(n[t]=r.toLowerCase());return u.variables.__=s,n.join("")})},n.prototype.tmFormatFunction=function(n,t){return t.formatFunction=="upcase"?n.toUpperCase():t.formatFunction=="downcase"?n.toLowerCase():n},n.prototype.resolveVariables=function(n,t){function h(t){var i=n.indexOf(t,r+1);i!=-1&&(r=i)}for(var i,e,u,f=[],s="",o=!0,r=0;r<n.length;r++){if(i=n[r],typeof i=="string"){f.push(i);i=="\n"?(o=!0,s=""):o&&(s=/^\t*/.exec(i)[0],o=/\S/.test(i));continue}i&&(o=!1,i.fmtString&&(e=n.indexOf(i,r+1),e==-1&&(e=n.length),i.fmt=n.slice(r+1,e),r=e),i.text?(u=this.getVariableValue(t,i.text,s)+"",i.fmtString&&(u=this.tmStrFormat(u,i,t)),i.formatFunction&&(u=this.tmFormatFunction(u,i,t)),u&&!i.ifEnd?(f.push(u),h(i)):!u&&i.ifEnd&&h(i.ifEnd)):i.elseEnd?h(i.elseEnd):i.tabstopId!=null?f.push(i):i.changeCase!=null&&f.push(i))}return f},n.prototype.getDisplayTextForSnippet=function(n,t){var i=e.call(this,n,t);return i.text},n.prototype.insertSnippetForSelection=function(n,t,i){i===void 0&&(i={});var u=e.call(this,n,t,i),f=n.getSelectionRange(),o=n.session.replace(f,u.text),s=new r(n),h=n.inVirtualSelectionMode&&n.selection.index;s.addTabstops(u.tabstops,f.start,o,h)},n.prototype.insertSnippet=function(n,t,i){i===void 0&&(i={});var r=this;if(n.inVirtualSelectionMode)return r.insertSnippetForSelection(n,t,i);n.forEachSelection(function(){r.insertSnippetForSelection(n,t,i)},null,{keepOrder:!0});n.tabstopManager&&n.tabstopManager.tabNext()},n.prototype.$getScope=function(n){var t=n.session.$mode.$id||"",r,i;return t=t.split("/").pop(),(t==="html"||t==="php")&&(t!=="php"||n.session.$mode.inlinePhp||(t="html"),r=n.getCursorPosition(),i=n.session.getState(r.row),typeof i=="object"&&(i=i[0]),i.substring&&(i.substring(0,3)=="js-"?t="javascript":i.substring(0,4)=="css-"?t="css":i.substring(0,4)=="php-"&&(t="php"))),t},n.prototype.getActiveScopes=function(n){var t=this.$getScope(n),i=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&i.push.apply(i,r[t].includeScopes),i.push("_"),i},n.prototype.expandWithTab=function(n,t){var r=this,i=n.forEachSelection(function(){return r.expandSnippetForSelection(n,t)},null,{keepOrder:!0});return i&&n.tabstopManager&&n.tabstopManager.tabNext(),i},n.prototype.expandSnippetForSelection=function(n,t){var r=n.getCursorPosition(),u=n.session.getLine(r.row),f=u.substring(0,r.column),e=u.substr(r.column),o=this.snippetMap,i;return(this.getActiveScopes(n).some(function(n){var t=o[n];return t&&(i=this.findMatchingSnippet(t,f,e)),!!i},this),!i)?!1:t&&t.dryRun?!0:(n.session.doc.removeInLine(r.row,r.column-i.replaceBefore.length,r.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(n,i.content),this.variables.M__=this.variables.T__=null,!0)},n.prototype.findMatchingSnippet=function(n,t,i){for(var r,u=n.length;u--;)if((r=n[u],!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(i))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(i):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(i)[0]:"",r},n.prototype.register=function(n,t){function u(n){return n&&!/^\^?\(.*\)\$?$|^\\b$/.test(n)&&(n="(?:"+n+")"),n||""}function f(n,t,i){return n=u(n),t=u(t),i?(n=t+n,n&&n[n.length-1]!="$"&&(n=n+"$")):(n=n+t,n&&n[0]!="^"&&(n="^"+n)),new RegExp(n)}function e(n){var u,e;(n.scope||(n.scope=t||"_"),t=n.scope,i[t]||(i[t]=[],r[t]={}),u=r[t],n.name&&(e=u[n.name],e&&o.unregister(e),u[n.name]=n),i[t].push(n),n.prefix&&(n.tabTrigger=n.prefix),!n.content&&n.body&&(n.content=Array.isArray(n.body)?n.body.join("\n"):n.body),n.tabTrigger&&!n.trigger&&(!n.guard&&/^\w/.test(n.tabTrigger)&&(n.guard="\\b"),n.trigger=h.escapeRegExp(n.tabTrigger)),n.trigger||n.guard||n.endTrigger||n.endGuard)&&(n.startRe=f(n.trigger,n.guard,!0),n.triggerRe=new RegExp(n.trigger),n.endRe=f(n.endTrigger,n.endGuard,!0),n.endTriggerRe=new RegExp(n.endTrigger))}var i=this.snippetMap,r=this.snippetNameMap,o=this;n||(n=[]);Array.isArray(n)?n.forEach(e):Object.keys(n).forEach(function(t){e(n[t])});this._signal("registerSnippets",{scope:t})},n.prototype.unregister=function(n,t){function i(n){var f=u[n.scope||t],i,e;f&&f[n.name]&&(delete f[n.name],i=r[n.scope||t],e=i&&i.indexOf(n),e>=0&&i.splice(e,1))}var r=this.snippetMap,u=this.snippetNameMap;n.content?i(n):Array.isArray(n)&&n.forEach(i)},n.prototype.parseSnippetFile=function(n){var u,i,f;n=n.replace(/\r/g,"");for(var e=[],t={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,r;r=o.exec(n);){if(r[1])try{t=JSON.parse(r[1]);e.push(t)}catch(s){}r[4]?(t.content=r[4].replace(/^\t/gm,""),e.push(t),t={}):(u=r[2],i=r[3],u=="regex"?(f=/\/((?:[^\/\\]|\\.)*)|$/g,t.guard=f.exec(i)[1],t.trigger=f.exec(i)[1],t.endTrigger=f.exec(i)[1],t.endGuard=f.exec(i)[1]):u=="snippet"?(t.tabTrigger=i.match(/^\S*/)[0],t.name||(t.name=i)):u&&(t[u]=i))}return e},n.prototype.getSnippetByName=function(n,t){var r=this.snippetNameMap,i;return this.getActiveScopes(t).some(function(t){var u=r[t];return u&&(i=u[n]),!!i},this),i},n}();y.implement(f.prototype,p);e=function(n,t,i){function k(n){for(var t,u,r=[],i=0;i<n.length;i++){if(t=n[i],typeof t=="object"){if(f[t.tabstopId])continue;u=n.lastIndexOf(t,i-1);t=r[u]||{tabstopId:t.tabstopId}}r[i]=t}return r}var r,s,f,e,u,o;i===void 0&&(i={});var v=n.getCursorPosition(),w=n.session.getLine(v.row),b=n.session.getTabString(),c=w.match(/^\s*/)[0];for(v.column<c.length&&(c=c.slice(0,v.column)),t=t.replace(/\r/g,""),r=this.tokenizeTmSnippet(t),r=this.resolveVariables(r,n),r=r.map(function(n){return n=="\n"&&!i.excludeExtraIndent?n+c:typeof n=="string"?n.replace(/\t/g,b):n}),s=[],r.forEach(function(n,t){var f,i,e,u,o;typeof n=="object"&&(f=n.tabstopId,i=s[f],i||(i=s[f]=[],i.index=f,i.value="",i.parents={}),i.indexOf(n)===-1)&&(n.choices&&!i.choices&&(i.choices=n.choices),i.push(n),e=r.indexOf(n,t+1),e!==-1)&&(u=r.slice(t+1,e),o=u.some(function(n){return typeof n=="object"}),o&&!i.value?i.value=u:u.length&&(!i.value||typeof i.value!="string")&&(i.value=u.join("")))}),s.forEach(function(n){n.length=0}),f={},e=0;e<r.length;e++)if(u=r[e],typeof u=="object"){var h=u.tabstopId,l=s[h],d=r.indexOf(u,e+1);if(f[h]){f[h]===u&&(delete f[h],Object.keys(f).forEach(function(n){l.parents[n]=!0}));continue}f[h]=u;o=l.value;typeof o!="string"?o=k(o):u.fmt&&(o=this.tmStrFormat(o,u,n));r.splice.apply(r,[e+1,Math.max(0,d-e)].concat(o,u));l.indexOf(u)===-1&&l.push(u)}var y=0,a=0,p="";return r.forEach(function(n){if(typeof n=="string"){var t=n.split("\n");t.length>1?(a=t[t.length-1].length,y+=t.length-1):a+=n.length;p+=n}else n&&(n.start?n.end={row:y,column:a}:n.start={row:y,column:a})}),{text:p,tabstops:s,tokens:r}};r=function(){function n(n){if(this.index=0,this.ranges=[],this.tabstops=[],n.tabstopManager)return n.tabstopManager;n.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=h.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(n)}return n.prototype.attach=function(n){this.$openTabstops=null;this.selectedTabstop=null;this.editor=n;this.session=n.session;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},n.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges.length=0;this.tabstops.length=0;this.selectedTabstop=null;this.editor.off("change",this.$onChange);this.editor.off("changeSelection",this.$onChangeSelection);this.editor.off("changeSession",this.$onChangeSession);this.editor.commands.off("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.session=null;this.editor=null},n.prototype.onChange=function(n){for(var t,l,o,i,r,s,f,h,a=n.action[0]=="r",u=this.selectedTabstop||{},v=u.parents||{},c=this.tabstops.slice(),e=0;e<c.length;e++){if(t=c[e],l=t==u||v[t.index],t.rangeList.$bias=l?0:1,n.action=="remove"&&t!==u)for(o=t.parents&&t.parents[u.index],i=t.rangeList.pointIndex(n.start,o),i=i<0?-i-1:i+1,r=t.rangeList.pointIndex(n.end,o),r=r<0?-r-1:r-1,s=t.rangeList.ranges.slice(i,r),f=0;f<s.length;f++)this.removeRange(s[f]);t.rangeList.$onChange(n)}h=this.session;this.$inChange||!a||h.getLength()!=1||h.getValue()||this.detach()},n.prototype.updateLinkedFields=function(){var n=this.selectedTabstop,u,f,i,r,e,o;if(n&&n.hasLinkedRanges&&n.firstNonLinked){for(this.$inChange=!0,u=this.session,f=u.getTextRange(n.firstNonLinked),i=0;i<n.length;i++)(r=n[i],r.linked)&&(e=r.original,o=t.snippetManager.tmStrFormat(f,e,this.editor),u.replace(r,o));this.$inChange=!1}},n.prototype.onAfterExec=function(n){n.command&&!n.command.readOnly&&this.updateLinkedFields()},n.prototype.onChangeSelection=function(){var n,r,u;if(this.editor){var t=this.editor.selection.lead,i=this.editor.selection.anchor,f=this.editor.selection.isEmpty();for(n=0;n<this.ranges.length;n++)if(!this.ranges[n].linked&&(r=this.ranges[n].contains(t.row,t.column),u=f||this.ranges[n].contains(i.row,i.column),r&&u))return;this.detach()}},n.prototype.onChangeSession=function(){this.detach()},n.prototype.tabNext=function(n){var i=this.tabstops.length,t=this.index+(n||1);t=Math.min(Math.max(t,1),i);t==i&&(t=0);this.selectTabstop(t);this.updateTabstopMarkers();t===0&&this.detach()},n.prototype.selectTabstop=function(n){var t,i,u,r;if(this.$openTabstops=null,t=this.tabstops[this.index],t&&this.addTabstopMarkers(t),this.index=n,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,i=t.firstNonLinked||t,t.choices&&(i.cursor=i.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(i);else for(u=this.editor.multiSelect,u.toSingleRange(i),r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||u.addRange(t[r].clone(),!0);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},n.prototype.addTabstops=function(n,t,i){var f=this.useLink||!this.editor.getOption("enableMultiselect"),u;this.$openTabstops||(this.$openTabstops=[]);n[0]||(u=c.fromPoints(i,i),s(u.start,t),s(u.end,t),n[0]=[u],n[0].index=0);var e=this.index,r=[e+1,0],h=this.ranges,l=this.snippetId=(this.snippetId||0)+1;n.forEach(function(n,i){var u=this.$openTabstops[i]||n,a,s,e;for(u.snippetId=l,a=0;a<n.length;a++)s=n[a],e=c.fromPoints(s.start,s.end||s.start),o(e.start,t),o(e.end,t),e.original=s,e.tabstop=u,h.push(e),u!=n?u.unshift(e):u[a]=e,s.fmtString||u.firstNonLinked&&f?(e.linked=!0,u.hasLinkedRanges=!0):u.firstNonLinked||(u.firstNonLinked=e);u.firstNonLinked||(u.hasLinkedRanges=!1);u===n&&(r.push(u),this.$openTabstops[i]=u);this.addTabstopMarkers(u);u.rangeList=u.rangeList||new w;u.rangeList.$bias=0;u.rangeList.addList(u)},this);r.length>2&&(this.tabstops.length&&r.push(r.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,r))},n.prototype.addTabstopMarkers=function(n){var t=this.session;n.forEach(function(n){n.markerId||(n.markerId=t.addMarker(n,"ace_snippet-marker","text"))})},n.prototype.removeTabstopMarkers=function(n){var t=this.session;n.forEach(function(n){t.removeMarker(n.markerId);n.markerId=null})},n.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var n=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&n--;this.tabstops.forEach(function(t){t.snippetId===n?this.addTabstopMarkers(t):this.removeTabstopMarkers(t)},this)}},n.prototype.removeRange=function(n){var t=n.tabstop.indexOf(n);t!=-1&&n.tabstop.splice(t,1);t=this.ranges.indexOf(n);t!=-1&&this.ranges.splice(t,1);t=n.tabstop.rangeList.ranges.indexOf(n);t!=-1&&n.tabstop.splice(t,1);this.session.removeMarker(n.markerId);n.tabstop.length||(t=this.tabstops.indexOf(n.tabstop),t!=-1&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},n}();r.prototype.keyboardHandler=new b;r.prototype.keyboardHandler.bindKeys({Tab:function(n){t.snippetManager&&t.snippetManager.expandWithTab(n)||(n.tabstopManager.tabNext(1),n.renderer.scrollCursorIntoView())},"Shift-Tab":function(n){n.tabstopManager.tabNext(-1);n.renderer.scrollCursorIntoView()},Esc:function(n){n.tabstopManager.detach()}});o=function(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row};s=function(n,t){n.row==t.row&&(n.column-=t.column);n.row-=t.row};v.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1);t.snippetManager=new f;a=n("./editor").Editor,function(){this.insertSnippet=function(n,i){return t.snippetManager.insertSnippet(this,n,i)};this.expandSnippet=function(n){return t.snippetManager.expandWithTab(this,n)}}.call(a.prototype)});ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,t){"use strict";var h=n("../virtual_renderer").VirtualRenderer,c=n("../editor").Editor,f=n("../range").Range,l=n("../lib/event"),a=n("../lib/lang"),i=n("../lib/dom"),r=n("../config").nls,u=n("./../lib/useragent"),e=function(n){return"suggest-aria-id:".concat(n)},v=u.isSafari?"menu":"listbox",y=u.isSafari?"menuitem":"option",o=u.isSafari?"aria-current":"aria-selected",s=function(n){var i=new h(n),t;return i.$maxLines=4,t=new c(i),t.setHighlightActiveLine(!1),t.setShowPrintMargin(!1),t.renderer.setShowGutter(!1),t.renderer.setHighlightGutterLine(!1),t.$mouseHandler.$focusTimeout=0,t.$highlightTagPending=!0,t},p=function(){function n(n){var d=i.createElement("div"),t=s(d),p,h,u,c,w,b,k;n&&n.appendChild(d);d.style.display="none";t.renderer.content.style.cursor="default";t.renderer.setStyle("ace_autocomplete");t.renderer.$textLayer.element.setAttribute("role",v);t.renderer.$textLayer.element.setAttribute("aria-roledescription",r("autocomplete.popup.aria-roledescription","Autocomplete suggestions"));t.renderer.$textLayer.element.setAttribute("aria-label",r("autocomplete.popup.aria-label","Autocomplete suggestions"));t.renderer.textarea.setAttribute("aria-hidden","true");t.setOption("displayIndentGuides",!1);t.setOption("dragDelay",150);p=function(){};t.focus=p;t.$isFocused=!0;t.renderer.$cursorLayer.restartTimer=p;t.renderer.$cursorLayer.element.style.opacity="0";t.renderer.$maxLines=8;t.renderer.$keepTextAreaAtCursor=!1;t.setHighlightActiveLine(!1);t.session.highlight("");t.session.$searchHighlight.clazz="ace_highlight-marker";t.on("mousedown",function(n){var i=n.getDocumentPosition();t.selection.moveToPosition(i);c.start.row=c.end.row=i.row;n.stop()});u=new f(-1,0,-1,Infinity);c=new f(-1,0,-1,Infinity);c.id=t.session.addMarker(c,"ace_active-line","fullLine");t.setSelectOnHover=function(n){n?u.id&&(t.session.removeMarker(u.id),u.id=null):u.id=t.session.addMarker(u,"ace_line-hover","fullLine")};t.setSelectOnHover(!1);t.on("mousemove",function(n){if(!h){h=n;return}if(h.x!=n.x||h.y!=n.y){h=n;h.scrollTop=t.renderer.scrollTop;t.isMouseOver=!0;var i=h.getDocumentPosition().row;u.start.row!=i&&(u.id||t.setRow(i),b(i))}});t.renderer.on("beforeRender",function(){if(h&&u.start.row!=-1){h.$pos=null;var n=h.getDocumentPosition().row;u.id||t.setRow(n);b(n,!0)}});t.renderer.on("afterRender",function(){var u=t.getRow(),s=t.renderer.$textLayer,n=s.element.childNodes[u-s.config.firstRow],h=document.activeElement,f;n!==t.selectedNode&&t.selectedNode&&(i.removeCssClass(t.selectedNode,"ace_selected"),h.removeAttribute("aria-activedescendant"),t.selectedNode.removeAttribute(o),t.selectedNode.removeAttribute("id"));t.selectedNode=n;n&&(i.addCssClass(n,"ace_selected"),f=e(u),n.id=f,s.element.setAttribute("aria-activedescendant",f),h.setAttribute("aria-activedescendant",f),n.setAttribute("role",y),n.setAttribute("aria-roledescription",r("autocomplete.popup.item.aria-roledescription","item")),n.setAttribute("aria-label",t.getData(u).caption||t.getData(u).value),n.setAttribute("aria-setsize",t.data.length),n.setAttribute("aria-posinset",u+1),n.setAttribute("aria-describedby","doc-tooltip"),n.setAttribute(o,"true"))});w=function(){b(-1)};b=function(n,i){n!==u.start.row&&(u.start.row=u.end.row=n,i||t.session._emit("changeBackMarker"),t._emit("changeHoverMarker"))};t.getHoveredRow=function(){return u.start.row};l.addListener(t.container,"mouseout",function(){t.isMouseOver=!1;w()});t.on("hide",w);t.on("changeSelection",w);t.session.doc.getLength=function(){return t.data.length};t.session.doc.getLine=function(n){var i=t.data[n];return typeof i=="string"?i:i&&i.value||""};k=t.session.bgTokenizer;k.$tokenizeRow=function(n){function s(n,t){n&&u.push({type:(i.className||"")+(t||""),value:n})}var i=t.data[n],u=[],f,r,l,o;if(!i)return u;typeof i=="string"&&(i={value:i});f=i.caption||i.value||i.name;var a=f.toLowerCase(),h=(t.filterText||"").toLowerCase(),e=0,c=0;for(r=0;r<=h.length;r++)if(r!=c&&(i.matchMask&1<<r||r==h.length)){if(l=h.slice(c,r),c=r,o=a.indexOf(l,e),o==-1)continue;s(f.slice(e,o),"");e=o+l.length;s(f.slice(o,e),"completion-highlight")}return s(f.slice(e,f.length),""),u.push({type:"completion-spacer",value:" "}),i.meta&&u.push({type:"completion-meta",value:i.meta}),i.message&&u.push({type:"completion-message",value:i.message}),u};k.$updateOnChange=p;k.start=p;t.session.$computeWidth=function(){return this.screenWidth=0};t.isOpen=!1;t.isTopdown=!1;t.autoSelect=!0;t.filterText="";t.isMouseOver=!1;t.data=[];t.setData=function(n,i){t.filterText=i||"";t.setValue(a.stringRepeat("\n",n.length),-1);t.data=n||[];t.setRow(0)};t.getData=function(n){return t.data[n]};t.getRow=function(){return c.start.row};t.setRow=function(n){n=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,n));c.start.row!=n&&(t.selection.clearSelection(),c.start.row=c.end.row=n||0,t.session._emit("changeBackMarker"),t.moveCursorTo(n||0,0),t.isOpen&&t._signal("select"))};t.on("changeSelection",function(){t.isOpen&&t.setRow(t.selection.lead.row);t.renderer.scrollCursorIntoView()});return t.hide=function(){this.container.style.display="none";t.anchorPos=null;t.anchor=null;t.isOpen&&(t.isOpen=!1,this._signal("hide"))},t.tryShow=function(n,i,r,u){var a,o;if(!u&&t.isOpen&&t.anchorPos&&t.anchor&&t.anchorPos.top===n.top&&t.anchorPos.left===n.left&&t.anchor===r)return!0;var e=this.container,s=window.innerHeight,v=window.innerWidth,y=this.renderer,c=y.$maxLines*i*1.4,f={top:0,bottom:0,left:0},l=s-n.top-3*this.$borderSize-i,p=n.top-3*this.$borderSize;return(r||(r=p<=l||l>=c?"bottom":"top"),r==="top"?(f.bottom=n.top-this.$borderSize,f.top=f.bottom-c):r==="bottom"&&(f.top=n.top+i+this.$borderSize,f.bottom=f.top+c),a=f.top>=0&&f.bottom<=s,!u&&!a)?!1:(y.$maxPixelHeight=a?null:r==="top"?p:l,r==="top"?(e.style.top="",e.style.bottom=s-f.bottom+"px",t.isTopdown=!1):(e.style.top=f.top+"px",e.style.bottom="",t.isTopdown=!0),e.style.display="",o=n.left,o+e.offsetWidth>v&&(o=v-e.offsetWidth),e.style.left=o+"px",e.style.right="",t.isOpen||(t.isOpen=!0,this._signal("show"),h=null),t.anchorPos=n,t.anchor=r,!0)},t.show=function(n,t,i){this.tryShow(n,t,i?"bottom":undefined,!0)},t.goTo=function(n){var t=this.getRow(),i=this.session.getLength()-1;switch(n){case"up":t=t<=0?i:t-1;break;case"down":t=t>=i?-1:t+1;break;case"start":t=0;break;case"end":t=i}this.setRow(t)},t.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},t.$imageSize=0,t.$borderSize=1,t}return n}();i.importCssString('\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    margin-left: 0.9em;\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n.ace_autocomplete.ace_loading:after  {\n    content: "";\n    position: absolute;\n    top: 0px;\n    height: 2px;\n    width: 8%;\n    background: blue;\n    z-index: 100;\n    animation: ace_progress 3s infinite linear;\n    animation-delay: 300ms;\n    transform: translateX(-100%) scaleX(1);\n}\n@keyframes ace_progress {\n    0% { transform: translateX(-100%) scaleX(1) }\n    50% { transform: translateX(625%) scaleX(2) } \n    100% { transform: translateX(1500%) scaleX(3) } \n}\n@media (prefers-reduced-motion) {\n    .ace_autocomplete.ace_loading:after {\n        transform: translateX(625%) scaleX(2);\n        animation: none;\n     }\n}\n',"autocompletion.css",!1);t.AcePopup=p;t.$singleLineEditor=s;t.getAriaId=e});ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,t){"use strict";var i=function(){function n(n){this.editor=n;this.screenReaderDiv=document.createElement("div");this.screenReaderDiv.classList.add("ace_screenreader-only");this.editor.container.appendChild(this.screenReaderDiv)}return n.prototype.setScreenReaderContent=function(n){if(!this.popup&&this.editor.completer&&this.editor.completer.popup){this.popup=this.editor.completer.popup;this.popup.renderer.on("afterRender",function(){var u=this.popup.getRow(),i=this.popup.renderer.$textLayer,r=i.element.childNodes[u-i.config.firstRow],t,n;if(r){for(t="doc-tooltip ",n=0;n<this._lines.length;n++)t+="ace-inline-screenreader-line-".concat(n," ");r.setAttribute("aria-describedby",t)}}.bind(this))}while(this.screenReaderDiv.firstChild)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=n.split(/\r\n|\r|\n/);var t=this.createCodeBlock();this.screenReaderDiv.appendChild(t)},n.prototype.destroy=function(){this.screenReaderDiv.remove()},n.prototype.createCodeBlock=function(){var i=document.createElement("pre"),n,t,r;for(i.setAttribute("id","ace-inline-screenreader"),n=0;n<this._lines.length;n++)t=document.createElement("code"),t.setAttribute("id","ace-inline-screenreader-line-".concat(n)),r=document.createTextNode(this._lines[n]),t.appendChild(r),i.appendChild(t);return i},n}();t.AceInlineScreenReader=i});ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,t){"use strict";var i=n("../snippets").snippetManager,r=n("./inline_screenreader").AceInlineScreenReader,u=function(){function n(){this.editor=null}return n.prototype.show=function(n,t,u){if(u=u||"",n&&this.editor&&this.editor!==n&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!n||!t)return!1;this.inlineScreenReader||(this.inlineScreenReader=new r(n));var f=t.snippet?i.getDisplayTextForSnippet(n,t.snippet):t.value;return t.hideInlinePreview||!f||!f.startsWith(u)?!1:(this.editor=n,this.inlineScreenReader.setScreenReaderContent(f),f=f.slice(u.length),f===""?n.removeGhostText():n.setGhostText(f),!0)},n.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},n.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},n.prototype.destroy=function(){this.hide();this.editor=null;this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},n}();t.AceInline=u});ace.define("ace/autocomplete/util",["require","exports","module"],function(n,t){"use strict";t.parForEach=function(n,t,i){var f=0,u=n.length,r;for(u===0&&i(),r=0;r<u;r++)t(n[r],function(n,t){f++;f===u&&i(n,t)})};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(n,t,r){var f,u;for(r=r||i,f=[],u=t-1;u>=0;u--)if(r.test(n[u]))f.push(n[u]);else break;return f.reverse().join("")};t.retrieveFollowingIdentifier=function(n,t,r){var f,u;for(r=r||i,f=[],u=t;u<n.length;u++)if(r.test(n[u]))f.push(n[u]);else break;return f};t.getCompletionPrefix=function(n){var t=n.getCursorPosition(),r=n.session.getLine(t.row),i;return n.completers.forEach(function(n){n.identifierRegexps&&n.identifierRegexps.forEach(function(n){!i&&n&&(i=this.retrievePrecedingIdentifier(r,t.column,n))}.bind(this))}.bind(this)),i||this.retrievePrecedingIdentifier(r,t.column)};t.triggerAutocomplete=function(n,t){var t=t==null?n.session.getPrecedingCharacter():t;return n.completers.some(function(n){if(n.triggerCharacters&&Array.isArray(n.triggerCharacters))return n.triggerCharacters.includes(t)})}});ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,t){"use strict";var h=n("./keyboard/hash_handler").HashHandler,c=n("./autocomplete/popup").AcePopup,l=n("./autocomplete/inline").AceInline,a=n("./autocomplete/popup").getAriaId,u=n("./autocomplete/util"),f=n("./lib/lang"),v=n("./lib/dom"),y=n("./snippets").snippetManager,o=n("./config"),p=n("./lib/event"),w=n("./lib/scroll").preventParentScroll,s=function(n,t){t.completer&&t.completer.destroy()},i=function(){function n(){this.autoInsert=!1;this.autoSelect=!0;this.autoShown=!1;this.exactMatch=!1;this.inlineEnabled=!1;this.keyboardHandler=new h;this.keyboardHandler.bindKeys(this.commands);this.parentNode=null;this.setSelectOnHover=!1;this.hasSeen=new Set;this.showLoadingState=!1;this.stickySelectionDelay=500;this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.onLayoutChange=this.onLayoutChange.bind(this);this.changeTimer=f.delayedCall(function(){this.updateCompletions(!0)}.bind(this));this.tooltipTimer=f.delayedCall(this.updateDocTooltip.bind(this),50);this.popupTimer=f.delayedCall(this.$updatePopupPosition.bind(this),50);this.stickySelectionTimer=f.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay);this.$firstOpenTimer=f.delayedCall(function(){var t=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!t||this.editor.completers.length===0||(this.completions=new r(n.completionsForLoading),this.openPopup(this.editor,t.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(n,"completionsForLoading",{get:function(){return[{caption:o.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),n.prototype.$init=function(){this.popup=new c(this.parentNode||document.body||document.documentElement);this.popup.on("click",function(n){this.insertMatch();n.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.$onPopupShow.bind(this));this.popup.on("hide",this.$onHidePopup.bind(this));this.popup.on("select",this.$onPopupChange.bind(this));p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this));return this.popup},n.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new l,this.inlineRenderer},n.prototype.getPopup=function(){return this.popup||this.$init()},n.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide();this.hideDocTooltip();this.stickySelectionTimer.cancel();this.popupTimer.cancel();this.stickySelection=!1},n.prototype.$seen=function(n){if(!this.hasSeen.has(n)&&n&&n.completer&&n.completer.onSeen&&typeof n.completer.onSeen=="function"){n.completer.onSeen(this.editor,n);this.hasSeen.add(n)}},n.prototype.$onPopupChange=function(n){if(this.inlineRenderer&&this.inlineEnabled){var t=n?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(t),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule();this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},n.prototype.$updateGhostText=function(n){var t=this.base.row,i=this.base.column,r=this.editor.getCursorPosition().column,u=this.editor.session.getLine(t).slice(i,r);this.inlineRenderer.show(this.editor,n,u)?this.$seen(n):this.inlineRenderer.hide()},n.prototype.$onPopupRender=function(){var i=this.inlineRenderer&&this.inlineEnabled,n,t;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(n=this.popup.getFirstVisibleRow();n<=this.popup.getLastVisibleRow();n++)t=this.popup.getData(n),t&&(!i||t.hideInlinePreview)&&this.$seen(t)},n.prototype.$onPopupShow=function(n){this.$onPopupChange(n);this.stickySelection=!1;this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},n.prototype.observeLayoutChanges=function(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0});window.addEventListener("wheel",this.mousewheelListener);for(var n=this.editor.container.parentNode,t=[];n;)t.push(n),n.addEventListener("scroll",this.onLayoutChange,{passive:!0}),n=n.parentNode;this.$elements=t}},n.prototype.unObserveLayoutChanges=function(){var n=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0});window.removeEventListener("wheel",this.mousewheelListener);this.$elements&&this.$elements.forEach(function(t){t.removeEventListener("scroll",n.onLayoutChange,{passive:!0})});this.$elements=null},n.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition();this.updateDocTooltip()},n.prototype.$updatePopupPosition=function(){var r=this.editor,n=r.renderer,u=n.layerConfig.lineHeight,t=n.$cursorLayer.getPixelPosition(this.base,!0),f,i,e,o;(t.left-=this.popup.getTextLeftOffset(),f=r.container.getBoundingClientRect(),t.top+=f.top-n.layerConfig.offset,t.left+=f.left-r.renderer.scrollLeft,t.left+=n.gutterWidth,i={top:t.top,left:t.left},n.$ghostText&&n.$ghostTextWidget&&this.base.row===n.$ghostText.position.row&&(i.top+=n.$ghostTextWidget.el.offsetHeight),e=r.container.getBoundingClientRect().bottom-u,o=e<i.top?{top:e,left:i.left}:i,this.popup.tryShow(o,u,"bottom"))||this.popup.tryShow(t,u,"top")||this.popup.show(t,u)},n.prototype.openPopup=function(n,t,i){var u,f,r,e,o;this.$firstOpenTimer.cancel();this.popup||this.$init();this.inlineEnabled&&!this.inlineRenderer&&this.$initInline();this.popup.autoSelect=this.autoSelect;this.popup.setSelectOnHover(this.setSelectOnHover);u=this.popup.getRow();f=this.popup.data[u];this.popup.setData(this.completions.filtered,this.completions.filterText);this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:a(this.popup.getRow()),inline:this.inlineEnabled});n.keyBinding.addKeyboardHandler(this.keyboardHandler);this.stickySelection&&(r=this.popup.data.indexOf(f));r&&r!==-1||(r=0);this.popup.setRow(this.autoSelect?r:-1);r===u&&f!==this.completions.filtered[r]&&this.$onPopupChange();e=this.inlineRenderer&&this.inlineEnabled;r===u&&e&&(o=this.popup.getData(this.popup.getRow()),this.$updateGhostText(o));i||(this.popup.setTheme(n.getTheme()),this.popup.setFontSize(n.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip());this.changeTimer.cancel();this.observeLayoutChanges()},n.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener));this.$firstOpenTimer.cancel();this.changeTimer.cancel();this.hideDocTooltip();this.completionProvider&&this.completionProvider.detach();this.popup&&this.popup.isOpen&&this.popup.hide();this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender);this.base&&this.base.detach();this.activated=!1;this.completionProvider=this.completions=this.base=null;this.unObserveLayoutChanges()},n.prototype.changeListener=function(){var n=this.editor.selection.lead;(n.row!=this.base.row||n.column<this.base.column)&&this.detach();this.activated?this.changeTimer.schedule():this.detach()},n.prototype.blurListener=function(n){var t=document.activeElement,i=this.editor.textInput.getElement(),r=n.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(n.relatedTarget),u=this.popup&&this.popup.container;t==i||t.parentNode==u||r||t==this.tooltipNode||n.relatedTarget==i||this.detach()},n.prototype.mousedownListener=function(){this.detach()},n.prototype.mousewheelListener=function(){this.popup&&!this.popup.isMouseOver&&this.detach()},n.prototype.mouseOutListener=function(){this.popup.isOpen&&this.$updatePopupPosition()},n.prototype.goTo=function(n){this.popup.goTo(n)},n.prototype.insertMatch=function(n,t){if(n||(n=this.popup.getData(this.popup.getRow())),!n)return!1;if(n.value==="")return this.detach();var i=this.completions,r=this.getCompletionProvider().insertMatch(this.editor,n,i.filterText,t);return this.completions==i&&this.detach(),r},n.prototype.showPopup=function(n,t){this.editor&&this.detach();this.activated=!0;this.editor=n;n.completer!=this&&(n.completer&&n.completer.detach(),n.completer=this);n.on("changeSelection",this.changeListener);n.on("blur",this.blurListener);n.on("mousedown",this.mousedownListener);n.on("mousewheel",this.mousewheelListener);this.updateCompletions(!1,t)},n.prototype.getCompletionProvider=function(n){return this.completionProvider||(this.completionProvider=new e(n)),this.completionProvider},n.prototype.gatherCompletions=function(n,t){return this.getCompletionProvider().gatherCompletions(n,t)},n.prototype.updateCompletions=function(t,i){var e,f,o;if(t&&this.base&&this.completions){if(f=this.editor.getCursorPosition(),e=this.editor.session.getTextRange({start:this.base,end:f}),e==this.completions.filterText)return;if((this.completions.setFilter(e),!this.completions.filtered.length)||this.completions.filtered.length==1&&this.completions.filtered[0].value==e&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,e,t);return}if(i&&i.matches)return f=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(f.row,f.column),this.base.$insertRight=!0,this.completions=new r(i.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",t);var s=this.editor.getSession(),f=this.editor.getCursorPosition(),e=u.getCompletionPrefix(this.editor);this.base=s.doc.createAnchor(f.row,f.column-e.length);this.base.$insertRight=!0;o={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:e,pos:f}).provideCompletions(this.editor,o,function(i,f,e){var o=f.filtered,h=u.getCompletionPrefix(this.editor),s,c;if(this.$firstOpenTimer.cancel(),e){if(!o.length){if(s=!this.autoShown&&this.emptyMessage,typeof s=="function"&&(s=this.emptyMessage(h)),s){c=[{caption:s,value:""}];this.completions=new r(c);this.openPopup(this.editor,h,t);this.popup.renderer.setStyle("ace_loading",!1);this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(o.length==1&&o[0].value==h&&!o[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&o.length==1)return this.insertMatch(o[0])}this.completions=!e&&this.showLoadingState?new r(n.completionsForLoading.concat(o),f.filterText):f;this.openPopup(this.editor,h,t);this.popup.renderer.setStyle("ace_empty-message",!1);this.popup.renderer.setStyle("ace_loading",!e)}.bind(this));!this.showLoadingState||this.autoShown||this.popup&&this.popup.isOpen||this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},n.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},n.prototype.updateDocTooltip=function(){var f=this.popup,u=this.completions.filtered,t=u&&(u[f.getHoveredRow()]||u[f.getRow()]),n=null,e,i,r;if(!t||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(e=this.editor.completers.length,i=0;i<e;i++)if(r=this.editor.completers[i],r.getDocTooltip&&t.completerId===r.id){n=r.getDocTooltip(t);break}if(n||typeof t=="string"||(n=t),typeof n=="string"&&(n={docText:n}),!n||!(n.docHTML||n.docText))return this.hideDocTooltip();this.showDocTooltip(n)},n.prototype.showDocTooltip=function(n){var u,t,r,i;this.tooltipNode||(this.tooltipNode=v.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",w));u=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(u.isDark?"ace_dark ":"")+(u.cssClass||"");t=this.tooltipNode;n.docHTML?t.innerHTML=n.docHTML:n.docText&&(t.textContent=n.docText);t.parentNode||this.popup.container.appendChild(this.tooltipNode);r=this.popup;i=r.container.getBoundingClientRect();t.style.top=r.container.style.top;t.style.bottom=r.container.style.bottom;t.style.display="block";window.innerWidth-i.right<320?i.left<320?r.isTopdown?(t.style.top=i.bottom+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=r.container.offsetTop-t.offsetHeight+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right="")},n.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var n=this.tooltipNode;this.editor.isFocused()||document.activeElement!=n||this.editor.focus();this.tooltipNode=null;n.parentNode&&n.parentNode.removeChild(n)}},n.prototype.onTooltipClick=function(n){for(var t=n.target;t&&t!=this.tooltipNode;){if(t.nodeName=="A"&&t.href){t.rel="noreferrer";t.target="_blank";break}t=t.parentNode}},n.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var n=this.popup.container;n&&n.parentNode&&n.parentNode.removeChild(n)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",s),this.editor.completer=null);this.inlineRenderer=this.popup=this.editor=null},n}(),e,r;i.prototype.commands={Up:function(n){n.completer.goTo("up")},Down:function(n){n.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(n){n.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(n){n.completer.goTo("end")},Esc:function(n){n.completer.detach()},Return:function(n){return n.completer.insertMatch()},"Shift-Return":function(n){n.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(n){var t=n.completer.insertMatch();if(t||n.tabstopManager)return t;n.completer.goTo("down")},Backspace:function(n){n.execCommand("backspace");var t=u.getCompletionPrefix(n);!t&&n.completer&&n.completer.detach()},PageUp:function(n){n.completer.popup.gotoPageUp()},PageDown:function(n){n.completer.popup.gotoPageDown()}};i.for=function(n){if(n.completer instanceof i)return n.completer;if(n.completer&&(n.completer.destroy(),n.completer=null),o.get("sharedPopups"))i.$sharedInstance||(i.$sharedInstance=new i),n.completer=i.$sharedInstance;else{n.completer=new i;n.once("destroy",s)}return n.completer};i.startCommand={name:"startAutocomplete",exec:function(n,t){var r=i.for(n);r.autoInsert=!1;r.autoSelect=!0;r.autoShown=!1;r.showPopup(n,t);r.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};e=function(){function n(n){this.initialPosition=n;this.active=!0}return n.prototype.insertByIndex=function(n,t,i){return!this.completions||!this.completions.filtered?!1:this.insertMatch(n,this.completions.filtered[t],i)},n.prototype.insertMatch=function(n,t){var i,r,e,f,u;if(!t)return!1;if(n.startOperation({command:{name:"insertMatch"}}),t.completer&&t.completer.insertMatch)t.completer.insertMatch(n,t);else{if(!this.completions)return!1;if(i=this.completions.filterText.length,r=0,t.range&&t.range.start.row===t.range.end.row&&(i-=this.initialPosition.prefix.length,i+=this.initialPosition.pos.column-t.range.start.column,r+=t.range.end.column-this.initialPosition.pos.column),i||r)for(e=n.selection.getAllRanges?n.selection.getAllRanges():[n.getSelectionRange()],f=0;u=e[f];f++)u.start.column-=i,u.end.column+=r,n.session.remove(u);if(t.snippet?y.insertSnippet(n,t.snippet):this.$insertString(n,t),t.completer&&t.completer.onInsert&&typeof t.completer.onInsert=="function")t.completer.onInsert(n,t);t.command&&t.command==="startAutocomplete"&&n.execCommand(t.command)}return n.endOperation(),!0},n.prototype.$insertString=function(n,t){var i=t.value||t;n.execCommand("insertstring",i)},n.prototype.gatherCompletions=function(n,t){var f=n.getSession(),e=n.getCursorPosition(),o=u.getCompletionPrefix(n),i=[],r;return this.completers=n.completers,r=n.completers.length,n.completers.forEach(function(s){s.getCompletions(n,f,e,o,function(f,e){s.hideInlinePreview&&(e=e.map(function(n){return Object.assign(n,{hideInlinePreview:s.hideInlinePreview})}));!f&&e&&(i=i.concat(e));t(null,{prefix:u.getCompletionPrefix(n),matches:i,finished:--r==0})})}),!0},n.prototype.provideCompletions=function(n,t,i){var f=function(n){var u=n.prefix,f=n.matches;this.completions=new r(f);t.exactMatch&&(this.completions.exactMatch=!0);t.ignoreCaption&&(this.completions.ignoreCaption=!0);this.completions.setFilter(u);(n.finished||this.completions.filtered.length)&&i(null,this.completions,n.finished)}.bind(this),e=!0,u=null,o;this.gatherCompletions(n,function(n,t){if(this.active){n&&(i(n,[],!0),this.detach());var r=t.prefix;if(r.indexOf(t.prefix)===0){if(e){u=t;return}f(t)}}}.bind(this));e=!1;u&&(o=u,u=null,f(o))},n.prototype.detach=function(){this.active=!1;this.completers&&this.completers.forEach(function(n){typeof n.cancel=="function"&&n.cancel()})},n}();r=function(){function n(n,t){this.all=n;this.filtered=n;this.filterText=t||"";this.exactMatch=!1;this.ignoreCaption=!1}return n.prototype.setFilter=function(n){var t,i;t=n.length>this.filterText&&n.lastIndexOf(this.filterText,0)===0?this.filtered:this.all;this.filterText=n;t=this.filterCompletions(t,this.filterText);t=t.sort(function(n,t){return t.exactMatch-n.exactMatch||t.$score-n.$score||(n.caption||n.value).localeCompare(t.caption||t.value)});i=null;t=t.filter(function(n){var t=n.snippet||n.caption||n.value;return t===i?!1:(i=t,!0)});this.filtered=t},n.prototype.filterCompletions=function(n,t){var y=[],w=t.toUpperCase(),p=t.toLowerCase(),c,i,r,v,u,h,o;n:for(c=0;i=n[c];c++)if(r=!this.ignoreCaption&&i.caption||i.value||i.snippet,r){var f=-1,l=0,e=0,s,a;if(this.exactMatch){if(t!==r.substr(0,t.length))continue n}else if(v=r.toLowerCase().indexOf(p),v>-1)e=v;else for(u=0;u<t.length;u++){if(h=r.indexOf(p[u],f+1),o=r.indexOf(w[u],f+1),s=h>=0?o<0||h<o?h:o:o,s<0)continue n;a=s-f-1;a>0&&(f===-1&&(e+=10),e+=a,l=l|1<<u);f=s}i.matchMask=l;i.exactMatch=e?0:1;i.$score=(i.score||0)-e;y.push(i)}return y},n}();t.Autocomplete=i;t.CompletionProvider=e;t.FilteredList=r});ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,t){function u(n,t){var u=n.getTextRange(r.fromPoints({row:0,column:0},t));return u.split(i).length-1}function f(n,t){var e=u(n,t),f=n.getValue().split(i),r=Object.create(null),o=f[e];return f.forEach(function(n,t){if(n&&n!==o){var u=Math.abs(e-t),i=f.length-u;r[n]=r[n]?Math.max(i,r[n]):i}}),r}var r=n("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(n,t,i,r,u){var e=f(t,i),o=Object.keys(e);u(null,o.map(function(n){return{caption:n,value:n,score:e[n],meta:"local"}}))}});ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,t){"use strict";var i=n("../snippets").snippetManager,u=n("../autocomplete").Autocomplete,l=n("../config"),f=n("../lib/lang"),e=n("../autocomplete/util"),a=n("../autocomplete/text_completer"),o={getCompletions:function(n,t,i,r,u){if(t.$mode.completer)return t.$mode.completer.getCompletions(n,t,i,r,u);var e=n.session.getState(i.row),f=t.$mode.getCompletions(e,t,i,r);f=f.map(function(n){return n.completerId=o.id,n});u(null,f)},id:"keywordCompleter"},b=function(n){var t={};return n.replace(/\${(\d+)(:(.*?))?}/g,function(n,i,r,u){return t[i]=u||""}).replace(/\$(\d+?)/g,function(n,i){return t[i]})},s={getCompletions:function(n,t,r,u,f){var e=[],h=t.getTokenAt(r.row,r.column),c,o;h&&h.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?e.push("html-tag"):e=i.getActiveScopes(n);c=i.snippetMap;o=[];e.forEach(function(n){for(var t,i,r=c[n]||[],u=r.length;u--;)(t=r[u],i=t.name||t.tabTrigger,i)&&o.push({caption:i,snippet:t.content,meta:t.tabTrigger&&!t.name?t.tabTrigger+" ":"snippet",completerId:s.id})},this);f(null,o)},getDocTooltip:function(n){n.snippet&&!n.docHTML&&(n.docHTML=["<b>",f.escapeHTML(n.caption),"<\/b>","<hr><\/hr>",f.escapeHTML(b(n.snippet))].join(""))},id:"snippetCompleter"},r=[s,a,o];t.setCompleters=function(n){r.length=0;n&&r.push.apply(r,n)};t.addCompleter=function(n){r.push(n)};t.textCompleter=a;t.keyWordCompleter=o;t.snippetCompleter=s;var v={name:"expandSnippet",exec:function(n){return i.expandWithTab(n)},bindKey:"Tab"},h=function(n,t){c(t.session.$mode)},c=function(n){(typeof n=="string"&&(n=l.$modes[n]),n)&&(i.files||(i.files={}),k(n.$id,n.snippetFileId),n.modes&&n.modes.forEach(c))},k=function(n,t){t&&n&&!i.files[n]&&(i.files[n]={},l.loadModule(t,function(t){t&&(i.files[n]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(n){c("ace/mode/"+n)})))}))},y=function(n){var t=n.editor,r=t.completer&&t.completer.activated,i;n.command.name==="backspace"?r&&!e.getCompletionPrefix(t)&&t.completer.detach():n.command.name!=="insertstring"||r||(p=n,i=n.editor.$liveAutocompletionDelay,i?d.delay(i):w(n))},p,d=f.delayedCall(function(){w(p)},0),w=function(n){var t=n.editor,r=e.getCompletionPrefix(t),f=n.args,o=e.triggerAutocomplete(t,f),i;(r&&r.length>=t.$liveAutocompletionThreshold||o)&&(i=u.for(t),i.autoShown=!0,i.showPopup(t))},g=n("../editor").Editor;n("../config").defineOptions(g.prototype,"editor",{enableBasicAutocompletion:{set:function(n){n?(this.completers||(this.completers=Array.isArray(n)?n:r),this.commands.addCommand(u.startCommand)):this.commands.removeCommand(u.startCommand)},value:!1},enableLiveAutocompletion:{set:function(n){if(n){this.completers||(this.completers=Array.isArray(n)?n:r);this.commands.on("afterExec",y)}else this.commands.off("afterExec",y)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(n){if(n){this.commands.addCommand(v);this.on("changeMode",h);h(null,this)}else this.commands.removeCommand(v),this.off("changeMode",h)},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(n){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=n)})}(),function(){function n(n){return ace.edit(n)}function i(n,t){const i="ace/mode/"+t;n.session.setMode(i)}let t=null;const r=new Map;window.editorRender=function(t,r,u,f){const e=n(t);e.setTheme("ace/theme/"+u);e.setReadOnly(f);i(e,r);e.renderer.setScrollMargin(10,10);e.setOptions({autoScrollEditorIntoView:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0})};window.ace_set_theme=function(t,i){const r=n(t);r.setTheme("ace/theme/"+i)};window.ace_set_mode=function(t,r){const u=n(t);i(u,r)};window.ace_destroy=function(t){const i=n(t);i.destroy();i.container.remove();r.delete(t)};window.ace_set_readonly=function(t,i){const r=n(t);r.setReadOnly(i)};const u=(n,t)=>{let i;return function(...r){clearTimeout(i);i=setTimeout(()=>n.apply(this,r),t)}};window.GetCode=u(async(i,r)=>{const f=n(r),e=f.getSession().getValue();await i.invokeMethodAsync("ReceiveCode",e);const u=f.getSelectedText();u!==t&&(t=u,await i.invokeMethodAsync("ReceiveSelectedCode",u))},20)}();